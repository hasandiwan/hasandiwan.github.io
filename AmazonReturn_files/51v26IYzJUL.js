/*
 For license information please see desktop_bundle.js.LICENSE.txt */
(function(A){var n=window.AmazonUIPageJS||window.P,V=n._namespace||n.attributeErrors,O=V?V("RufusCriticalAssetsBuild@desktop","RufusCriticalAssetsBuild"):n;O.guardFatal?O.guardFatal(A)(O,window):O.execute(function(){A(O,window)})})(function(A,n,V){!function(){function O(a){var b=Array.isArray(a)?a:void 0;b||(b="undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"]?Array.from(a):void 0);if(!(a=b||V(a)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return a}function V(a,b){if(a){if("string"==typeof a)return sa(a,b);var g={}.toString.call(a).slice(8,-1);return"Object"===g&&a.constructor&&(g=a.constructor.name),"Map"===g||"Set"===g?Array.from(a):"Arguments"===g||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?sa(a,b):void 0}}function sa(a,b){(null==b||b>a.length)&&(b=a.length);for(var g=0,e=Array(b);g<b;g++)e[g]=a[g];return e}function Y(a){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Y(a)}function ta(a,b){for(var g=0;g<b.length;g++){var e=b[g];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,ua(e.key),e)}}function na(a,b,g){return(b=ua(b))in a?Object.defineProperty(a,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):a[b]=g,a}function ua(a){a:if("object"==Y(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=
Y(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==Y(a)?a:a+""}function Z(a){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Z(a)}function Pa(a,b){for(var g=0;g<b.length;g++){var e=b[g];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
Qa(e.key),e)}}function Qa(a){a:if("object"==Z(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=Z(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==Z(a)?a:a+""}function P(a){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},P(a)}function N(){function a(d,
f,l){return Object.defineProperty(d,f,{value:l,enumerable:!0,configurable:!0,writable:!0}),d[f]}function b(d,f,l,a){f=Object.create((f&&f.prototype instanceof e?f:e).prototype);a=new F(a||[]);return n(f,"_invoke",{value:u(d,l,a)}),f}function g(d,f,l){try{return{type:"normal",arg:d.call(f,l)}}catch(Q){return{type:"throw",arg:Q}}}function e(){}function c(){}function h(){}function k(d){["next","throw","return"].forEach(function(f){a(d,f,function(d){return this._invoke(f,d)})})}function m(d,f){function l(a,
b,c,e){a=g(d[a],d,b);if("throw"!==a.type){var v=a.arg;return(a=v.value)&&"object"==P(a)&&x.call(a,"__await")?f.resolve(a.__await).then(function(d){l("next",d,c,e)},function(d){l("throw",d,c,e)}):f.resolve(a).then(function(d){v.value=d;c(v)},function(d){return l("throw",d,c,e)})}e(a.arg)}var a;n(this,"_invoke",{value:function(d,b){function v(){return new f(function(f,a){l(d,b,f,a)})}return a=a?a.then(v,v):v()}})}function u(d,f,l){var a=A;return function(b,c){if(a===L)throw Error("Generator is already running");
if(a===G){if("throw"===b)throw c;return{value:q,done:!0}}l.method=b;for(l.arg=c;;){if(b=l.delegate)if(b=r(b,l)){if(b===w)continue;return b}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(a===A)throw a=G,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);a=L;b=g(d,f,l);if("normal"===b.type){if(a=l.done?G:E,b.arg===w)continue;return{value:b.arg,done:l.done}}"throw"===b.type&&(a=G,l.method="throw",l.arg=b.arg)}}}function r(d,f){var l=f.method,
a=d.iterator[l];if(a===q)return f.delegate=null,"throw"===l&&d.iterator.return&&(f.method="return",f.arg=q,r(d,f),"throw"===f.method)||"return"!==l&&(f.method="throw",f.arg=new TypeError("The iterator does not provide a '"+l+"' method")),w;l=g(a,d.iterator,f.arg);return"throw"===l.type?(f.method="throw",f.arg=l.arg,f.delegate=null,w):(l=l.arg)?l.done?(f[d.resultName]=l.value,f.next=d.nextLoc,"return"!==f.method&&(f.method="next",f.arg=q),f.delegate=null,w):l:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),
f.delegate=null,w)}function M(d){var f={tryLoc:d[0]};1 in d&&(f.catchLoc=d[1]);2 in d&&(f.finallyLoc=d[2],f.afterLoc=d[3]);this.tryEntries.push(f)}function I(d){var f=d.completion||{};f.type="normal";delete f.arg;d.completion=f}function F(d){this.tryEntries=[{tryLoc:"root"}];d.forEach(M,this);this.reset(!0)}function C(d){if(d||""===d){var f=d[H];if(f)return f.call(d);if("function"==typeof d.next)return d;if(!isNaN(d.length)){var l=-1;f=function v(){for(;++l<d.length;)if(x.call(d,l))return v.value=
d[l],v.done=!1,v;return v.value=q,v.done=!0,v};return f.next=f}}throw new TypeError(P(d)+" is not iterable");}N=function(){return p};var q,p={},aa=Object.prototype,x=aa.hasOwnProperty,n=Object.defineProperty||function(d,f,l){d[f]=l.value},y="function"==typeof Symbol?Symbol:{},H=y.iterator||"@@iterator",t=y.asyncIterator||"@@asyncIterator",K=y.toStringTag||"@@toStringTag";try{a({},"")}catch(d){a=function(d,l,a){return d[l]=a}}p.wrap=b;var A="suspendedStart",E="suspendedYield",L="executing",G="completed",
w={};y={};a(y,H,function(){return this});var z=Object.getPrototypeOf;(z=z&&z(z(C([]))))&&z!==aa&&x.call(z,H)&&(y=z);var B=h.prototype=e.prototype=Object.create(y);return c.prototype=h,n(B,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:c,configurable:!0}),c.displayName=a(h,K,"GeneratorFunction"),p.isGeneratorFunction=function(d){d="function"==typeof d&&d.constructor;return!!d&&(d===c||"GeneratorFunction"===(d.displayName||d.name))},p.mark=function(d){return Object.setPrototypeOf?
Object.setPrototypeOf(d,h):(d.__proto__=h,a(d,K,"GeneratorFunction")),d.prototype=Object.create(B),d},p.awrap=function(d){return{__await:d}},k(m.prototype),a(m.prototype,t,function(){return this}),p.AsyncIterator=m,p.async=function(d,f,l,a,v){void 0===v&&(v=Promise);var c=new m(b(d,f,l,a),v);return p.isGeneratorFunction(f)?c:c.next().then(function(d){return d.done?d.value:c.next()})},k(B),a(B,K,"Generator"),a(B,H,function(){return this}),a(B,"toString",function(){return"[object Generator]"}),p.keys=
function(d){var f=Object(d),l=[],a;for(a in f)l.push(a);return l.reverse(),function D(){for(;l.length;){var d=l.pop();if(d in f)return D.value=d,D.done=!1,D}return D.done=!0,D}},p.values=C,F.prototype={constructor:F,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(I),!d)for(var f in this)"t"===f.charAt(0)&&x.call(this,f)&&!isNaN(+f.slice(1))&&(this[f]=q)},stop:function(){this.done=!0;var d=this.tryEntries[0].completion;
if("throw"===d.type)throw d.arg;return this.rval},dispatchException:function(d){function f(f,a){return c.type="throw",c.arg=d,l.next=f,a&&(l.method="next",l.arg=q),!!a}if(this.done)throw d;for(var l=this,a=this.tryEntries.length-1;0<=a;--a){var b=this.tryEntries[a],c=b.completion;if("root"===b.tryLoc)return f("end");if(b.tryLoc<=this.prev){var g=x.call(b,"catchLoc"),e=x.call(b,"finallyLoc");if(g&&e){if(this.prev<b.catchLoc)return f(b.catchLoc,!0);if(this.prev<b.finallyLoc)return f(b.finallyLoc)}else if(g){if(this.prev<
b.catchLoc)return f(b.catchLoc,!0)}else{if(!e)throw Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return f(b.finallyLoc)}}}},abrupt:function(d,f){for(var l=this.tryEntries.length-1;0<=l;--l){var a=this.tryEntries[l];if(a.tryLoc<=this.prev&&x.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var b=a;break}}b&&("break"===d||"continue"===d)&&b.tryLoc<=f&&f<=b.finallyLoc&&(b=null);l=b?b.completion:{};return l.type=d,l.arg=f,b?(this.method="next",this.next=b.finallyLoc,w):this.complete(l)},
complete:function(d,f){if("throw"===d.type)throw d.arg;return"break"===d.type||"continue"===d.type?this.next=d.arg:"return"===d.type?(this.rval=this.arg=d.arg,this.method="return",this.next="end"):"normal"===d.type&&f&&(this.next=f),w},finish:function(d){for(var f=this.tryEntries.length-1;0<=f;--f){var a=this.tryEntries[f];if(a.finallyLoc===d)return this.complete(a.completion,a.afterLoc),I(a),w}},catch:function(d){for(var f=this.tryEntries.length-1;0<=f;--f){var a=this.tryEntries[f];if(a.tryLoc===
d){d=a.completion;if("throw"===d.type){var b=d.arg;I(a)}return b}}throw Error("illegal catch attempt");},delegateYield:function(d,f,a){return this.delegate={iterator:C(d),resultName:f,nextLoc:a},"next"===this.method&&(this.arg=q),w}},p}function va(a,b,g,e,c,h,k){try{var m=a[h](k),u=m.value}catch(r){return void g(r)}m.done?b(u):Promise.resolve(u).then(e,c)}function ia(a){return function(){var b=this,g=arguments;return new Promise(function(e,c){function h(a){va(m,e,c,h,k,"next",a)}function k(a){va(m,
e,c,h,k,"throw",a)}var m=a.apply(b,g);h(void 0)})}}function Sa(a,b){for(var g=0;g<b.length;g++){var e=b[g];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,Ta(e.key),e)}}function Ta(a){a:if("object"==P(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=P(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==P(a)?a:a+""}function R(a){return R="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},R(a)}function ba(){function a(d,f,a){return Object.defineProperty(d,f,{value:a,enumerable:!0,configurable:!0,writable:!0}),d[f]}function b(d,f,a,b){f=Object.create((f&&f.prototype instanceof e?f:e).prototype);b=new F(b||[]);return n(f,"_invoke",{value:u(d,a,b)}),f}function g(d,f,a){try{return{type:"normal",arg:d.call(f,a)}}catch(Q){return{type:"throw",
arg:Q}}}function e(){}function c(){}function h(){}function k(d){["next","throw","return"].forEach(function(f){a(d,f,function(d){return this._invoke(f,d)})})}function m(d,f){function a(l,b,c,e){l=g(d[l],d,b);if("throw"!==l.type){var v=l.arg;return(l=v.value)&&"object"==R(l)&&x.call(l,"__await")?f.resolve(l.__await).then(function(d){a("next",d,c,e)},function(d){a("throw",d,c,e)}):f.resolve(l).then(function(d){v.value=d;c(v)},function(d){return a("throw",d,c,e)})}e(l.arg)}var b;n(this,"_invoke",{value:function(d,
l){function c(){return new f(function(f,b){a(d,l,f,b)})}return b=b?b.then(c,c):c()}})}function u(d,f,a){var l=A;return function(b,c){if(l===L)throw Error("Generator is already running");if(l===G){if("throw"===b)throw c;return{value:q,done:!0}}a.method=b;for(a.arg=c;;){if(b=a.delegate)if(b=r(b,a)){if(b===w)continue;return b}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===A)throw l=G,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l=L;
b=g(d,f,a);if("normal"===b.type){if(l=a.done?G:E,b.arg===w)continue;return{value:b.arg,done:a.done}}"throw"===b.type&&(l=G,a.method="throw",a.arg=b.arg)}}}function r(d,a){var f=a.method,b=d.iterator[f];if(b===q)return a.delegate=null,"throw"===f&&d.iterator.return&&(a.method="return",a.arg=q,r(d,a),"throw"===a.method)||"return"!==f&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+f+"' method")),w;f=g(b,d.iterator,a.arg);return"throw"===f.type?(a.method="throw",a.arg=f.arg,
a.delegate=null,w):(f=f.arg)?f.done?(a[d.resultName]=f.value,a.next=d.nextLoc,"return"!==a.method&&(a.method="next",a.arg=q),a.delegate=null,w):f:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,w)}function M(d){var a={tryLoc:d[0]};1 in d&&(a.catchLoc=d[1]);2 in d&&(a.finallyLoc=d[2],a.afterLoc=d[3]);this.tryEntries.push(a)}function I(d){var a=d.completion||{};a.type="normal";delete a.arg;d.completion=a}function F(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(M,
this);this.reset(!0)}function C(a){if(a||""===a){var d=a[H];if(d)return d.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var b=-1;d=function v(){for(;++b<a.length;)if(x.call(a,b))return v.value=a[b],v.done=!1,v;return v.value=q,v.done=!0,v};return d.next=d}}throw new TypeError(R(a)+" is not iterable");}ba=function(){return p};var q,p={},aa=Object.prototype,x=aa.hasOwnProperty,n=Object.defineProperty||function(a,f,b){a[f]=b.value},y="function"==typeof Symbol?Symbol:{},H=y.iterator||
"@@iterator",t=y.asyncIterator||"@@asyncIterator",K=y.toStringTag||"@@toStringTag";try{a({},"")}catch(d){a=function(a,d,b){return a[d]=b}}p.wrap=b;var A="suspendedStart",E="suspendedYield",L="executing",G="completed",w={};y={};a(y,H,function(){return this});var z=Object.getPrototypeOf;(z=z&&z(z(C([]))))&&z!==aa&&x.call(z,H)&&(y=z);var B=h.prototype=e.prototype=Object.create(y);return c.prototype=h,n(B,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:c,configurable:!0}),c.displayName=
a(h,K,"GeneratorFunction"),p.isGeneratorFunction=function(a){a="function"==typeof a&&a.constructor;return!!a&&(a===c||"GeneratorFunction"===(a.displayName||a.name))},p.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,h):(d.__proto__=h,a(d,K,"GeneratorFunction")),d.prototype=Object.create(B),d},p.awrap=function(a){return{__await:a}},k(m.prototype),a(m.prototype,t,function(){return this}),p.AsyncIterator=m,p.async=function(a,f,l,c,e){void 0===e&&(e=Promise);var d=new m(b(a,f,l,
c),e);return p.isGeneratorFunction(f)?d:d.next().then(function(a){return a.done?a.value:d.next()})},k(B),a(B,K,"Generator"),a(B,H,function(){return this}),a(B,"toString",function(){return"[object Generator]"}),p.keys=function(a){var d=Object(a),b=[],c;for(c in d)b.push(c);return b.reverse(),function D(){for(;b.length;){var a=b.pop();if(a in d)return D.value=a,D.done=!1,D}return D.done=!0,D}},p.values=C,F.prototype={constructor:F,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,
this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(I),!a)for(var d in this)"t"===d.charAt(0)&&x.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function d(d,f){return g.type="throw",g.arg=a,b.next=d,f&&(b.method="next",b.arg=q),!!f}if(this.done)throw a;for(var b=this,c=this.tryEntries.length-1;0<=c;--c){var e=this.tryEntries[c],
g=e.completion;if("root"===e.tryLoc)return d("end");if(e.tryLoc<=this.prev){var h=x.call(e,"catchLoc"),k=x.call(e,"finallyLoc");if(h&&k){if(this.prev<e.catchLoc)return d(e.catchLoc,!0);if(this.prev<e.finallyLoc)return d(e.finallyLoc)}else if(h){if(this.prev<e.catchLoc)return d(e.catchLoc,!0)}else{if(!k)throw Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return d(e.finallyLoc)}}}},abrupt:function(a,f){for(var d=this.tryEntries.length-1;0<=d;--d){var b=this.tryEntries[d];
if(b.tryLoc<=this.prev&&x.call(b,"finallyLoc")&&this.prev<b.finallyLoc){var c=b;break}}c&&("break"===a||"continue"===a)&&c.tryLoc<=f&&f<=c.finallyLoc&&(c=null);d=c?c.completion:{};return d.type=a,d.arg=f,c?(this.method="next",this.next=c.finallyLoc,w):this.complete(d)},complete:function(a,f){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&f&&(this.next=f),
w},finish:function(a){for(var d=this.tryEntries.length-1;0<=d;--d){var b=this.tryEntries[d];if(b.finallyLoc===a)return this.complete(b.completion,b.afterLoc),I(b),w}},catch:function(a){for(var d=this.tryEntries.length-1;0<=d;--d){var b=this.tryEntries[d];if(b.tryLoc===a){a=b.completion;if("throw"===a.type){var c=a.arg;I(b)}return c}}throw Error("illegal catch attempt");},delegateYield:function(a,f,b){return this.delegate={iterator:C(a),resultName:f,nextLoc:b},"next"===this.method&&(this.arg=q),w}},
p}function wa(a,b,g,e,c,h,k){try{var m=a[h](k),u=m.value}catch(r){return void g(r)}m.done?b(u):Promise.resolve(u).then(e,c)}function xa(a){return function(){var b=this,g=arguments;return new Promise(function(e,c){function h(a){wa(m,e,c,h,k,"next",a)}function k(a){wa(m,e,c,h,k,"throw",a)}var m=a.apply(b,g);h(void 0)})}}function ya(a,b){for(var g=0;g<b.length;g++){var e=b[g];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,za(e.key),e)}}function Aa(a,
b,g){return(b=za(b))in a?Object.defineProperty(a,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):a[b]=g,a}function za(a){a:if("object"==R(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=R(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==R(a)?a:a+""}function ca(a){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&
a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ca(a)}function Ba(a,b){for(var g=0;g<b.length;g++){var e=b[g];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,Ca(e.key),e)}}function Ca(a){a:if("object"==ca(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=ca(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==ca(a)?a:a+""}function da(a){return da=
"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},da(a)}function Da(a,b){for(var g=0;g<b.length;g++){var e=b[g];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,Ea(e.key),e)}}function W(a,b,g){return(b=Ea(b))in a?Object.defineProperty(a,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):a[b]=
g,a}function Ea(a){a:if("object"==da(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=da(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==da(a)?a:a+""}function ea(a){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ea(a)}function Ua(a){a:if("object"==
ea(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=ea(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==ea(a)?a:a+""}function fa(a){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},fa(a)}function Va(a){a:if("object"==fa(a)&&a){var b=a[Symbol.toPrimitive];
if(void 0!==b){a=b.call(a,"string");if("object"!=fa(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==fa(a)?a:a+""}function S(a){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},S(a)}function T(){function a(a,f,b){return Object.defineProperty(a,f,{value:b,enumerable:!0,configurable:!0,
writable:!0}),a[f]}function b(a,f,b,c){f=Object.create((f&&f.prototype instanceof e?f:e).prototype);c=new F(c||[]);return t(f,"_invoke",{value:u(a,b,c)}),f}function g(a,f,b){try{return{type:"normal",arg:a.call(f,b)}}catch(Q){return{type:"throw",arg:Q}}}function e(){}function c(){}function h(){}function k(d){["next","throw","return"].forEach(function(f){a(d,f,function(a){return this._invoke(f,a)})})}function m(a,f){function d(b,l,c,e){b=g(a[b],a,l);if("throw"!==b.type){var h=b.arg;return(b=h.value)&&
"object"==S(b)&&x.call(b,"__await")?f.resolve(b.__await).then(function(a){d("next",a,c,e)},function(a){d("throw",a,c,e)}):f.resolve(b).then(function(a){h.value=a;c(h)},function(a){return d("throw",a,c,e)})}e(b.arg)}var b;t(this,"_invoke",{value:function(a,l){function c(){return new f(function(f,b){d(a,l,f,b)})}return b=b?b.then(c,c):c()}})}function u(a,f,b){var d=E;return function(c,l){if(d===L)throw Error("Generator is already running");if(d===G){if("throw"===c)throw l;return{value:q,done:!0}}b.method=
c;for(b.arg=l;;){if(c=b.delegate)if(c=r(c,b)){if(c===w)continue;return c}if("next"===b.method)b.sent=b._sent=b.arg;else if("throw"===b.method){if(d===E)throw d=G,b.arg;b.dispatchException(b.arg)}else"return"===b.method&&b.abrupt("return",b.arg);d=L;c=g(a,f,b);if("normal"===c.type){if(d=b.done?G:J,c.arg===w)continue;return{value:c.arg,done:b.done}}"throw"===c.type&&(d=G,b.method="throw",b.arg=c.arg)}}}function r(a,f){var d=f.method,b=a.iterator[d];if(b===q)return f.delegate=null,"throw"===d&&a.iterator.return&&
(f.method="return",f.arg=q,r(a,f),"throw"===f.method)||"return"!==d&&(f.method="throw",f.arg=new TypeError("The iterator does not provide a '"+d+"' method")),w;d=g(b,a.iterator,f.arg);return"throw"===d.type?(f.method="throw",f.arg=d.arg,f.delegate=null,w):(d=d.arg)?d.done?(f[a.resultName]=d.value,f.next=a.nextLoc,"return"!==f.method&&(f.method="next",f.arg=q),f.delegate=null,w):d:(f.method="throw",f.arg=new TypeError("iterator result is not an object"),f.delegate=null,w)}function M(a){var d={tryLoc:a[0]};
1 in a&&(d.catchLoc=a[1]);2 in a&&(d.finallyLoc=a[2],d.afterLoc=a[3]);this.tryEntries.push(d)}function I(a){var d=a.completion||{};d.type="normal";delete d.arg;a.completion=d}function F(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(M,this);this.reset(!0)}function C(a){if(a||""===a){var d=a[H];if(d)return d.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var b=-1;d=function v(){for(;++b<a.length;)if(x.call(a,b))return v.value=a[b],v.done=!1,v;return v.value=q,v.done=!0,v};return d.next=
d}}throw new TypeError(S(a)+" is not iterable");}T=function(){return p};var q,p={},n=Object.prototype,x=n.hasOwnProperty,t=Object.defineProperty||function(a,b,c){a[b]=c.value},y="function"==typeof Symbol?Symbol:{},H=y.iterator||"@@iterator",A=y.asyncIterator||"@@asyncIterator",K=y.toStringTag||"@@toStringTag";try{a({},"")}catch(d){a=function(a,d,b){return a[d]=b}}p.wrap=b;var E="suspendedStart",J="suspendedYield",L="executing",G="completed",w={};y={};a(y,H,function(){return this});var z=Object.getPrototypeOf;
(z=z&&z(z(C([]))))&&z!==n&&x.call(z,H)&&(y=z);var B=h.prototype=e.prototype=Object.create(y);return c.prototype=h,t(B,"constructor",{value:h,configurable:!0}),t(h,"constructor",{value:c,configurable:!0}),c.displayName=a(h,K,"GeneratorFunction"),p.isGeneratorFunction=function(a){a="function"==typeof a&&a.constructor;return!!a&&(a===c||"GeneratorFunction"===(a.displayName||a.name))},p.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,h):(d.__proto__=h,a(d,K,"GeneratorFunction")),
d.prototype=Object.create(B),d},p.awrap=function(a){return{__await:a}},k(m.prototype),a(m.prototype,A,function(){return this}),p.AsyncIterator=m,p.async=function(a,f,c,e,g){void 0===g&&(g=Promise);var d=new m(b(a,f,c,e),g);return p.isGeneratorFunction(f)?d:d.next().then(function(a){return a.done?a.value:d.next()})},k(B),a(B,K,"Generator"),a(B,H,function(){return this}),a(B,"toString",function(){return"[object Generator]"}),p.keys=function(a){var d=Object(a),b=[],c;for(c in d)b.push(c);return b.reverse(),
function D(){for(;b.length;){var a=b.pop();if(a in d)return D.value=a,D.done=!1,D}return D.done=!0,D}},p.values=C,F.prototype={constructor:F,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(I),!a)for(var d in this)"t"===d.charAt(0)&&x.call(this,d)&&!isNaN(+d.slice(1))&&(this[d]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},
dispatchException:function(a){function d(d,f){return g.type="throw",g.arg=a,b.next=d,f&&(b.method="next",b.arg=q),!!f}if(this.done)throw a;for(var b=this,c=this.tryEntries.length-1;0<=c;--c){var e=this.tryEntries[c],g=e.completion;if("root"===e.tryLoc)return d("end");if(e.tryLoc<=this.prev){var h=x.call(e,"catchLoc"),k=x.call(e,"finallyLoc");if(h&&k){if(this.prev<e.catchLoc)return d(e.catchLoc,!0);if(this.prev<e.finallyLoc)return d(e.finallyLoc)}else if(h){if(this.prev<e.catchLoc)return d(e.catchLoc,
!0)}else{if(!k)throw Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return d(e.finallyLoc)}}}},abrupt:function(a,b){for(var d=this.tryEntries.length-1;0<=d;--d){var f=this.tryEntries[d];if(f.tryLoc<=this.prev&&x.call(f,"finallyLoc")&&this.prev<f.finallyLoc){var c=f;break}}c&&("break"===a||"continue"===a)&&c.tryLoc<=b&&b<=c.finallyLoc&&(c=null);d=c?c.completion:{};return d.type=a,d.arg=b,c?(this.method="next",this.next=c.finallyLoc,w):this.complete(d)},complete:function(a,
b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),w},finish:function(a){for(var d=this.tryEntries.length-1;0<=d;--d){var b=this.tryEntries[d];if(b.finallyLoc===a)return this.complete(b.completion,b.afterLoc),I(b),w}},catch:function(a){for(var d=this.tryEntries.length-1;0<=d;--d){var b=this.tryEntries[d];if(b.tryLoc===a){a=b.completion;if("throw"===
a.type){var c=a.arg;I(b)}return c}}throw Error("illegal catch attempt");},delegateYield:function(a,b,c){return this.delegate={iterator:C(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),w}},p}function Fa(a,b,g,e,c,h,k){try{var m=a[h](k),u=m.value}catch(r){return void g(r)}m.done?b(u):Promise.resolve(u).then(e,c)}function oa(a){return function(){var b=this,g=arguments;return new Promise(function(e,c){function h(a){Fa(m,e,c,h,k,"next",a)}function k(a){Fa(m,e,c,h,k,"throw",a)}var m=a.apply(b,
g);h(void 0)})}}function pa(a,b,g){return(b=Ga(b))in a?Object.defineProperty(a,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):a[b]=g,a}function Ga(a){a:if("object"==S(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=S(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==S(a)?a:a+""}function ha(a){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ha(a)}function X(a,b,g){return(b=Ha(b))in a?Object.defineProperty(a,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):a[b]=g,a}function Ha(a){a:if("object"==ha(a)&&a){var b=a[Symbol.toPrimitive];if(void 0!==b){a=b.call(a,"string");if("object"!=ha(a))break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}return"symbol"==ha(a)?a:a+""}function ja(a){return ja="function"==
typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ja(a)}function qa(){function a(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}),a[b]}function b(a,b,c,g){b=Object.create((b&&b.prototype instanceof e?b:e).prototype);g=new F(g||[]);return t(b,"_invoke",{value:u(a,c,g)}),b}function g(a,b,c){try{return{type:"normal",arg:a.call(b,
c)}}catch(Q){return{type:"throw",arg:Q}}}function e(){}function c(){}function h(){}function k(d){["next","throw","return"].forEach(function(b){a(d,b,function(a){return this._invoke(b,a)})})}function m(a,b){function d(c,f,e,l){c=g(a[c],a,f);if("throw"!==c.type){var h=c.arg;return(c=h.value)&&"object"==ja(c)&&x.call(c,"__await")?b.resolve(c.__await).then(function(a){d("next",a,e,l)},function(a){d("throw",a,e,l)}):b.resolve(c).then(function(a){h.value=a;e(h)},function(a){return d("throw",a,e,l)})}l(c.arg)}
var c;t(this,"_invoke",{value:function(a,f){function e(){return new b(function(b,c){d(a,f,b,c)})}return c=c?c.then(e,e):e()}})}function u(a,b,c){var d=E;return function(f,e){if(d===L)throw Error("Generator is already running");if(d===G){if("throw"===f)throw e;return{value:q,done:!0}}c.method=f;for(c.arg=e;;){if(f=c.delegate)if(f=r(f,c)){if(f===w)continue;return f}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(d===E)throw d=G,c.arg;c.dispatchException(c.arg)}else"return"===
c.method&&c.abrupt("return",c.arg);d=L;f=g(a,b,c);if("normal"===f.type){if(d=c.done?G:J,f.arg===w)continue;return{value:f.arg,done:c.done}}"throw"===f.type&&(d=G,c.method="throw",c.arg=f.arg)}}}function r(a,b){var d=b.method,c=a.iterator[d];if(c===q)return b.delegate=null,"throw"===d&&a.iterator.return&&(b.method="return",b.arg=q,r(a,b),"throw"===b.method)||"return"!==d&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+d+"' method")),w;d=g(c,a.iterator,b.arg);return"throw"===
d.type?(b.method="throw",b.arg=d.arg,b.delegate=null,w):(d=d.arg)?d.done?(b[a.resultName]=d.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=null,w):d:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,w)}function M(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function I(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function F(a){this.tryEntries=
[{tryLoc:"root"}];a.forEach(M,this);this.reset(!0)}function C(a){if(a||""===a){var b=a[H];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var d=-1;b=function v(){for(;++d<a.length;)if(x.call(a,d))return v.value=a[d],v.done=!1,v;return v.value=q,v.done=!0,v};return b.next=b}}throw new TypeError(ja(a)+" is not iterable");}qa=function(){return p};var q,p={},n=Object.prototype,x=n.hasOwnProperty,t=Object.defineProperty||function(a,b,c){a[b]=c.value},y="function"==typeof Symbol?
Symbol:{},H=y.iterator||"@@iterator",A=y.asyncIterator||"@@asyncIterator",K=y.toStringTag||"@@toStringTag";try{a({},"")}catch(d){a=function(a,b,d){return a[b]=d}}p.wrap=b;var E="suspendedStart",J="suspendedYield",L="executing",G="completed",w={};y={};a(y,H,function(){return this});var z=Object.getPrototypeOf;(z=z&&z(z(C([]))))&&z!==n&&x.call(z,H)&&(y=z);var B=h.prototype=e.prototype=Object.create(y);return c.prototype=h,t(B,"constructor",{value:h,configurable:!0}),t(h,"constructor",{value:c,configurable:!0}),
c.displayName=a(h,K,"GeneratorFunction"),p.isGeneratorFunction=function(a){a="function"==typeof a&&a.constructor;return!!a&&(a===c||"GeneratorFunction"===(a.displayName||a.name))},p.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,h):(b.__proto__=h,a(b,K,"GeneratorFunction")),b.prototype=Object.create(B),b},p.awrap=function(a){return{__await:a}},k(m.prototype),a(m.prototype,A,function(){return this}),p.AsyncIterator=m,p.async=function(a,c,e,g,h){void 0===h&&(h=Promise);var d=
new m(b(a,c,e,g),h);return p.isGeneratorFunction(c)?d:d.next().then(function(a){return a.done?a.value:d.next()})},k(B),a(B,K,"Generator"),a(B,H,function(){return this}),a(B,"toString",function(){return"[object Generator]"}),p.keys=function(a){var b=Object(a),d=[],c;for(c in b)d.push(c);return d.reverse(),function D(){for(;d.length;){var a=d.pop();if(a in b)return D.value=a,D.done=!1,D}return D.done=!0,D}},p.values=C,F.prototype={constructor:F,reset:function(a){if(this.prev=0,this.next=0,this.sent=
this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(I),!a)for(var b in this)"t"===b.charAt(0)&&x.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,c){return g.type="throw",g.arg=a,d.next=b,c&&(d.method="next",d.arg=q),!!c}if(this.done)throw a;for(var d=this,c=this.tryEntries.length-1;0<=c;--c){var e=
this.tryEntries[c],g=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var h=x.call(e,"catchLoc"),k=x.call(e,"finallyLoc");if(h&&k){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!k)throw Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var d=this.tryEntries.length-1;0<=d;--d){var c=
this.tryEntries[d];if(c.tryLoc<=this.prev&&x.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var e=c;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);d=e?e.completion:{};return d.type=a,d.arg=b,e?(this.method="next",this.next=e.finallyLoc,w):this.complete(d)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&
b&&(this.next=b),w},finish:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var d=this.tryEntries[b];if(d.finallyLoc===a)return this.complete(d.completion,d.afterLoc),I(d),w}},catch:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var d=this.tryEntries[b];if(d.tryLoc===a){a=d.completion;if("throw"===a.type){var c=a.arg;I(d)}return c}}throw Error("illegal catch attempt");},delegateYield:function(a,b,c){return this.delegate={iterator:C(a),resultName:b,nextLoc:c},"next"===this.method&&
(this.arg=q),w}},p}function Ia(a,b,g,e,c,h,k){try{var m=a[h](k),u=m.value}catch(r){return void g(r)}m.done?b(u):Promise.resolve(u).then(e,c)}var E=function(a,b){if(!(this instanceof E))return new E(a,b);this.url=a;b=b||{};this.headers=b.headers||{};this.payload=void 0!==b.payload?b.payload:"";this.method=b.method||this.payload&&"POST"||"GET";this.withCredentials=!!b.withCredentials;this.debug=!!b.debug;this.FIELD_SEPARATOR=":";this.listeners={};this.xhr=null;this.readyState=E.INITIALIZING;this.progress=
0;this.lastEventId=this.chunk="";this.addEventListener=function(a,b){void 0===this.listeners[a]&&(this.listeners[a]=[]);-1===this.listeners[a].indexOf(b)&&this.listeners[a].push(b)};this.removeEventListener=function(a,b){if(void 0!==this.listeners[a]){var c=[];this.listeners[a].forEach(function(a){a!==b&&c.push(a)});0===c.length?delete this.listeners[a]:this.listeners[a]=c}};this.dispatchEvent=function(a){if(!a)return!0;this.debug&&console.debug(a);a.source=this;var b="on"+a.type;return(!this.hasOwnProperty(b)||
(this[b].call(this,a),!a.defaultPrevented))&&(!this.listeners[a.type]||this.listeners[a.type].every(function(b){return b(a),!a.defaultPrevented}))};this._markClosed=function(){this.xhr=null;this.progress=0;this.chunk="";this._setReadyState(E.CLOSED)};this._setReadyState=function(a){var b=new CustomEvent("readystatechange");this.readyState=b.readyState=a;this.dispatchEvent(b)};this._onStreamFailure=function(a){var b=new CustomEvent("error");b.responseCode=a.currentTarget.status;b.data=a.currentTarget.response;
this.dispatchEvent(b);this._markClosed()};this._onStreamAbort=function(){this.dispatchEvent(new CustomEvent("abort"));this._markClosed()};this._onStreamProgress=function(a){if(this.xhr)if(200>this.xhr.status||300<=this.xhr.status)this._onStreamFailure(a);else{a=this.xhr.responseText.substring(this.progress);this.progress+=a.length;a=(this.chunk+a).split(/(\r\n\r\n|\r\r|\n\n)/g);var b=a.pop();a.forEach(function(a){0<a.trim().length&&this.dispatchEvent(this._parseEventChunk(a))}.bind(this));this.chunk=
b}};this._onStreamLoaded=function(a){this._onStreamProgress(a);this.dispatchEvent(this._parseEventChunk(this.chunk));this.chunk="";this._markClosed()};this._parseEventChunk=function(a){if(!a||0===a.length)return null;this.debug&&console.debug(a);var b={id:null,retry:null,data:null,event:null};a.split(/\n|\r\n|\r/).forEach(function(a){var c=a.indexOf(this.FIELD_SEPARATOR);if(0<c){var e=" "===a[c+1]?2:1;var g=a.substring(0,c);a=a.substring(c+e)}else{if(!(0>c))return;g=a;a=""}g in b&&("data"===g&&null!==
b[g]?b.data+="\n"+a:b[g]=a)}.bind(this));null!==b.id&&(this.lastEventId=b.id);a=new CustomEvent(b.event||"message");return a.id=b.id,a.data=b.data||"",a.lastEventId=this.lastEventId,a};this._onReadyStateChange=function(){if(this.xhr&&this.xhr.readyState===XMLHttpRequest.HEADERS_RECEIVED){var a,b={},c=function(a){var b="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!b){if(Array.isArray(a)||(b=V(a))){b&&(a=b);var c=0,e=function(){};return{s:e,n:function(){return c>=a.length?{done:!0}:
{done:!1,value:a[c++]}},e:function(a){throw a;},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var g,h=!0,k=!1;return{s:function(){b=b.call(a)},n:function(){var a=b.next();return h=a.done,a},e:function(a){k=!0;g=a},f:function(){try{h||null==b.return||b.return()}finally{if(k)throw g;}}}}(this.xhr.getAllResponseHeaders().trim().split("\r\n"));try{for(c.s();!(a=c.n()).done;){var h=O(a.value.split(":")),
k=h[0],m=h.slice(1).join(":").trim();b[k.trim().toLowerCase()]=b[k.trim().toLowerCase()]||[];b[k.trim().toLowerCase()].push(m)}}catch(u){c.e(u)}finally{c.f()}a=new CustomEvent("open");a.responseCode=this.xhr.status;a.headers=b;this.dispatchEvent(a);this._setReadyState(E.OPEN)}};this.stream=function(){if(!this.xhr){for(var a in this._setReadyState(E.CONNECTING),this.xhr=new XMLHttpRequest,this.xhr.addEventListener("progress",this._onStreamProgress.bind(this)),this.xhr.addEventListener("load",this._onStreamLoaded.bind(this)),
this.xhr.addEventListener("readystatechange",this._onReadyStateChange.bind(this)),this.xhr.addEventListener("error",this._onStreamFailure.bind(this)),this.xhr.addEventListener("abort",this._onStreamAbort.bind(this)),this.xhr.open(this.method,this.url),this.headers)this.xhr.setRequestHeader(a,this.headers[a]);0<this.lastEventId.length&&this.xhr.setRequestHeader("Last-Event-ID",this.lastEventId);this.xhr.withCredentials=this.withCredentials;this.xhr.send(this.payload)}};this.close=function(){this.readyState!==
E.CLOSED&&this.xhr.abort()};(void 0===b.start||b.start)&&this.stream()};E.INITIALIZING=-1;E.CONNECTING=0;E.OPEN=1;E.CLOSED=2;"undefined"!=typeof exports&&(exports.SSE=E);var Wa=function(a,b,g){return b&&ta(a.prototype,b),g&&ta(a,g),Object.defineProperty(a,"prototype",{writable:!1}),a}(function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");!0;na(this,"buildEventSource",function(b,e,c){return new E(b,{payload:JSON.stringify(e),method:"POST",headers:na(na({},"Content-Type",
"application/json"),"anti-csrftoken-a2z",c)})})});A.declare("rufus-common-modules",{rufusStreamingModule:new Wa});var J=function(b){return b.FATAL="FATAL",b.ERROR="ERROR",b.WARN="WARN",b.DEBUG="DEBUG",b}({}),ka=function(b){return b.ClickToATF="af",b.ClickToCF="cf",b.ClickToPageLoaded="ld",b.ClickToBodyBegin="bb",b.ClickToBodyEnd="be",b}({}),t=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");!0}return g=b,e=[{key:"logErrorWithLevelWithException",
value:function(b,e,g){g=g?"".concat(g," ").concat(e.message):"".concat(e.message);n.ueLogError&&b!=J.DEBUG?(b={logLevel:b,attribution:"rufus_critical",message:"error occurred with following message ".concat(g)},n.ueLogError(e,b)):console.error(e.message)}},{key:"logErrorWithLevel",value:function(b,e,g){n.ueLogError&&b!=J.DEBUG?(b={logLevel:b,attribution:"rufus_critical",message:"error occurred with following message: ".concat(e)},n.ueLogError(Error(e),b)):console.error(e);g&&this.addCount(g,1)}},
{key:"setCount",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;n.ue&&n.ue.count(b,c)}},{key:"getCount",value:function(b){return n.ue&&n.ue.count&&null!=n.ue.count(b)?n.ue.count(b):0}},{key:"addCount",value:function(b,e){this.setCount(b,this.getCount(b)+e)}},{key:"logEvent",value:function(b,e,g){var c;null===(c=n.ue)||void 0===c||c.event(b,e,g)}},{key:"sendCsmFeatureLatency",value:function(b,e){n.uex&&(e?n.uex(ka.ClickToPageLoaded,b,{wb:1},e):n.uex(ka.ClickToPageLoaded,
b,{wb:1}))}},{key:"logCsmFeatureLatency",value:function(b,e,g){n.uet&&(g?n.uet(b,e,{wb:1},g):n.uet(b,e,{wb:1}))}},{key:"fetchRequestIdFromCSMData",value:function(){return n.ue&&n.ue.id?n.ue.id:""}},{key:"widgetBodyBegin",value:function(c,e){b.logCsmFeatureLatency(ka.ClickToBodyBegin,c,e)}},{key:"widgetBodyEnd",value:function(c,e,g){e||b.logCsmFeatureLatency(ka.ClickToBodyEnd,c,g);b.sendCsmFeatureLatency(c,g)}}],e&&Pa(g,e),Object.defineProperty(g,"prototype",{writable:!1}),g;var g,e}(),Ja=function(){var b=
document.querySelectorAll('link[rel\x3d"stylesheet"]');if(!b||0===b.length)return null;for(var g=0;g<b.length;g++){var e=b[g],c;if(c=-1!==e.href.indexOf("RufusPanelWebAssetsBuild")){a:{for(c=e.parentElement;c;){if("nav-rufus-content"===c.id){c=!0;break a}c=c.parentElement}c=!1}c=!c}if(c)return e}return null},la=function(b){var g=document.getElementById("nav-flyout-rufus"),e=document.getElementById("nav-rufus-disco");g&&e&&b&&(g.setAttribute("data-state",b),e.setAttribute("data-state",b))},La=function(){function b(){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");!0}return g=b,e=[{key:"renderCLContent",value:(k=ia(N().mark(function r(b){var c,e,g,h,k,u,n,x=this,A=arguments;return N().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(c=!(1<A.length&&void 0!==A[1])||A[1],r.prev=1,e=document.querySelector(".nav-rufus-content"),(g=document.createElement("div")).innerHTML=b,h=Ka.getPanelCssUrl(),k=Ja(),u=h&&(q=h,C=void 0,(C=document.createElement("link")).rel="stylesheet",C.type="text/css",C.href=
q,C),n=c?"cache":"render_call",!k){r.next=15;break}return r.next=12,this.processCLContent(e,g,b);case 12:case 25:return r.abrupt("return",!1);case 15:if(!u){r.next=19;break}return r.abrupt("return",new Promise(function(c){u.onload=ia(N().mark(function L(){return N().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,x.processCLContent(e,g,b);case 2:c(!1);case 3:case "end":return h.stop()}},L)}));null==e||e.appendChild(u)}));case 19:return r.next=21,this.processCLContent(e,g,b);case 21:if(M=
void 0,"expanded"!==(null==(M=document.getElementById("nav-flyout-rufus"))?void 0:M.getAttribute("data-state"))){r.next=25;break}return t.logErrorWithLevel(J.ERROR,"RufusPanelWebAssets stylesheet element does not exist. Render source: ".concat(n),"rufus-panel-stylesheet-element-not-exists_"+n),r.abrupt("return",!0);case 26:r.next=32;break;case 28:throw r.prev=28,r.t0=r.catch(1),t.logErrorWithLevelWithException(J.ERROR,r.t0),r.t0;case 32:case "end":return r.stop()}var M,q,C},r,this,[[1,28]])})),function(b){return k.apply(this,
arguments)})},{key:"processCLContent",value:(h=ia(N().mark(function F(c,e,g){return N().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!c.querySelector(".rufus-container")){h.next=4;break}b.updateCSRFContentMetadata(c,e);h.next=6;break;case 4:return h.next=6,b.insertRufusContent(c,g);case 6:b.executeScriptsFromInnerHtmlContent(g);case 7:case "end":return h.stop()}},F)})),function(b,c,e){return h.apply(this,arguments)})},{key:"updateCSRFContentMetadata",value:function(b,c){b=b.querySelector('meta[name\x3d"anti-csrftoken-a2z"]');
c=c.querySelector('meta[name\x3d"anti-csrftoken-a2z"]');(c=null==c?void 0:c.getAttribute("content"))&&(null==b||b.setAttribute("content",c))}},{key:"insertRufusContent",value:(c=ia(N().mark(function F(c,e){var g;return N().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,b.appendStylesheetLinks(c,e);case 2:c.innerHTML+=e.replace(/<script[\s\S]*?<\/script>/gi,"").replace(/<link[\s\S]*?>/gi,""),(g=c.querySelector("#rufus-conversation-container"))&&(g.scrollTop=g.scrollHeight);case 5:case "end":return h.stop()}},
F)})),function(b,e){return c.apply(this,arguments)})},{key:"appendStylesheetLinks",value:function(b,c){return new Promise(function(e){var g=document.createElement("div");g.innerHTML=c;g=Array.from(g.querySelectorAll("link[rel\x3d'stylesheet']")).filter(function(b){var c;return!(null!==(c=b.getAttribute("href"))&&void 0!==c&&c.includes("RufusPanelWebAssetsBuild"))}).filter(function(b,c,e){return c===e.findIndex(function(c){return c.href===b.href})});var h=0,k=g.length;0!==k?g.forEach(function(c){c.onload=
function(){++h===k&&e()};c.onerror=function(){var b="Error loading stylesheet: ".concat(c.href,".");t.logErrorWithLevel(J.ERROR,b);++h===k&&e()};b.appendChild(c)}):e()})}},{key:"executeScriptsFromInnerHtmlContent",value:function(b){var c=document.createElement("div");c.innerHTML=b;b=c.querySelectorAll("script");null==b||b.forEach(function(b){var c=document.createElement("script");b.src&&(c.src=b.src);b.type&&(c.type=b.type);var e=b.getAttribute("data-a-state");null!=e&&c.setAttribute("data-a-state",
e);c.text=b.text;document.body.appendChild(c)});c.remove()}}],e&&Sa(g,e),Object.defineProperty(g,"prototype",{writable:!1}),g;var g,e,c,h,k}(),Xa=new Map([["expanded_minimized","rufus-panel-expanded-to-minimized"],["expanded_closed","rufus-panel-expanded-to-closed"],["minimized_expanded","rufus-panel-minimized-to-expanded"],["minimized_closed","rufus-panel-expanded-to-closed"],["closed_expanded","rufus-panel-closed-to-expanded"]]),Ya=new Map([["expanded_minimized","rufus-panel-expanded-to-minimized-movable"],
["expanded_closed","rufus-panel-expanded-to-closed-movable"],["minimized_expanded","rufus-panel-minimized-to-expanded-movable"],["minimized_closed","rufus-panel-expanded-to-closed"],["closed_expanded","rufus-panel-closed-to-expanded-movable"]]),ra=function(b,g,e){if(b===g)return!1;var c=document.getElementById("nav-flyout-rufus");return(b=(e?Ya:Xa).get(b+"_"+g)||"")?(c.className="rufus-panel-container",c.classList.add(b),!0):(t.logErrorWithLevel(J.ERROR,"Error adding animation to panel, animationClass should not be empty"),
!1)},Ka=function(){return b=function r(b,c){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");!0;Aa(this,"rufusFlyoutDiv",null);Aa(this,"rufusContent",null);this.uniqueId=b;this.movableCLEnabled=c;this.initializeElements()},g=[{key:"initializeElements",value:function(){this.rufusFlyoutDiv=document.getElementById("nav-flyout-rufus");this.rufusContent=document.querySelector(".nav-rufus-content")}},{key:"handleCacheContent",value:(h=xa(ba().mark(function u(){return ba().wrap(function(b){for(;;)switch(b.prev=
b.next){case 0:if(this.parseCacheContentFromStorage(),this.validateCache(),this.handlePanelState(),this.updatePanelCssInStorage(),!this.rufusPanelCache){b.next=7;break}return b.next=7,this.handlePanelContent();case 7:case "end":return b.stop()}},u,this)})),function(){return h.apply(this,arguments)})},{key:"parseCacheContentFromStorage",value:function(){var b=sessionStorage.getItem("rufus:panel");try{this.rufusPanelCache=b&&JSON.parse(b)}catch(r){b="Error parsing rufusPanelCacheString: ".concat(b,
". ").concat(r),t.logErrorWithLevel(J.ERROR,b)}}},{key:"updatePanelCssInStorage",value:function(){A.when("sp.load.rufus.panel.assets.js").execute(function(){var b=Ja();b&&b.href&&sessionStorage.setItem("rufus:panel_css",b.href)})}},{key:"validateCache",value:function(){var b,c,e;(null===(b=this.rufusPanelCache)||void 0===b||null===(b=b.metadata)||void 0===b?void 0:b.uniqueId)===this.uniqueId?(this.cachedContent=null===(c=this.rufusPanelCache)||void 0===c?void 0:c.content,this.cachedState=null===(e=
this.rufusPanelCache)||void 0===e?void 0:e.state):t.addCount("rufus-content-cache-uniqueId-mismatch",1)}},{key:"handlePanelState",value:function(){var b,c,e,g,h,C,q,p,t,x=n.innerHeight*Number(.5);x=null!==(b=null===(c=this.cachedState)||void 0===c?void 0:c.height)&&void 0!==b?b:x;b=null!==(e=null===(g=this.cachedState)||void 0===g?void 0:g.width)&&void 0!==e?e:320;e=null!==(h=null===(C=this.cachedState)||void 0===C?void 0:C.left)&&void 0!==h?h:0;h=null!==(q=null===(p=this.cachedState)||void 0===p?
void 0:p.bottom)&&void 0!==q?q:0;q=null===(t=this.cachedState)||void 0===t?void 0:t.viewState;la(q);this.handleAutoMinimize();this.setRufusCLFlyoutDimensions(x,b,e,h,200)}},{key:"handlePanelContent",value:(c=xa(ba().mark(function r(){return ba().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!this.rufusContent||!this.cachedContent){b.next=5;break}return b.next=3,La.renderCLContent(this.cachedContent,!0).then(function(b){t.addCount("rufus-content-cache-hit",1);b&&t.logErrorWithLevel(J.ERROR,
"stylesheet not found in innerHTML, while loading cache")}).catch(function(){t.addCount("rufus-content-cache-error",1)});case 3:b.next=6;break;case 5:t.addCount("rufus-content-cache-miss",1);case 6:case "end":return b.stop()}},r,this)})),function(){return c.apply(this,arguments)})},{key:"handleAutoMinimize",value:function(){if(this.cachedState){var b=this.cachedState;var c=this.movableCLEnabled;var e=b.viewState;var g;if(g=b.autoMinimize&&"expanded"===e){b=!1;g=sessionStorage.getItem("rufus:previous-page-url");
var h=n.location.href;g=!(null!==g&&g===h&&(b=!0),sessionStorage.setItem("rufus:previous-page-url",h),b)}g&&ra(e,"minimized",c)&&la("minimized")}}},{key:"setRufusCLFlyoutDimensions",value:function(b,c,e,g,h){this.setElementProperty(this.rufusFlyoutDiv,"--expanded-container-height",b+"px");this.setElementProperty(this.rufusFlyoutDiv,"--expanded-container-width",c+"px");this.setElementProperty(this.rufusFlyoutDiv,"--expanded-container-left",e+"px");this.setElementProperty(this.rufusFlyoutDiv,"--expanded-container-bottom",
g+"px");this.setElementProperty(this.rufusFlyoutDiv,"--minimized-container-width",h+"px")}},{key:"setElementProperty",value:function(b,c,e){b.style.setProperty(c,e)}}],e=[{key:"getPanelCssUrl",value:function(){return sessionStorage.getItem("rufus:panel_css")}}],g&&ya(b.prototype,g),e&&ya(b,e),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,g,e,c,h}(),ma,U=function(b,g,e){return g&&Ba(b.prototype,g),e&&Ba(b,e),Object.defineProperty(b,"prototype",{writable:!1}),b}(function g(){if(!(this instanceof
g))throw new TypeError("Cannot call a class as a function");!0});(ma=Ca(ma="RUFUS_RENDER_CALL_LATENCY"))in U?Object.defineProperty(U,ma,{value:"renderRufusPanel",enumerable:!0,configurable:!0,writable:!0}):U[ma]="renderRufusPanel";var Za=function(g,e){(new IntersectionObserver(function(c,g){for(var h=0;h<c.length;h++){var m=c[h],u="hidden"!==n.getComputedStyle(m.target).visibility;m.isIntersecting&&u&&(e(),g.disconnect())}},{root:null,rootMargin:"0px",threshold:1})).observe(g)},$a=function(g,e,c){return e&&
Da(g.prototype,e),c&&Da(g,c),Object.defineProperty(g,"prototype",{writable:!1}),g}(function h(e,c){var k=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");!0;W(this,"hasExecuted",!1);W(this,"timeoutId",null);W(this,"executedByTimeout",!1);W(this,"schedule",function(){k.timeoutId=setTimeout(function(){k.executedByTimeout=!0;k.execute()},k.timeout)});W(this,"forceExecute",function(){k.timeoutId&&clearTimeout(k.timeoutId);k.execute()});W(this,"execute",function(){k.hasExecuted||
(k.hasExecuted=!0,k.func(k.executedByTimeout))});this.func=e;this.timeout=c}),ab=function(){return function(e,c){if(c)for(var h=e.prototype,k=0;k<c.length;k++){var m=c[k];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);Object.defineProperty(h,Ua(m.key),m)}return Object.defineProperty(e,"prototype",{writable:!1}),e}(function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0;this.retries=0},[{key:"makeRenderCall",value:function(){var c=
this;return new Promise(function(h,k){t.widgetBodyBegin(U.RUFUS_RENDER_CALL_LATENCY);var m=new XMLHttpRequest;m.open("GET","/rufus/cl/render?ref\x3dnl_cl_dsk_rend",!0);m.onload=function(){return c.onLoad(m,h,k)};m.onerror=function(){return c.onError(m,h,k)};m.send()})}},{key:"onLoad",value:function(c,h,k){200<=c.status&&300>c.status?h(c.responseText):504===c.status&&1>this.retries?(this.retries++,t.addCount("rufusRenderRetryOnTimeout:"+this.retries,1),this.makeRenderCall().then(h).catch(k)):(t.widgetBodyEnd(U.RUFUS_RENDER_CALL_LATENCY,
!0),this.renderErrorUI("Something went wrong. Try again later."),c="Server/client errors. Failed to fetch data for Rufus Card. Status Code: ".concat(c.status,",\n                 Status text: ").concat(c.statusText),t.logErrorWithLevel(J.ERROR,c),k(Error(c)))}},{key:"onError",value:function(c,h,k){(t.widgetBodyEnd(U.RUFUS_RENDER_CALL_LATENCY,!0),1>this.retries)?(this.retries++,t.addCount("rufusRenderRetryOnNetworkError:".concat(this.retries),1),this.makeRenderCall().then(h).catch(k)):(this.renderErrorUI("Something went wrong. Try again later."),
c="Network errors. Failed to fetch data for Rufus Card. Status Code: ".concat(c.status,",\n                 Status text: ").concat(c.statusText),t.logErrorWithLevel(J.ERROR,c),k(Error(c)))}},{key:"renderErrorUI",value:function(c){var h=document.querySelector(".nav-rufus-content"),k=document.createElement("div");k.classList.add("rufus-panel-error-message");k.innerHTML=c;h.appendChild(k)}}])}(),Ma=function(){return function(e,c,h){if(h)for(c=0;c<h.length;c++){var k=h[c];k.enumerable=k.enumerable||!1;
k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(e,Va(k.key),k)}return Object.defineProperty(e,"prototype",{writable:!1}),e}(function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");!0},0,[{key:"getPageType",value:function(){var c,h=document.getElementById("rufus-view-context");if(null!=h&&h.value)try{var k=JSON.parse(h.value)}catch(m){h="Error parsing viewContext ".concat(null==h?void 0:h.value," ").concat(m instanceof Error?"(".concat(m.message,
")"):""),t.logErrorWithLevel(J.ERROR,h)}return(null===(c=k)||void 0===c?void 0:c.pageType)||"Unknown"}},{key:"isExternalIngressLink",value:function(){var c=new URL(n.location.href),h=c.searchParams.get("rufus-action");c=c.searchParams.get("rufus-client");return!(!h||!c)}}])}(),Na={Detail:"dp-latency-marker",Search:"af",Gateway:"af",ShoppingCart:"cf"},bb=function(){return function(c,e){if(e)for(var h=c.prototype,m=0;m<e.length;m++){var u=e[m];u.enumerable=u.enumerable||!1;u.configurable=!0;"value"in
u&&(u.writable=!0);Object.defineProperty(h,Ga(u.key),u)}return Object.defineProperty(c,"prototype",{writable:!1}),c}(function k(e){var h=this;if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");!0;pa(this,"getCLContentFromRenderCall",function(){var e=h.fetchRufusTriggerMarker(h.pageType);if(e&&""!=e){t.widgetBodyBegin(e+"-delay");var k=new $a(h.makeRenderCallBasedOnPageType,5E3);k.schedule();A.when(e).execute(k.forceExecute)}else h.makeRenderCallBasedOnPageType()});pa(this,
"makeRenderCallBasedOnPageType",function(){var e=oa(T().mark(function I(e){var k,m,u,p;return T().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(k=h.fetchRufusTriggerMarker(h.pageType),e&&k&&(t.addCount("rufusRenderRequestOnTriggerMarkerTimeout",1),A.when(k).execute(function(){t.widgetBodyEnd(k+"-delay")})),n.prev=2,"Search"!==h.pageType&&"Detail"!==h.pageType&&!Ma.isExternalIngressLink()){n.next=10;break}return n.next=6,h.renderClient.makeRenderCall();case 6:m=n.sent;h.handleContentFromRenderResponse(m);
n.next=12;break;case 10:u=document.getElementById("nav-flyout-rufus"),Za(u,oa(T().mark(function Ra(){var e;return T().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,h.renderClient.makeRenderCall();case 2:e=k.sent,h.handleContentFromRenderResponse(e);case 4:case "end":return k.stop()}},Ra)})));case 12:n.next=18;break;case 14:n.prev=14,n.t0=n.catch(2),p="Error loading rufus content: "+n.t0,t.logErrorWithLevel(J.ERROR,p);case 18:case "end":return n.stop()}},I,null,[[2,14]])}));
return function(h){return e.apply(this,arguments)}}());pa(this,"fetchRufusTriggerMarker",function(e){return e&&e in Na?Na[e]:void 0});this.pageType=Ma.getPageType();this.renderClient=new ab;this.renderCallHandlerCallback=e},[{key:"handleContentFromRenderResponse",value:(e=oa(T().mark(function m(e){return T().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,La.renderCLContent(e,!1);case 2:t.widgetBodyEnd(U.RUFUS_RENDER_CALL_LATENCY),A.declare("rufus-container-fetched",{container:e}),
this.renderCallHandlerCallback();case 5:case "end":return k.stop()}},m,this)})),function(k){return e.apply(this,arguments)})}]);var e}(),cb=function(){return function(e,c){if(c)for(var h=e.prototype,k=0;k<c.length;k++){var m=c[k];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);Object.defineProperty(h,Ha(m.key),m)}return Object.defineProperty(e,"prototype",{writable:!1}),e}(function h(c){var k=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");
!0;X(this,"navbar",null);X(this,"rufusFlyoutDiv",null);X(this,"rufusIngressButton",null);X(this,"handleWindowResize",function(){k.isMobile&&k.rufusFlyoutDiv&&"expanded"===k.rufusFlyoutDiv.getAttribute("data-state")&&k.setRufusPanelPosition()});X(this,"handleWindowScroll",function(){k.isMobile&&k.rufusFlyoutDiv&&"expanded"===k.rufusFlyoutDiv.getAttribute("data-state")&&k.setRufusPanelPosition()});X(this,"handleRufusIngressButtonClick",function(){var c=k.rufusFlyoutDiv.getAttribute("data-state"),h=
"expanded"===c?"closed":"expanded";k.rufusIngressButton.setAttribute("aria-label","expanded"===h?"Close Rufus panel":"Open Rufus panel");k.isMobile&&"expanded"===h&&k.setRufusPanelPosition();ra(c,h,k.movableCLEnabled);la(h)});this.movableCLEnabled=c.movableCLEnabled;this.isMobile=c.isMobile;this.initializeElements();!this.isMobile&&this.navbar&&this.rufusFlyoutDiv?this.navbar.appendChild(this.rufusFlyoutDiv):this.isMobile&&this.rufusFlyoutDiv&&this.setRufusPanelPosition()},[{key:"initializeElements",
value:function(){this.navbar=document.getElementById("navbar-main");!this.navbar&&this.isMobile&&(this.navbar=document.getElementById("nav-main"));this.rufusFlyoutDiv=document.getElementById("nav-flyout-rufus");this.rufusIngressButton=document.getElementById("nav-rufus-disco")}},{key:"registerActionHandlers",value:function(){this.rufusIngressButton.addEventListener("click",this.handleRufusIngressButtonClick);this.isMobile&&(n.addEventListener("resize",this.handleWindowResize),n.addEventListener("scroll",
this.handleWindowScroll))}},{key:"unregisterActionHandlers",value:function(){this.rufusIngressButton.removeEventListener("click",this.handleRufusIngressButtonClick);this.isMobile&&(n.removeEventListener("resize",this.handleWindowResize),n.removeEventListener("scroll",this.handleWindowScroll))}},{key:"expandClView",value:function(){var c=this.rufusFlyoutDiv.getAttribute("data-state");this.isMobile&&this.setRufusPanelPosition();ra(c,"expanded",this.movableCLEnabled);la("expanded")}},{key:"setRufusPanelPosition",
value:function(){var c=document.querySelector("#nav-logobar");c&&this.rufusFlyoutDiv&&(c=c.getBoundingClientRect(),this.rufusFlyoutDiv.style.position="fixed",this.rufusFlyoutDiv.style.top="".concat(c.bottom,"px"),this.rufusFlyoutDiv.style.height="".concat(n.innerHeight-c.bottom,"px"))}}])}(),Oa=function(e,c,h){h();A.when(e).execute(function(e){e(c)})},db=function(e,c){A.declare("rufus-eligible",!0);A.declare("rufus-nav-only-treatment",e);var h=!1;A.declare("rufus-handle-stream",function(e){Oa("rufus-cl-handle-stream",
e,function(){h||(A.declare("rufus-cl-disable-default-initial-streaming",!0),h=!0);c.expandClView()})});A.declare("rufus-handle-expand",function(e){Oa("rufus-cl-handle-expand",e,function(){return c.expandClView()})})};A.when("A","sp.load.rufus.critical.assets.js").execute(function(){var e,c=(e=qa().mark(function u(c,e){var k,m,n,t;return qa().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return m=null!==(k=e.movableCLEnabled)&&void 0!==k&&k,(n=new cb({movableCLEnabled:m,isMobile:!1})).registerActionHandlers(),
db(e.rufusNavOnlyHoldoutTreatment,n),t=new Ka(e.uniqueId,m),c.next=8,t.handleCacheContent();case 8:(new bb(function(){A.declare("sp.load.rufus.panel.assets.js",{cacheEnabled:!0});n.unregisterActionHandlers()})).getCLContentFromRenderCall();case 10:case "end":return c.stop()}},u)}),function(){var c=this,m=arguments;return new Promise(function(k,n){function r(c){Ia(u,k,n,r,t,"next",c)}function t(c){Ia(u,k,n,r,t,"throw",c)}var u=e.apply(c,m);r(void 0)})});return function(e,m){return c.apply(this,arguments)}}())}()});