!function(t){setTimeout((function(){if("undefined"!=typeof gtGist&&("undefined"!=typeof gist&&gist instanceof gtGist||"undefined"!=typeof convertfox&&convertfox instanceof gtGist));else{function e(){"undefined"!=typeof convertfox?gtTemp=convertfox:"undefined"!=typeof gist&&(gtTemp=gist),gist=convertfox=new gtGist,t.gtGistReady=new Event("gistReady"),t.initGistChat=new Event("initGistChat"),t.gtGistChatReady=new Event("gistChatReady"),t.gtUnmountComponent=new Event("unMountComponent"),t.gistUnreadCount=0,t.gistHasUnreadNews=!1,t.chatConfig={},alreadyExecutedFunctions=[];for(var e=0;e<gtTemp.length;e++){var o=gtTemp[e];if("setAppId"==o[0]){if(alreadyExecutedFunctions.indexOf("setAppId")>=0)continue;alreadyExecutedFunctions.push("setAppId")}if("trackPageView"==o[0]){if(alreadyExecutedFunctions.indexOf("trackPageView")>=0)continue;alreadyExecutedFunctions.push("trackPageView")}var i=Array.prototype.slice.call(o,1);gist[o[0]].apply(gist,i)}}if("interactive"===document.readyState||"complete"===document.readyState)e();else var o=setInterval((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(clearInterval(o),e())}),100)}}),0);navigator.userAgent.match(/iPhone|iPad|iPod/i);var e=navigator.userAgent.match(/Android|BlackBerry|Tablet|Mobile|iPhone|iPad|iPod|Opera Mini|IEMobile/i);t.favIconScriptLoad=!1,t.isFaviconPresent=!1,(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR")||-1!=navigator.userAgent.indexOf("Chrome")||-1!=navigator.userAgent.indexOf("Firefox"))&&(t.favIconScriptLoad=!0),t.gtIpAddressDetails={},t.gtIpAddressAPIInitiateFlag=!1,t.gtFormSubmitStatus=!1,t.subDomain="messenger.",t.closedFormAjaxCallCount=[],t.closedSurveyAjaxCallCount=[],t.gtFixedElementDetails=[],t.gtChatInterval="",t.identifyClearInterval="",t.gtLeadBotInterval="",t.gtPromptInitiated=!1,t.gtPersonCreated=!1,t.gtInitialScrollEvent=!1,t.isChatIframeReloaded=!1,t.gtContactData={},t.gtChatBotInterval=[],t.getPromptIntervals=[],t.notificationChatOpen=!1,t.gtPageOriginalTitle="",t.flashTitleTimeout=null,t.pageLoadTime=0,t.initialTrackPageViewCalled=!1,t.gtProjectSetting="",t.officeHoursOnline="",t.trackPageViewCalled=!1,t.officeHoursInitiated=!1,t.chatPromptInitiated=!1,t.gtBrowserLanguage="",t.gtSegmentsCalled=!1,t.gtPersonSegmentsArray=[],t.gtChatReadAtPageLoad=!1,t.kbSettings="",t.kbViewStatus=!0,t.convertLinkOptionSecretArray=[],t.convertLinkOptionSecretArraySurvey=[],t.convertLinkOptionArray=[],t.convertLinkOptionArraySurvey=[],t.gtFormsData=[],t.gtSurveyData=[],t.gtTourData=[],t.surveyJSTriggerAPI=[],t.filteredMessengerApp=[],t.formOpenedViaClick=!1,t.shownFormObject=[],t.gtIsWelcomematPresent=!1,t.chatiframeInitiated=!1,t.gtPromptDetails=[],t.isChatHtmlRendered=!1,t.isQueryParamsCompleted=!0,t.isGtChatReady=!1,t.gtPageScrollPosition=null,t.gtWindowResize=!1,t.gtUserType=0,t.gtChatBottom=null,t.gtChatRight=null,t.gtChatLeft=null,t.gtLauncherPosition=null,t.gtWindowLocation=t.location.origin,t.gtPageIdeal=!1,t.gtReactChatIframeLoaded=!1,t.gtReactChatBubbleLoaded=!1,t.gtMobileCssLoaded=!1,t.gtLiveViewIntervals="",t.gtIdealIntervals="",t.gtBotPreviewDomain="gist-widget.b-cdn.net",t.defaultAllowedDomains=["betterproposals.io","landingi.com","invanto.com","invanto.io","rackdot.com","leadpages.net","bookme.name","bookme.app","cloudflare.works","kyvio.com","convertri.com","supporthero.io","cl.ly","godaddy.com",t.gtBotPreviewDomain],t.gtIdentifyTime=null,t.gtAwsUrl="https://cdn.getgist.com",t.gtAwsFromUrl="new-forms.getgist.com",t.gtAwsSurveyUrl="data.getgist.com",t.formJsUrl="https://gist-widget.b-cdn.net/form/form-bd2fce81de.min.js",t.newFormJsUrl="https://v3-forms.getgist.com/",t.surveyJsUrl="https://gist-survey.b-cdn.net/bundle-f6bf8a15f7f8dd9ecf55.min.js",t.tourJsUrl="https://gist-widget.b-cdn.net/tours/bundle-d288f9b9ea93385ad63b.min.js",t.eventVisualisationJsUrl="https://gist-widget.b-cdn.net/event/event-visualisation-049e55f04d.min.js",t.faviconJsUrl="https://gist-widget.b-cdn.net/favicon/favicon-c9aae08cce.min.js",t.getTurboEventName="",t.surveyTriggered=!1,t.isForRailsApp=!1,t.gtChatEnabled=!1,t.isBotPreview=!1,t.gtEventDataTime=null,t.gtBotPreviewData=null,t.gtliquidJsUrl="https://unpkg.com/liquidjs@9.6.1/dist/liquid.min.js";var o=["current_url","current_url_path","current_month","current_date","current_day","city","country","referrer_url","visitors_device","number_of_pages_viewed","visitors_ad_blocker_is","segments","tags","user_type","office_hours","browser_locale"],n=["scroll_percentage","time_on_page","time_on_site","current_time","on_exit_intent"];t.eventListeners=["mousemove","keydown","wheel","DOMMouseScroll","mousewheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove","visibilitychange"],document.addEventListener("gistChatReady",(function(){t.isGtChatReady=!0,"sidebar"==localStorage.getItem("widgetSize")&&_cfCommonFunctions.prototype.sidebarMessenger()}));for(let e of["turbolinks:before-visit","turbo:before-visit"])document.addEventListener(e,()=>{t.isForRailsApp=!0,t.getTurboEventName||(t.getTurboEventName=e),document.dispatchEvent(t.gtUnmountComponent)});t.iframeContentLoad=function(){if(navigator.onLine){if(!_cfCommonFunctions.prototype.cfCheckMobileOrDevice()&&null!=document.getElementById("cfChatIframe")&&null!=document.getElementById("cfChatIframe")){var e={insideIframe:!1},o=document.getElementById("cfChatIframe");o.addEventListener("mouseenter",(function(){e.insideIframe=!0,e.scrollX=t.scrollX,e.scrollY=t.scrollY})),o.addEventListener("mouseleave",(function(){e.insideIframe=!1})),document.addEventListener("scroll",(function(){e.insideIframe&&t.scrollTo(e.scrollX,e.scrollY)}))}}else{var i=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(i){i.style.display="none";var n=new CustomEvent("reactEventFired",{detail:{action:"chatOpenStatus",value:{isChatOpen:!1}}});document.dispatchEvent(n)}}};var r=document.createElement("iframe");document.documentElement.appendChild(r);var s,a=r.contentWindow;t.cfMath=a.Math,document.documentElement.removeChild(r),t.cfDefaultHost=null,s={gtFormSubmitTrigger:function(t){_cfCommonFunctions.prototype.submitFormTrigger(t)},gtFormCloseTrigger:function(t){_cfCommonFunctions.prototype.closeFormTrigger(t)},sizeFormIframe:function(t){_gtFormView.prototype.ClientHeightWidth(t)},closingForm:function(e){let o=document.getElementById(`gt-gist-form-${e.id}`);if("slide_in"===e.form_type)o.style.top="100%",setTimeout(()=>{_gtFormView.prototype.removeFormFrame(e)},500);else if("sticky_bar"===e.form_type){if("bottom"===e.frameAlignment)o.style.transform="translateY(100%)",document.body.style.marginBottom="0px";else{o.style.transform="translateY(-100%)";var i=Number(e.height.split("px")[0]);t.gtFixedElementDetails=[];var n=parseInt(document.body.style.marginTop);document.body.style.marginTop=n-i+"px";for(var r=document.body.getElementsByTagName("*"),s=r.length,a=0;a<s;a++){var c=r[a];if("fixed"==t.getComputedStyle(c,null).getPropertyValue("position")&&!(c.classList.contains("gist-slide-in-form-iframe")||c.classList.contains("popupForm")||c.classList.contains("cf-sticky-bar-frame")||"IFRAME"==c.tagName||c.classList.contains("convertfox-chat")||c.classList.contains("cf-chat-iframe")||c.classList.contains("cf-form-modal-frame")||c.classList.contains("cf-notification-form-frame")||c.classList.contains("convertfox-chat")||c.classList.contains("gist-messenger-iframe"))){let e=document.getElementById("gist-app");if((!e||!e.contains(c))&&c.style.top){var l=parseInt(t.getComputedStyle(c).getPropertyValue("top"));c.style.top=l-i+"px"}}}}setTimeout(()=>{_gtFormView.prototype.removeFormFrame(e)},500)}else _gtFormView.prototype.removeFormFrame(e)},resetQueryData:function(t){var e="";"welcome_mat"==t.form_type?e=document.getElementById("cf-form-modal_"+t.form_id):"fullscreen"==t.form_type?e=document.getElementById("cf-form-modal-frame_"+t.form_id):"popup"==t.form_type?e=document.getElementById("cf-popup-form-iframe_"+t.form_id):"slide_in"==t.form_type?e=document.getElementById("gist-slide-in-form-iframe_"+t.form_id):"sticky_bar"==t.form_type&&(e=document.getElementById("cf-sticky-bar-frame_"+t.form_id)),""!=e&&e.contentWindow.postMessage({funName:"resetFormDetails",params:{randomNo:gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId),cfFormEmailId:sessionStorage.getItem("formEmail")}},"*")},removeDeletedFormIframe:function(t){if("popup"==t.form_type)null!=document.getElementById("cf-popup-form-iframe_"+t.form_id)&&null!=document.getElementById("popupForm_"+t.form_id)&&document.getElementById("popupForm_"+t.form_id).remove();else if("welcome_mat"==t.form_type)null!=document.getElementById("cf-form-modal_"+t.form_id)&&(document.getElementById("cf-form-modal_"+t.form_id).remove(),document.getElementById("cf-form-full-page-fade_"+t.form_id).remove());else if("sticky_bar"==t.form_type)null!=document.getElementById("cf-sticky-bar-frame_"+t.form_id)&&document.getElementById("cf-sticky-bar-frame_"+t.form_id).parentElement.remove();else if("fullscreen"==t.form_type)null!=document.getElementById("fullpageIframe_"+t.form_id)&&(document.getElementById("cf-form-modal-frame_"+t.form_id).remove(),document.getElementById("fullpageIframe_"+t.form_id).remove());else if("slide_in"==t.form_type)null==document.getElementById("gist-slide-in-form-iframe_"+t.form_id)&&null==document.getElementById("gist-slide-in-form-iframe_"+t.form_id)||document.getElementById("gist-slide-in-form-iframe_"+t.form_id).parentElement.remove();else if("notification"==t.form_type&&null!=document.getElementById("cf-notification-form-frame_"+t.form_id)){var e=document.getElementById("cf-notification-form-frame_"+t.form_id);document.body.removeChild(e.parentNode)}},setSlideInFrameHeight:function(e){let o=document.getElementById("gist-slide-in-form-iframe_"+e.form_secret);if(""!=e.form_secret){if("init"==e.status){o.style.height=parseFloat(e.clientHeight)+"px",o.style.width=parseFloat(e.clientWidth)+"px",o.style.visibility="hidden";for(var i=!1,n=0;n<t.gtFormsData.length;n++)if(t.gtFormsData[n].form_secret==e.form_secret){i=!0;break}i&&t["cfFormInstance_"+e.form_secret].cfStartFormConditions(),-1!=convertLinkOptionSecretArray.indexOf(parseInt(e.form_secret))&&t["cfFormInstance_"+e.form_secret].cfOnclickListener()}else o.style.top="calc(100% - "+parseFloat(e.clientHeight)+"px)";"left"==e.alignment?o.style.left=(e.fullwidth?0:20)+"px":(e.alignment,o.style.right=(e.fullwidth?0:20)+"px"),e.fullwidth?(o.style.width="100%",o.style.borderRadius="0px"):(o.style.width=e.clientWidth+"px",o.style.borderTopLeftRadius=e.borderTopLeftRadius,o.style.borderTopRightRadius=e.borderTopRightRadius),o.style.height=parseFloat(e.clientHeight)+"px"}},setSlideInFrameClose:function(t){_formShowConditionPlugin.prototype.gtCloseFormElement(t)},setPopupFrameHeight:function(e){document.getElementById("cf-popup-form-iframe_"+e.form_secret).style.opacity=1,document.getElementById("popupForm_"+e.form_secret).style.opacity=1;for(var o=!1,i=0;i<t.gtFormsData.length;i++)if(t.gtFormsData[i].form_secret==e.form_secret){o=!0;break}o&&t["cfFormInstance_"+e.form_secret].cfStartFormConditions(),-1!=convertLinkOptionSecretArray.indexOf(parseInt(e.form_secret))&&t["cfFormInstance_"+e.form_secret].cfOnclickListener()},setPopupFrameClose:function(t){_formShowConditionPlugin.prototype.gtCloseFormElement(t)},setStickyBarFrameHeight:function(e){null!=e.resizeOption&&null!=e.resizeOption&&1==e.resizeOption&&(t.gtWindowResize=!0);var o=e.clientHeight;if(""!=e.form_secret?document.getElementById("cf-sticky-bar-frame_"+e.form_secret).style.height=o+"px":document.getElementsByClassName("cf-sticky-bar-frame")[0].style.height=o+"px",null==t.gtWindowResize||""==t.gtWindowResize||0==t.gtWindowResize||_cfCommonFunctions.prototype.cfElementPullDown(o,!0),"init"==e.status){for(var i=!1,n=0;n<t.gtFormsData.length;n++)if(t.gtFormsData[n].form_secret==e.form_secret){i=!0;break}i&&t["cfFormInstance_"+e.form_secret].cfStartFormConditions(),-1!=convertLinkOptionSecretArray.indexOf(parseInt(e.form_secret))&&t["cfFormInstance_"+e.form_secret].cfOnclickListener()}},setStickyBarFrameClose:function(t){_formShowConditionPlugin.prototype.gtCloseFormElement(t)},setFullscreenFrameHeight:function(e){document.getElementById("cf-form-modal-frame_"+e.form_secret).style.opacity=1;for(var o=!1,i=0;i<t.gtFormsData.length;i++)if(t.gtFormsData[i].form_secret==e.form_secret){o=!0;break}o&&t["cfFormInstance_"+e.form_secret].cfStartFormConditions(),-1!=convertLinkOptionSecretArray.indexOf(parseInt(e.form_secret))&&t["cfFormInstance_"+e.form_secret].cfOnclickListener()},setFullscreenFrameClose:function(t){_formShowConditionPlugin.prototype.gtCloseFormElement(t)},setWelcomeMatFrameHeight:function(e){document.body.scrollTop=0,document.documentElement.scrollTop=0,document.getElementsByClassName("welcomeMatpageIframe")[0].style.display="block";for(var o=document.body.getElementsByTagName("*"),i=o.length,n=0,r=0;r<i;r++)if("fixed"===t.getComputedStyle(o[r],null).getPropertyValue("position")&&"0px"!==t.getComputedStyle(o[r]).getPropertyValue("bottom")){if("gist-slide-in-form-iframe"!==o[r].className&&"popupForm"!==o[r].className&&"cf-sticky-bar-frame"!=o[r].className&&"cf-chat-iframe"!=o[r].className&&"convertfox-chat"!=o[r].className&&"cf-form-modal-frame"!=o[r].className){let t=document.getElementById("gist-app");if(!t||!t.contains(o[r])){let t=o[r].getBoundingClientRect().top+"px";o[r].style.top="calc("+t+" + 100%)",o[r].style.bottom&&(o[r].style.bottom=null),o[r].setAttribute("data_top",o[r].getBoundingClientRect().top)}}n<o[r].clientHeight&&(n=o[r].clientHeight)}document.getElementById("cf-form-full-page-fade_"+e.form_secret).style.marginBottom=n+"px",document.getElementById("cf-form-modal_"+e.form_secret).style.opacity=1,document.getElementById("cf-form-full-page-fade_"+e.form_secret).style.opacity=1,t.gtInitialScrollEvent=!1},setWelcomeMatFrameClose:function(t){_formShowConditionPlugin.prototype.gtCloseFormElement(t)},setFormSubmitStatus:function(){t.gtFormSubmitStatus=!0},setSubmittedFormCookies:function(t){_formShowConditionPlugin.prototype.setClosedFormCookie(t.formSecret)},setIphoneFixed:function(t){},updateFormSessionData:function(e){const o=(t,e)=>{let o=document.getElementsByClassName("gist-embed-form");if(o.length)for(let i=0;i<o.length;i++)if("3"===o[i].getAttribute("version")){let n=o[i].getElementsByTagName("iframe");if(n.length){const o=n[0].getAttribute("form_secret");e?n[0].contentWindow.postMessage({funName:"setUpdatedRandomId",params:{randomID:t.randomId}},"*"):e||o===t.formSecret||n[0].contentWindow.postMessage({funName:"updatePreviousEmail",params:{email:t.userEmail}},"*")}}},i=(e,o)=>{(t.liveForms?t.liveForms.filter(t=>3===t.version):[]).forEach(t=>{let i=document.getElementById(`gt-gist-form-${t.id}`);if(i){const t=i.getAttribute("form_secret");o?i.contentWindow.postMessage({funName:"setUpdatedRandomId",params:{randomID:e.randomId}},"*"):o||t===e.formSecret||i.contentWindow.postMessage({funName:"updatePreviousEmail",params:{email:e.userEmail}},"*")}})};e.applicationId===gist.options.applicationId&&e.userEmail&&e.userEmail!==sessionStorage.getItem("formEmail")&&(o(e,!1),i(e,!1)),e.randomId!==t.gist.getCookie("gist_id_"+gist.options.applicationId)&&(o(e,!0),i(e,!0)),e.applicationId===gist.options.applicationId&&(e.userEmail&&e.userEmail!==sessionStorage.getItem("formEmail")&&sessionStorage.setItem("formEmail",e.userEmail),t.gtUserType=e.userType,gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,e.randomId),_cfCommonFunctions.prototype.gistConCookiesToLs("cf_chat_open_status",{status:"false",conversationId:"",lastActiveAgentImage:"",lastActiveAgentName:"",lastActiveAgentBackground:""}),(e.chatReload||"true"==e.chatReload)&&(t.notificationChatOpen=!1,""!=t.gtProjectSetting?gtGist.prototype.checkChatEnabledConditions(!0):gtGist.prototype.getChatEnabledConditions((function(t){gtGist.prototype.checkChatEnabledConditions(!0)}),(function(t){}))))},setPopupSurveyFrameHeight:function(t){document.getElementById("cf-popup-survey-iframe_"+t.form_secret).style.opacity=1,document.getElementById("popupSurvey_"+t.form_secret).style.display="block"},closePopupSurveyIFrame:function(e){null!=document.getElementById("cf-popup-survey-iframe_"+e.survey_id)&&(null!=document.getElementById("popupSurvey_"+e.survey_id)&&(-1==convertLinkOptionSecretArraySurvey.indexOf(parseInt(e.survey_id))?document.getElementById("popupSurvey_"+e.survey_id).remove():(document.getElementById("popupSurvey_"+e.survey_id).style.display="none",document.getElementById("popupSurvey_"+e.survey_id).classList.remove("hide-none")),t.surveyJSTriggerAPI=[]),_cfCommonFunctions.prototype.gistConCookiesToLs("cf_showing_survey",0))},removeDeletedSurveyIframe:function(t){"popup"==t.survey_type&&null!=document.getElementById("cf-popup-survey-iframe_"+t.survey_id)&&null!=document.getElementById("popupSurvey_"+t.survey_id)&&document.getElementById("popupSurvey_"+t.survey_id).remove(),_cfCommonFunctions.prototype.gistConCookiesToLs("cf_showing_survey",0)},SurveyTriggered:function(e){t.surveyTriggered=!0},chatWidgetLoaded:function(e){t.isChatIframeReloaded&&gtGist.prototype.checkQueryPrams()}},t.addEventListener("message",(function(t){null!=t&&null!=t.data&&t.data.funName&&"setEmbeddedForm"!=t.data.funName&&"setEmbeddedSurvey"!=t.data.funName&&"removeEmbedIframe"!=t.data.funName&&"removeSurveyEmbedIframe"!=t.data.funName&&"iframeInit"!=t.data.funName&&"chatReady"!=t.data.funName&&s[t.data.funName](t.data.params)}),!1),function(){this._cfSurveyFormView=function(){},_cfSurveyFormView.prototype.cfSurveyPopup=function(e,o=null,i=!1){var n=e.serverProtocol,r=e.serverDomain,s=e.currentVersion,a=e.user,c=e.cfSurveyOptions.id,l=e.cfRandomId,d=e.applicationId,m=e.cfSurveyOptions.frequency_details&&e.cfSurveyOptions.frequency_details.type,p=document.head||document.getElementsByTagName("head")[0],f=".popupSurveyForm { width: 100%; height: 100%; position: fixed;  left: 0; top: 0; right: 0; bottom: 0; z-index: 2147483646; display: none;}",u=document.createElement("style");u.type="text/css",u.styleSheet?u.styleSheet.cssText=f:u.appendChild(document.createTextNode(f)),p.appendChild(u);var g=document.createElement("div");document.body.appendChild(g),g.className="popupSurveyForm cfForms",g.id="popupSurvey_"+c,g.innerHTML='<style>.cf-popup-survey-iframe {opacity: 0; padding: 0; width: 100%; height: 100%; z-index: 2147483646;box-sizing: content-box; border: none !important; box-shadow: none !important; background: rgba(0, 0, 0, 0.7) !important; padding: 0 !important;}</style><iframe id="cf-popup-survey-iframe_'+c+'" class="cf-popup-survey-iframe" survey_secret='+c+" application_id="+d+" survey_type=popup server_protocol="+n+" server_domain= "+r+" user="+a+" random_no="+l+" current_version="+s+" frequency_type="+m+"></iframe>";var _=g.getElementsByClassName("cf-popup-survey-iframe")[0];i&&(_.setAttribute("trigger_api_options",JSON.stringify(o)),_.setAttribute("survey_type","trigger_api"));var y=document.createElement("script");y.src=t.surveyJsUrl,setTimeout((function(){_.contentWindow.document.body.appendChild(y)}),10)}}(),function(){this._cfFormView=function(){},_cfFormView.prototype.cfSlideIn=function(e){var o=e.serverProtocol,i=e.serverDomain,n=e.currentVersion,r=e.user,s=e.cfFormsData.form_alignment,a=e.cfFormsData.form_secret,c=e.cfFormsData.form_type,l=e.cfRandomId,d=e.applicationId,m=document.createElement("div"),p=e.isFromJSTriggerAPI;document.body.appendChild(m),m.id="slideInId",m.className="cfForms",m.innerHTML='<style> .hide-none {display: block !important;}.gist-slide-in-form-iframe {position:fixed;border: none !important; box-sizing: content-box;max-width:100%;text-align: center;font-weight: 100; -webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34) !important; -moz-webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34) !important; -ms-webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34) !important; -o-webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34) !important;box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.34) !important;z-index: 2147483644; border: 1px solid #FFFFFF;-webkit-transition: all 0.75s; -moz-transition: all 0.75s; -ms-transition: all 0.75s; -o-transition: all 0.75s;transition: all 0.75s; top: 100%;}</style><iframe width="100%" form_secret='+a+" application_id="+d+" form_type="+c+' id="gist-slide-in-form-iframe_'+a+'" server_protocol='+o+" form-alignment="+s+" server_domain= "+i+" user="+r+" random_no="+l+" current_version="+n+' class="gist-slide-in-form-iframe" isfromjstrigger='+p+"><p>Your browser does not support iframes.</p></iframe>";var f=document.getElementById("gist-slide-in-form-iframe_"+a),u=f.contentWindow.document.createElement("script");u.type="text/javascript",u.src=t.formJsUrl,setTimeout((function(){f.contentWindow.document.body.appendChild(u)}),10)},_cfFormView.prototype.cfFullscreenView=function(e){var o=e.cfFormsData.form_type,i=e.serverProtocol,n=e.serverDomain,r=e.currentVersion,s=e.user,a=e.cfFormsData.form_secret,c=e.cfRandomId,l=e.applicationId,d=e.isFromJSTriggerAPI,m=document.head||document.getElementsByTagName("head")[0],p='.cfOpenSansFont { font-family: "Open Sans", sans-serif; }.fullscreenIframe {z-index: 2147483646; width:100%; height: 100%; position: fixed; top: 0% !important; left: 0%; display: none;}@media (min-width: 768px){.form-inside-footer {display: none;}} @media (max-width: 767px){.outside-form-footer {display: none;}}',f=document.createElement("style");f.type="text/css",f.styleSheet?f.styleSheet.cssText=p:f.appendChild(document.createTextNode(p)),m.appendChild(f);var u=document.createElement("div");document.body.appendChild(u),u.className="fullscreenIframe cfForms",u.id="fullscreenIframe_"+a,u.innerHTML='<style>.hide-none {display: block !important;}.cf-form-modal-frame { opacity: 0; text-align: center; border: none; width: 100% !important; height: 100% !important;z-index: 2147483646;}</style><iframe id="cf-form-modal-frame_'+a+'" class="cf-form-modal-frame" form_secret='+a+" application_id="+l+" form_type="+o+" server_protocol="+i+" server_domain= "+n+" user="+s+" random_no="+c+" current_version="+r+" isfromjstrigger="+d+"><p>Your browser does not support iframes.</p></iframe>";var g=document.getElementById("cf-form-modal-frame_"+a),_=g.contentWindow.document.createElement("script");_.type="text/javascript",_.src=t.formJsUrl,setTimeout((function(){g.contentWindow.document.body.appendChild(_)}),10)},_cfFormView.prototype.cfStickyBar=function(e){var o=e.serverProtocol,i=e.cfFormsData.form_type,n=e.isFromJSTriggerAPI,r=e.serverDomain,s=e.currentVersion,a=e.user,c=e.cfFormsData.form_secret,l=e.cfRandomId,d=e.applicationId;t.gtWindowResize=!1;var m=document.createElement("div");document.body.appendChild(m),m.id="cf-sticky-bar-div",m.className="cfForms",m.innerHTML='<style> .hide-none {display: block !important;}.cf-sticky-bar-frame {border: none; width: 100%; z-index: 2147483644; font-family: "Open Sans", sans-serif; top: -100%;position: fixed;left: 0;right: 0; -webkit-transition: all 0.75s; -moz-transition: all 0.75s; -ms-transition: all 0.75s; -o-transition: all 0.75s;transition: all 0.75s;} .add-transaction {bottom: calc(100% - 193px) !important;}</style><iframe id="cf-sticky-bar-frame_'+c+'" class="cf-sticky-bar-frame" form_secret='+c+" application_id="+d+" form_type="+i+" server_protocol="+o+" server_domain= "+r+" user="+a+" random_no="+l+" current_version="+s+" isfromjstrigger="+n+"><p>Your browser does not support iframes.</p></iframe>";var p=document.getElementById("cf-sticky-bar-frame_"+c),f=p.contentWindow.document.createElement("script");f.type="text/javascript",f.src=t.formJsUrl,setTimeout((function(){p.contentWindow.document.body.appendChild(f)}),10)},_cfFormView.prototype.cfPopup=function(e){var o=e.serverProtocol,i=e.isFromJSTriggerAPI,n=e.serverDomain,r=e.cfFormsData.form_type,s=e.currentVersion,a=e.user,c=e.cfFormsData.form_secret,l=e.cfRandomId,d=e.applicationId,m=document.head||document.getElementsByTagName("head")[0],p='.popupForm { width: 100%; height: 100%; position: fixed;  left: 0; top: 0; right: 0; bottom: 0; z-index: 2147483646; display: none;}.cf-popup-footer {font-size: 12px;position: absolute;font-weight: 600;color: #fff;bottom: -30px;left: 50%;-webkit-transform: translateX(-50%);-moz-transform: translateX(-50%);-ms-transform: translateX(-50%);-o-transform: translateX(-50%);transform: translateX(-50%); }.cfOpenSansFont { font-family: "Open Sans", sans-serif; }@media (max-width: 767px) {.popupForm{}}',f=document.createElement("style");f.type="text/css",f.styleSheet?f.styleSheet.cssText=p:f.appendChild(document.createTextNode(p)),m.appendChild(f);var u=document.createElement("div");document.body.appendChild(u),u.className="popupForm cfForms",u.id="popupForm_"+c,u.innerHTML='<style> .hide-none {display: block !important;}.cf-popup-form-iframe {opacity: 0; padding: 0; width: 100%; height: 100%; z-index: 2147483646;box-sizing: content-box; border: none !important; box-shadow: none !important; background: rgba(0, 0, 0, 0.7) !important; padding: 0 !important;}@media (max-width: 767px) {.cf-popup-form-iframe {}}</style><iframe id="cf-popup-form-iframe_'+c+'" class="cf-popup-form-iframe" form_secret='+c+" application_id="+d+" form_type="+r+" server_protocol="+o+" server_domain= "+n+" user="+a+" random_no="+l+" current_version="+s+" isfromjstrigger="+i+"></iframe>";var g=document.getElementById(`cf-popup-form-iframe_${c}`),_=document.createElement("script");_.src=t.formJsUrl,setTimeout((function(){g.contentWindow.document.body.appendChild(_)}),10)},_cfFormView.prototype.cfWelcomeMate=function(e){var o=e.serverProtocol,i=e.isFromJSTriggerAPI,n=e.serverDomain,r=e.cfFormoptions.form_type,s=e.versionNumber,a=e.user,c=e.cfFormoptions.form_secret,l=e.cfRandomId,d=e.applicationId,m=document.head||document.getElementsByTagName("head")[0],p='.cf-form-full-page-fade {opacity: 0; height: 100vh;background-color: #FFFFFF;position: relative;}.cf-form-close {margin-top: -8px;float: right;font-size: 25px;font-weight: 200;line-height: 1;color: #03cea4;text-shadow: 0 1px 0 #fff;}button.cf-form-close {position: absolute;bottom: 60px;left:51%; -webkit-transform: translateX(-50%); -moz-transform: translateX(-50%); -ms-transform: translateX(-50%); -o-transform: translateX(-50%);transform: translateX(-50%); -webkit-appearance: none;padding: 0;cursor: pointer;background: 0 0;border: 0;} button.cf-form-close:focus {outline: none;}.dropdown:before {content: "";position: absolute;right: 0px;top: 8px;width: 23px;height: 23px;border-left-color: transparent !important;border-right-color: #03cea4;border-top-color: transparent !important;border-bottom-color: #03cea4;border: 2px solid;transform: rotate(45deg);}.cfOpenSansFont { font-family: "Open Sans", sans-serif; }.cf-welcomemat-footer {font-size: 0.7em; font-weight:600; color: #545f5c;opacity: 0.5; position: absolute; bottom: 35px; left: 30px;}.welcomeMatpageIframe { width: 100%; height: 100vh; z-index: 2147483648; position: relative;}.form-inside-footer { left: 50% !important; -webkit-transform: translateX(-50%); -moz-transform: translateX(-50%); -ms-transform: translateX(-50%); -o-transform: translateX(-50%); transform: translateX(-50%); bottom: 0px !important;} @media (min-width: 768px){.form-inside-footer {display: none;}} @media (max-width: 767px){.outside-form-footer {display: none;} .cf-form-close {left: 55% !important;}}',f=document.createElement("style");f.type="text/css",f.styleSheet?f.styleSheet.cssText=p:f.appendChild(document.createTextNode(p)),m.appendChild(f);for(var u=["STYLE","META","SCRIPT","TITLE"],g=1;g<=15;g++)if(-1==u.indexOf(document.body.children[g].tagName)){document.body.children[g].className+=" cf-scroll-to-original-div";break}var _=document.createElement("div");document.body.insertBefore(_,document.body.firstChild),_.className="welcomeMatpageIframe cfForms",_.style.display="none",_.id="cf-form-full-page-fade_"+c,_.innerHTML='<style>.hide-none {display: block !important;}.cf-form-modal {opacity: 0; border: none; text-align: center;font-weight: 100;z-index: 9999999999999; height: 100vh !important; width: 100%; }</style><iframe id="cf-form-modal_'+c+'" class="cf-form-modal" form_secret='+c+" application_id="+d+" form_type="+r+" server_protocol="+o+" server_domain= "+n+" user="+a+" random_no="+l+" current_version="+s+" isfromjstrigger="+i+'><button type="button" class="cf-form-close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button><p>Your browser does not support iframes.</p></iframe>';var y=document.getElementById("cf-form-modal_"+c),h=document.createElement("script");function v(){if(t.gtInitialScrollEvent){for(var e=document.body.getElementsByTagName("*"),i=e.length,r=0;r<i;r++)if("fixed"==t.getComputedStyle(e[r],null).getPropertyValue("position")&&"0px"!=t.getComputedStyle(e[r]).getPropertyValue("bottom")&&"gist-slide-in-form-iframe"!=e[r].className&&"popupForm"!=e[r].className&&"cf-sticky-bar-frame"!=e[r].className&&"cf-chat-iframe"!=e[r].className&&"convertfox-chat"!=e[r].className&&"cf-form-modal-frame"!=e[r].className&&!e[r].classList.contains("gist-messenger-iframe")){let t=document.getElementById("gist-app");t&&t.contains(e[r])||"none"!=document.getElementById("cf-form-full-page-fade_"+c).style.display&&(Number(document.getElementById("cf-form-full-page-fade_"+c).getBoundingClientRect().bottom)>=20?e[r].style.top="calc("+e[r].getAttribute("data_top")+"px - (100% - "+document.getElementById("cf-form-full-page-fade_"+c).getBoundingClientRect().bottom+"px))":e[r].style.top="calc("+e[r].getAttribute("data_top")+"px - (100% - 0px))")}if(Number(document.getElementById("cf-form-full-page-fade_"+c).getBoundingClientRect().bottom)<=20&&"none"!=document.getElementById("cf-form-full-page-fade_"+c).style.display){if(null!=document.getElementById("cf-form-modal_"+c)&&document.getElementById("cf-form-modal_"+c).remove(),document.getElementById("cf-form-full-page-fade_"+c).style.display="none",null!=document.getElementById("cf-form-modal_"+c)&&null!=document.getElementById("cf-form-modal_"+c).contentWindow.document.getElementById("cf-modal-form-content")&&(document.getElementById("cf-form-modal_"+c).contentWindow.document.getElementById("cf-modal-form-content").style.display="none"),!t.gtFormSubmitStatus){var m={status:"closed",formSecret:c};_formShowConditionPlugin.prototype.setClosedFormCookie(c);var p={formData:m,applicationId:d,serverProtocol:o,serverDomain:n,currentVersion:s,user:a,cfRandomId:l};_formShowConditionPlugin.prototype.cfSendStatusCall(p),t.gtFormSubmitStatus=!1}document.body.scrollTop=0,document.documentElement.scrollTop=0}}t.gtInitialScrollEvent=!0}h.src=t.formJsUrl,setTimeout((function(){y.contentWindow.document.body.appendChild(h)}),10),t.addEventListener("scroll",v),document.body.addEventListener("scroll",v);var C=t.getComputedStyle(document.body,null).getPropertyValue("padding-top"),b="",I="";if(C.length>0)for(var w=0;w<C.length;w++)F(C[w])?b+=C[w]:I+=C[w];function F(t){return!!t.match(/^[0-9]*$/)}(b=Number(b))>0&&(document.getElementById("cf-form-full-page-fade_"+c).style.marginTop="-"+b+I)}}(),function(){this._gtTourView=function(){},_gtTourView.prototype.createTourFrame=function(e,o,i){var n=document.createElement("div");document.body.appendChild(n),n.className=`gt-tour-${e.gtTourData.id}`,n.id="gist-tour",n.dataset.application_id=e.applicationId,n.dataset.secret_key=e.gtTourData.secret_key,n.dataset.id=e.gtTourData.id,n.dataset.random_id=e.cfRandomId,n.dataset.frequency_details=e.gtTourData.frequency_details&&e.gtTourData.frequency_details.type,n.dataset.trigger_type=i?"js_trigger":"popup",n.dataset.project_name=t.gtProjectSetting.project_name,o&&"object"==typeof o&&Object.keys(o).map(t=>{"tourId"!==t&&(n.dataset[t]=o[t])});var r=document.createElement("script");r.src=t.tourJsUrl,setTimeout((function(){n.appendChild(r)}),10)},_gtTourView.prototype.removeTourFrame=function(t){let e=document.querySelector(`#gist-tour.gt-tour-${t.id}`);e&&e.remove(),_cfCommonFunctions.prototype.gistConCookiesToLs("cf_tour_survey",0)}}(),function(){this._cfIframeChat=function(t){},_cfIframeChat.prototype.initChatWidget=function(){var e=document.createElement("iframe");e.id="gist-script",e.title="gistFrame",e.allowvr="yes",e.setAttribute("style","position: absolute !important; width: 0; !important; height: 0; !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important;"),document.body.appendChild(e);var o=e.contentDocument.createElement("div");o.id="react-app",e.contentWindow.document.body.appendChild(o);var i=e.contentWindow.document.createElement("script");i.type="text/javascript",i.async=!0,i.src="https://gist-widget.b-cdn.net/messenger/bundle-46829ec9844002f9a1de.min.js",setTimeout((function(){t.chatScriptLoaded||(e.contentWindow.document.body.appendChild(i),t.chatScriptLoaded=!0)}),100)},_cfIframeChat.prototype.cfChatFunction=function(e,o,i,n,r,s,a){t.chatiframeInitiated=!0;for(var c=!1,l=document.getElementsByTagName("iframe"),d=0;d<l.length;d++)if(l[d].parentElement.classList.contains("gist-messenger-iframe")){c=!0;break}let m=document.getElementById("gist-script");if(!c&&!m&&!t.chatScriptLoaded){_cfIframeChat.prototype.initChatWidget(),cfChatAreaOpen="";var p=!0;setTimeout((function(){t.onfocus=function(){if(p=!0,_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app")&&t.gtReactChatIframeLoaded){var e=new CustomEvent("reactEventFired",{detail:{action:"windowFocusStatus",value:{status:p}}});document.dispatchEvent(e)}}}),1e3),t.onblur=function(){if(p=!1,_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app")&&t.gtReactChatIframeLoaded){var e=new CustomEvent("reactEventFired",{detail:{action:"windowFocusStatus",value:{status:p}}});document.dispatchEvent(e)}}}},_cfIframeChat.prototype.cfOpenPrompt=function(e,o,i=!1){if(_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app")){if("Bot"===o)var n=new CustomEvent("reactEventFired",{detail:{action:"leadBot",value:{data:e,shownBotIds:_cfCommonFunctions.prototype.gistGetLsValue("cf_shown_lead_bot_ids"),isConvertLink:i}}});else if("TriggeredChat"===o)n=new CustomEvent("reactEventFired",{detail:{action:"triggerChat",value:{isFromJsTrigger:i,triggerContent:e.message,triggerHead:e.name,triggerId:e.id,triggerSecret:e.triggered_chat_secret,message_template:e.template,triggeredUserSecret:e.triggered_user_secret,shownTriggeredChatIds:_cfCommonFunctions.prototype.gistGetLsValue("cf_displayed_triggered_chat"),replyType:e.reply_type,reactionSet:e.reaction_set,isFromContactOwner:e.from_contact_owner}}});else if("previewBot"===o)n=new CustomEvent("reactEventFired",{detail:{action:"previewBot",value:{data:e}}});else n=new CustomEvent("reactEventFired",{detail:{action:"triggerChat",value:{isFromJsTrigger:i,template:"Post",triggerContent:e.message,triggerHead:e.name,triggerId:e.id,triggerSecret:e.triggered_chat_secret,message_template:e.template,triggeredUserSecret:e.triggered_user_secret,shownTriggeredChatIds:_cfCommonFunctions.prototype.gistGetLsValue("cf_displayed_triggered_chat"),replyType:e.reply_type,reactionSet:e.reaction_set,isFromContactOwner:e.from_contact_owner}}});for(let e=0;e<t.gtChatBotInterval.length;e++)clearInterval(t.gtChatBotInterval[e]);document.dispatchEvent(n),clearInterval(t.gtChatInterval)}}}(),function(){this._surveyFormShowConditionPlugin=function(t){this.cfSurveyOptions=t.cfSurveyData,this.serverProtocol=t.serverProtocol,this.serverDomain=t.serverDomain,this.versionNumber=t.currentVersion,this.applicationId=t.applicationId,this.user=t.user},_surveyFormShowConditionPlugin.prototype.cfStartSurveyConditions=function(){t["cfSurveyInterval_"+this.cfSurveyOptions.secret_key]||(t["cfSurveyInterval_"+this.cfSurveyOptions.secret_key]=[]);const e=setInterval((function(e){if("0"==_cfCommonFunctions.prototype.gistGetLsValue("cf_showing_survey")){let[t,o]=_cfCommonFunctions.prototype.cfCheckDynamicCondition(e.cfSurveyOptions.display_conditions,e.cfSurveyOptions);e.cfSurveyOptions.display_conditions=o,t&&e.cfShowCurrentSurvey(e)}else for(let o of t["cfSurveyInterval_"+e.cfSurveyOptions.secret_key])clearInterval(o)}),1e3,this);t["cfSurveyInterval_"+this.cfSurveyOptions.secret_key].push(e)},_surveyFormShowConditionPlugin.prototype.cfShowCurrentSurvey=function(t){new _cfFormView;var e=gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId);t.cfRandomId=e,_surveyFormShowConditionPlugin.prototype.enableEligibleForm(t)},_surveyFormShowConditionPlugin.prototype.enableEligibleForm=function(e){var o=e.cfSurveyOptions,i=(e.applicationId,e.serverProtocol,e.serverDomain,e.user,e.cfRandomId,e.cfFormURL,o.secret_key),n=setInterval((function(){if("0"==_cfCommonFunctions.prototype.gistGetLsValue("cf_showing_survey")){for(let e of t["cfSurveyInterval_"+i])clearInterval(e);_cfCommonFunctions.prototype.gistConCookiesToLs("cf_showing_survey",1),_surveyFormShowConditionPlugin.prototype.cfCreateSurveyIframe(e),clearInterval(n)}else if(t.surveyTriggered){for(let e of t["cfSurveyInterval_"+i])clearInterval(e);clearInterval(n)}}),50)},_surveyFormShowConditionPlugin.prototype.cfCreateSurveyIframe=function(t,e,o){cfFormDisplay=new _cfSurveyFormView,t.cfRandomId=gtGist.prototype.getCookie(`gist_id_${gist.options.applicationId}`),cfFormDisplay.cfSurveyPopup(t,e,o)}}(),function(){this._gtTour=function(t){this.gtTourData=t.gtTourData,this.applicationId=t.applicationId,this.user=t.user},_gtTour.prototype.gtStartTourConditions=function(){t["gtTourInterval_"+this.gtTourData.secret_key]||(t["gtTourInterval_"+this.gtTourData.secret_key]=[]);const e=setInterval((function(t){{let[e,o]=_cfCommonFunctions.prototype.cfCheckDynamicCondition(t.gtTourData.display_conditions,t.gtTourData);t.gtTourData.display_conditions=o,e&&t.cfShowCurrentTour(t)}}),1e3,this);t["gtTourInterval_"+this.gtTourData.secret_key].push(e)},_gtTour.prototype.cfShowCurrentTour=function(t){var e=gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId);t.cfRandomId=e,_gtTour.prototype.enableEligibleTour(t)},_gtTour.prototype.enableEligibleTour=function(e){var o=setInterval((function(){if("0"==_cfCommonFunctions.prototype.gistGetLsValue("cf_showing_tour")){for(let o of t["gtTourInterval_"+e.gtTourData.secret_key])clearInterval(o);_gtTour.prototype.cfCreateTourIframe(e),clearInterval(o)}else if(t.surveyTriggered){for(let o of t["gtTourInterval_"+e.gtTourData.secret_key])clearInterval(o);clearInterval(o)}}),50)},_gtTour.prototype.cfCreateTourIframe=function(t,e,o){t.cfRandomId=gtGist.prototype.getCookie(`gist_id_${gist.options.applicationId}`),_cfCommonFunctions.prototype.gistConCookiesToLs("cf_showing_tour",1),(new _gtTourView).createTourFrame(t,e,o)},_gtTour.prototype.gtCheckTourSession=function(t,e){let o=localStorage.getItem(`gt-${t}-tour`);return o&&(o=JSON.parse(o),e.some(({id:t})=>t===Number(o.tourId)))?o:null}}(),function(){this._gtTooltipView=function(){},_gtTooltipView.prototype.createTooltipFrame=function(e,o,i){let n=document.querySelector("#gist-tooltip");if(n){const t=JSON.parse(n.dataset.secret_keys||"[]");t.includes(e.gtTooltipData.secret_key)||(t.push(e.gtTooltipData.secret_key),n.dataset.secret_keys=JSON.stringify(t))}else{n=document.createElement("div"),document.body.appendChild(n),n.className="gist-tooltip",n.id="gist-tooltip",n.dataset.application_id=e.applicationId,n.dataset.random_id=e.cfRandomId,n.dataset.trigger_type=i?"js_trigger":"popup",n.dataset.project_name=t.gtProjectSetting.project_name,n.dataset.secret_keys=JSON.stringify([e.gtTooltipData.secret_key]),o&&"object"==typeof o&&Object.keys(o).map(t=>{n.dataset[t]=o[t]});var r=document.createElement("script");r.src=t.tourJsUrl,setTimeout((function(){n.appendChild(r)}),10)}},_gtTooltipView.prototype.removeTooltipFrame=function(t){let e=document.querySelector(`#gist-tooltip.gt-tooltip-${t.gtTooltipData.id}`);e&&e.remove()}}(),function(){this._gtTooltip=function(t){this.gtTooltipData=t.gtTooltipData,this.applicationId=t.applicationId,this.user=t.user},_gtTooltip.prototype.gtStartTooltipConditions=function(){const e=this.gtTooltipData.secret_key;t["gtTooltipInterval_"+e]||(t["gtTooltipInterval_"+e]=[]);const o=this,i=setInterval((function(){let[t,e]=_cfCommonFunctions.prototype.cfCheckDynamicCondition(o.gtTooltipData.display_conditions,o.gtTooltipData);o.gtTooltipData.display_conditions=e,t&&o.cfShowCurrentTooltip(o,i)}),1e3);t["gtTooltipInterval_"+e].push(i)},_gtTooltip.prototype.cfShowCurrentTooltip=function(t,e){t.gtTooltipData.id;const o=gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId);t.cfRandomId=o,_gtTooltip.prototype.cfCreateTooltipIframe(t),clearInterval(e)},_gtTooltip.prototype.cfCreateTooltipIframe=function(t,e,o){t.cfRandomId=gtGist.prototype.getCookie(`gist_id_${gist.options.applicationId}`),(new _gtTooltipView).createTooltipFrame(t,e,o)}}(),function(){this._formShowConditionPlugin=function(t){this.cfFormoptions=t.cfFormsData,this.serverProtocol=t.serverProtocol,this.serverDomain=t.serverDomain,this.versionNumber=t.currentVersion,this.applicationId=t.applicationId,this.user=t.user},_formShowConditionPlugin.prototype.cfStartFormConditions=function(){this.cfFormoptions;var e=document.getElementById(_cfCommonFunctions.prototype.cfGetFormElement(this.cfFormoptions.form_type)+this.cfFormoptions.form_secret);let o=e&&"true"==e.getAttribute("isfromjstrigger");if(o&&setTimeout(t=>{t.cfShowCurrentForm(t,!0)},1e3,this),-1==_cfCommonFunctions.prototype.gistGetLsValue("cf_closed_forms").split("|").indexOf(this.cfFormoptions.form_secret.toString())&&!o){t["cfFormInterval_"+this.cfFormoptions.form_secret]||(t["cfFormInterval_"+this.cfFormoptions.form_secret]=[]);const e=setInterval((function(t){let[e,o]=_cfCommonFunctions.prototype.cfCheckDynamicCondition(t.cfFormoptions.display_conditions,t.cfFormoptions);t.cfFormoptions.display_conditions=o,e&&t.cfShowCurrentForm(t)}),1e3,this);t["cfFormInterval_"+this.cfFormoptions.form_secret].push(e)}},_formShowConditionPlugin.prototype.cfOnclickListener=function(){var e=this.cfFormoptions.random_link_attribute,o=this;t.addEventListener("click",(function(i){let n=i.target;if("A"!==i.target.tagName&&(n=i.target.closest("a")),null===n)return 0;var r=_cfCommonFunctions.prototype.cfTargetedElementHavingFormAttribute(n,void 0,e);if(null!=r&&(r.hasAttribute(e)||r.hasAttribute(e.toLowerCase()))){i.preventDefault();t.formOpenedViaClick=!0,o.cfShowCurrentForm(o,!0)}}))},_formShowConditionPlugin.prototype.cfSendStatusCall=function(e){var o=e.formData,i=e.applicationId,n=e.serverProtocol,r=(e.serverDomain,e.user,e.cfRandomId),s=o.formSecret,a=e.currentVersion;if(o.formSecret in t.closedFormAjaxCallCount?t.closedFormAjaxCallCount[s]+=1:t.closedFormAjaxCallCount[s]=1,""==r&&(r=gist.getCookie("gist_id_"+gist.options.applicationId)),t.closedFormAjaxCallCount[s]<=3){var c={status:o.status,random_id:r,live_form:"true"},l={method:"PATCH",url:n+t.gtAwsFromUrl+"/projects/"+i+`${3===a?"/v3/form_data/":"/form_data/"}`+o.formSecret,data:c,contentType:"application/json",accept:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(l,(function(t){}),(function(t){"closed"==o.status&&_formShowConditionPlugin.prototype.cfSendStatusCall(e)}))}},_formShowConditionPlugin.prototype.setClosedFormCookie=function(e){""==_cfCommonFunctions.prototype.gistGetLsValue("cf_closed_forms")?_cfCommonFunctions.prototype.gistConCookiesToLs("cf_closed_forms",e):_cfCommonFunctions.prototype.gistConCookiesToLs("cf_closed_forms",_cfCommonFunctions.prototype.gistGetLsValue("cf_closed_forms")+"|"+e),t.shownFormObject.every((function(o){return e!==o.form_secret.toString()||"welcome_mat"!==o.form_type||(t.gtIsWelcomematPresent=!1,!1)})),t.shownFormObject=t.shownFormObject.map((function(t){return e===t.form_secret.toString()&&(t.isClosed=!0),t}))},_formShowConditionPlugin.prototype.cfShowCurrentForm=function(e,o=!1){var i=e.cfFormoptions,n=e.serverProtocol,r=e.serverDomain,s=e.applicationId,a=i.form_type,c=i.form_secret;cfFormDisplay=new _cfFormView;var l=gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId),d=n+t.subDomain+r+"/forms/"+c+"/get_custom_template?randomNo="+l+"&identified="+gtGist.prototype.getCookie("gist_identified_"+gist.options.applicationId)+"&appId="+s+"&formType="+a+"&formEmailId="+sessionStorage.getItem("formEmail"),m={status:"seen",formSecret:c};e.cfRandomId=l,e.cfFormURL=d,e.formData=m;const p=_cfCommonFunctions.prototype.gistGetLsValue("cf_closed_forms").split("|");(-1===p.indexOf(c.toString())&&!function(e){let o=!1;for(const i of t.shownFormObject)if(i.form_type===e)return o=!0,!0;return o}(a)||o)&&(o?function(e,o,i){if(t.shownFormObject.length>0){const i=t.shownFormObject.findIndex(t=>t.form_type===e);if(-1!==i){const e=t.shownFormObject[i];return e.isClosed?(t.shownFormObject.splice(i,1),!0):e.form_secret!==o&&(_formShowConditionPlugin.prototype.gtCloseFormElement({formType:e.form_type,form_secret:e.form_secret}),t.shownFormObject.splice(i,1),!0)}return!0}return!0}(a,c)&&(e.cfFormoptions.isClosed=!1,_formShowConditionPlugin.prototype.enableEligibleForm(e)):_formShowConditionPlugin.prototype.enableEligibleForm(e));for(let e of t["cfFormInterval_"+c])clearInterval(e)},_formShowConditionPlugin.prototype.enableEligibleForm=function(e){const o=e.cfFormoptions;let i,n;if(i=o.form_type,n=o.form_secret,"welcome_mat"===i)3!==o.version?(cfFormDisplay.cfWelcomeMate(e),_formShowConditionPlugin.prototype.cfSendStatusCall(e)):_gtFormView.prototype.gtWelcomeMate(e),_cfCommonFunctions.prototype.gtformTriggerEvent(e),t.gtIsWelcomematPresent=!0;else if("slide_in"===i){const o=setInterval((function(){const i=document.getElementById("gist-slide-in-form-iframe_"+n);null===i||t.gtIsWelcomematPresent||(i.style.visibility="visible",i.style.top="calc(100% - "+parseFloat(i.style.height)+"px)",clearInterval(o),_cfCommonFunctions.prototype.gtformTriggerEvent(e),_formShowConditionPlugin.prototype.cfSendStatusCall(e))}),50)}else if("popup"===i){const o=setInterval((function(){const i=document.getElementById("cf-popup-form-iframe_"+n);null===i||t.gtIsWelcomematPresent||(document.getElementById("popupForm_"+n).style.display="block",i.classList.add("hide-none"),i.style.display="block",_cfCommonFunctions.prototype.gtformTriggerEvent(e),_formShowConditionPlugin.prototype.cfSendStatusCall(e),clearInterval(o))}),50)}else if("fullscreen"===i){const o=setInterval((function(){const i=document.getElementById("fullscreenIframe_"+n);null===i||t.gtIsWelcomematPresent||(i.style.display="block",_cfCommonFunctions.prototype.gtformTriggerEvent(e),_formShowConditionPlugin.prototype.cfSendStatusCall(e),t.scrollType=document.body.style.overflow,document.body.style.overflow="hidden",clearInterval(o))}),50)}else if("sticky_bar"===i){const o=setInterval((function(){const i=document.getElementById("cf-sticky-bar-frame_"+n);null===i||t.gtIsWelcomematPresent||(i.style.top=0,_cfCommonFunctions.prototype.cfElementPullDown(parseFloat(i.style.height),!1),_cfCommonFunctions.prototype.gtformTriggerEvent(e),_formShowConditionPlugin.prototype.cfSendStatusCall(e),clearInterval(o))}),50)}},_formShowConditionPlugin.prototype.cfCreateFormIframe=function(t){var e=t.cfFormsData,o=(t.serverProtocol,t.serverDomain,t.currentVersion,t.applicationId,t.user,e.form_type);e.id,e.form_secret;cfFormDisplay=new _cfFormView,t.cfRandomId=gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId),"sticky_bar"==o?cfFormDisplay.cfStickyBar(t):"notification"==o?cfFormDisplay.cfNotification(t):"fullscreen"==o?cfFormDisplay.cfFullscreenView(t):"popup"==o?cfFormDisplay.cfPopup(t):"slide_in"==o&&cfFormDisplay.cfSlideIn(t)},_formShowConditionPlugin.prototype.gtCloseFormElement=function(e){({sticky_bar:function(e){if(null!=document.getElementById("cf-sticky-bar-frame_"+e.form_secret)){var o=document.getElementById("cf-sticky-bar-frame_"+e.form_secret).offsetHeight;document.getElementById("cf-sticky-bar-frame_"+e.form_secret).style.top="-100%",t.gtFixedElementDetails=[];var i=parseInt(document.body.style.marginTop);document.body.style.marginTop=i-o+"px";for(var n=document.body.getElementsByTagName("*"),r=n.length,s=0;s<r;s++)if("fixed"==t.getComputedStyle(n[s],null).getPropertyValue("position")&&!(n[s].classList.contains("gist-slide-in-form-iframe")||n[s].classList.contains("popupForm")||n[s].classList.contains("cf-sticky-bar-frame")||"IFRAME"==n[s].tagName||n[s].classList.contains("convertfox-chat")||n[s].classList.contains("cf-chat-iframe")||n[s].classList.contains("cf-form-modal-frame")||n[s].classList.contains("cf-notification-form-frame")||n[s].classList.contains("convertfox-chat")||n[s].classList.contains("gist-messenger-iframe"))){let e=document.getElementById("gist-app");if(!e||!e.contains(n[s])){var a=parseInt(t.getComputedStyle(n[s]).getPropertyValue("top"));n[s].style.top=a-o+"px"}}var c=document.getElementsByClassName("cf-notification-form-frame");if(null!=c[0]&&(c[0].style.top="25px"),setTimeout((function(){-1==convertLinkOptionSecretArray.indexOf(parseInt(e.form_secret))&&document.getElementById("cf-sticky-bar-frame_"+e.form_secret).remove()}),1e3),null!=e.closeStatus&&e.cfFormSubmitStatus){var l={formData:{status:"closed",formSecret:e.form_secret},applicationId:e.applicationId,serverProtocol:e.serverProtocol,serverDomain:e.serverDomain,currentVersion:e.currentVersion,user:e.user,cfRandomId:e.randomNo};_formShowConditionPlugin.prototype.cfSendStatusCall(l)}}t.formOpenedViaClick=!1},fullscreen:function(e){if(document.body.style.overflow=t.scrollType,null!=document.getElementById("fullscreenIframe_"+e.form_secret)&&(-1==convertLinkOptionSecretArray.indexOf(parseInt(e.form_secret))?(document.getElementById("cf-form-modal-frame_"+e.form_secret).remove(),document.getElementById("fullscreenIframe_"+e.form_secret).remove()):document.getElementById("fullscreenIframe_"+e.form_secret).style.display="none"),null!=e.closeStatus&&e.cfFormSubmitStatus){var o={formData:{status:"closed",formSecret:e.form_secret},applicationId:e.applicationId,serverProtocol:e.serverProtocol,serverDomain:e.serverDomain,currentVersion:e.currentVersion,user:e.user,cfRandomId:e.randomNo};_formShowConditionPlugin.prototype.cfSendStatusCall(o)}},popup:function(t){if(null!=document.getElementById("cf-popup-form-iframe_"+t.form_secret)&&null!=document.getElementById("popupForm_"+t.form_secret)&&(-1==convertLinkOptionSecretArray.indexOf(parseInt(t.form_secret))?document.getElementById("popupForm_"+t.form_secret).remove():(document.getElementById("popupForm_"+t.form_secret).style.display="none",document.getElementById("popupForm_"+t.form_secret).classList.remove("hide-none"))),null!=t.closeStatus&&t.cfFormSubmitStatus){var e={formData:{status:"closed",formSecret:t.form_secret},applicationId:t.applicationId,serverProtocol:t.serverProtocol,serverDomain:t.serverDomain,currentVersion:t.currentVersion,user:t.user,cfRandomId:t.randomNo};_formShowConditionPlugin.prototype.cfSendStatusCall(e)}},slide_in:function(t){const e=document.getElementById("gist-slide-in-form-iframe_"+t.form_secret);if((null!=e||null!=e)&&(setTimeout((function(){e.style.top="100%",e.style.visibility="hidden"}),50),setTimeout((function(){-1==convertLinkOptionSecretArray.indexOf(parseInt(t.form_secret))&&e.remove()}),1e3),null!=t.closeStatus&&t.cfFormSubmitStatus)){var o={formData:{status:"closed",formSecret:t.form_secret},applicationId:t.applicationId,serverProtocol:t.serverProtocol,serverDomain:t.serverDomain,currentVersion:t.currentVersion,user:t.user,cfRandomId:t.randomNo};_formShowConditionPlugin.prototype.cfSendStatusCall(o)}},welcome_mat:function(t){var e,o,i,n,r,s,a;Math.easeInOutQuad=function(t,e,o,i){return(t/=i/2)<1?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e},e=document.body,o=document.getElementById("cf-form-full-page-fade_"+t.form_secret).offsetHeight,i=1e3,n=e.scrollTop,r=o-n,s=0,(a=function(){s+=20;var t=Math.easeInOutQuad(s,n,r,i);e.scrollTop=t,document.documentElement.scrollTop=t,s<i&&setTimeout(a,20)})(),setTimeout((function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,document.getElementsByClassName("welcomeMatpageIframe")[0].style.display="none"}),1200)}})[e.formType](e)}}(),function(){this._gtFormView=function(t){this.cfFormsData=t.cfFormsData,this.serverProtocol=t.serverProtocol,this.serverDomain=t.serverDomain,this.versionNumber=t.currentVersion,this.applicationId=t.applicationId,this.user=t.user,this.id=t.cfFormsData.id,this.isFromJSTriggerAPI=t.isFromJSTriggerAPI},_gtFormView.prototype.gtStartFormConditions=function(){var e=document.getElementById(_cfCommonFunctions.prototype.cfGetFormElement(this.cfFormsData.form_type)+this.cfFormsData.form_secret);let o=e&&"true"==e.getAttribute("isfromjstrigger");t["cfFormInterval_"+this.cfFormsData.form_secret]||(t["cfFormInterval_"+this.cfFormsData.form_secret]=[]);const i=setInterval((function(e){if(-1!=_cfCommonFunctions.prototype.gistGetLsValue("cf_closed_forms").split("|").indexOf(e.cfFormsData.form_secret.toString())||o)for(let o of t["cfFormInterval_"+e.cfFormsData.form_secret])clearInterval(o);else{let[o,i,n]=_cfCommonFunctions.prototype.cfCheckDynamicCondition(e.cfFormsData.display_conditions,e.cfFormsData);if(e.cfFormsData.display_conditions=i,o||n){for(let o of t["cfFormInterval_"+e.cfFormsData.form_secret])clearInterval(o);_gtFormView.prototype.createFormFrame(e,{isOnExitIntent:n})}}}),1e3,this);t["cfFormInterval_"+this.cfFormsData.form_secret].push(i)},_gtFormView.prototype.gtOnclickListener=function(){var e=this.cfFormsData.random_link_attribute,o=this;t.addEventListener("click",(function(i){let n=i.target;if("A"!==i.target.tagName&&(n=i.target.closest("a")),null===n)return 0;var r=_cfCommonFunctions.prototype.cfTargetedElementHavingFormAttribute(n,void 0,e);if(null!=r&&(r.hasAttribute(e)||r.hasAttribute(e.toLowerCase()))){i.preventDefault();t.formOpenedViaClick=!0,o.createFormFrame(o,{applicationId:t.applicationId},!0)}}))},_gtFormView.prototype.ClientHeightWidth=function(e){let o=document.getElementById(`gt-gist-form-${e.id}`),i=document.querySelector(`#gist-form.gt-form-${e.id}`),n=document.getElementById(`cf-form-full-page-fade_${e.form_secret}`);if("welcome_mat"===e.form_type&&(document.body.scrollTop=0,document.documentElement.scrollTop=0,n.style.visibility="visible",n.style.display="block"),"fullscreen"===e.form_type)o.style.minHeight="100vh",o.style.minWidth="100vw",o.style.border="none";else if("sticky_bar"===e.form_type)o.style.width=e.width,o.style.height=e.height,e.setStickyBarSizeOnly?setTimeout(()=>{"bottom"===e.alignment?document.body.style.marginBottom=e.height:(_cfCommonFunctions.prototype.cfElementPullDown(e.height.split("px")[0],!0),document.body.style.marginTop=e.height)},1e3):"bottom"===e.alignment?(o.style.bottom="0px",o.style.transform="translateY(100%)",setTimeout(()=>{document.body.style.marginBottom=e.height,o.style["-webkit-transition"]="all 750ms",o.style["-moz-transition"]="all 750ms",o.style["-ms-transition"]="all 750ms",o.style["-o-transition"]="all 750ms",o.style.transition="all 750ms",o.style.transform="translateY(0%)"},1e3)):(_cfCommonFunctions.prototype.cfElementPullDown(e.height.split("px")[0],!1),o.style.top="0px",o.style.transform="translateY(-100%)",setTimeout(()=>{document.body.style.marginTop=e.height,o.style["-webkit-transition"]="all 750ms",o.style["-moz-transition"]="all 750ms",o.style["-ms-transition"]="all 750ms",o.style["-o-transition"]="all 750ms",o.style.transition="all 750ms",o.style.transform="translateY(0%)"},1e3));else if("slide_in"===e.form_type){"right"===e.alignment&&(o.style.right="10px");let i=()=>{let i=parseInt(e.height.replace("px",""))>t.innerHeight?`${t.innerHeight}px`:e.height;o.style.top="calc(100% - "+i+")",o.style.width=e.width,o.style.height=i,o.style.border="none"};i(),t.addEventListener("resize",()=>{i()})}else"popup"===e.form_type&&(o.style.width="100%",o.style.height="100%",o.style.border="none");i&&(i.style.visibility="visible");let r=()=>{o.contentWindow.postMessage({funName:"parentWindowSize",params:{width:t.innerWidth,height:t.innerHeight}},"*")};r(),t.addEventListener("resize",()=>{r()})},_gtFormView.prototype.createFormFrame=function(e,o,i){var n=e.cfFormsData.form_type;e.cfRandomId=gtGist.prototype.getCookie(`gist_id_${gist.options.applicationId}`);var r="",s="",a="",c={...e,formData:{...e.cfFormsData,formSecret:e.cfFormsData.form_secret},cfFormoptions:e.cfFormsData};switch(n){case"popup":r="position: fixed;top: 0px !important;left: 0px; z-index: 2147483646;",s="background: rgba(0, 0, 0, 0.7);width: 100vw;height:100vh;";break;case"sticky_bar":r="position:fixed;top:0px;right:0px;left:0px;width: 100%; z-index: 2147483644;",s="width:100vw",a='border: none;width: 100%;z-index: 2147483644;font-family: "Open Sans", sans-serif;position: fixed;left: 0;right: 0;';break;case"slide_in":r="position:fixed;bottom:0px;left:0px;z-index: 2147483644;margin-left: 10px;top:unset !important;",s="",a="position:fixed;border: none !important;box-sizing: content-box;max-width:100%;text-align: center;font-weight: 100;-webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34) !important;-moz-webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34) !important;-ms-webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34) !important;-o-webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34) !important;box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.34) !important;z-index: 2147483644;border: 1px solid #FFFFFF;-webkit-transition: top 0.75s;-moz-transition: top 0.75s;-ms-transition: top 0.75s;-o-transition: top 0.75s;transition: top 0.75s;top: 100%;";break;case"fullscreen":r="position: fixed;z-index: 2147483646; width:100%; height: 100%;top: 0% !important; left: 0%;",s="width:100vw;height:100vh"}if("welcome_mat"===n)_formShowConditionPlugin.prototype.enableEligibleForm(c);else if(!t.gtIsWelcomematPresent){var l=document.createElement("div");document.body.appendChild(l),l.className=`gt-form-${e.cfFormsData.id}`,l.id="gist-form",l.dataset.application_id=e.applicationId,l.dataset.secret_key=e.cfFormsData.form_secret,l.dataset.id=e.cfFormsData.id,l.dataset.random_id=e.cfRandomId,l.dataset.trigger_type=i?"js_trigger":n,l.dataset.project_name=t.gtProjectSetting.project_name,l.dataset.version=e.cfFormsData.version,l.style=r+"visibility: hidden",o&&"object"==typeof o&&Object.keys(o).map(t=>{"isOnExitIntent"===t&&o[t]?l.style.display="none":"formId"!==t&&(l.dataset[t]=o[t])});var d=document.createElement("div");d.style=`${s}-webkit-box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.34)`,l.appendChild(d);var m=document.createElement("iframe");let p=t.newFormJsUrl;m.id=`gt-gist-form-${e.cfFormsData.id}`,m.src=`${p}${e.applicationId}/${e.cfFormsData.form_secret}?user=${e.user}&random_no=${e.cfRandomId}&form_type=${n}&id=${e.cfFormsData.id}&page_title=${document.title}&submitted_form=${encodeURIComponent(document.location.href)}&isFromTrigger=${!!i}&previousEmail=${encodeURIComponent(sessionStorage.getItem("formEmail")||"")}`,m.style=a+"height: 100vh;width: 100vw;border: none;",m.setAttribute("form_secret",e.cfFormsData.form_secret),setTimeout((function(){d.appendChild(m)}),10),_cfCommonFunctions.prototype.gtformTriggerEvent(c)}},_gtFormView.prototype.gtWelcomeMate=function(e){var o=e.cfFormoptions.form_type;e.cfRandomId=gtGist.prototype.getCookie(`gist_id_${gist.options.applicationId}`);var i=e.isFromJSTriggerAPI,n=(o=e.cfFormoptions.form_type,e.versionNumber,e.user,e.cfFormoptions.form_secret),r=(e.cfRandomId,e.applicationId,t.newFormJsUrl,document.head||document.getElementsByTagName("head")[0]),s='.cf-form-full-page-fade {opacity: 0; height: 100vh;background-color: #FFFFFF;position: relative;}.cf-form-close {margin-top: -8px;float: right;font-size: 25px;font-weight: 200;line-height: 1;color: #03cea4;text-shadow: 0 1px 0 #fff;}button.cf-form-close {position: absolute;bottom: 60px;left:51%; -webkit-transform: translateX(-50%); -moz-transform: translateX(-50%); -ms-transform: translateX(-50%); -o-transform: translateX(-50%);transform: translateX(-50%); -webkit-appearance: none;padding: 0;cursor: pointer;background: 0 0;border: 0;} button.cf-form-close:focus {outline: none;}.dropdown:before {content: "";position: absolute;right: 0px;top: 8px;width: 23px;height: 23px;border-left-color: transparent !important;border-right-color: #03cea4;border-top-color: transparent !important;border-bottom-color: #03cea4;border: 2px solid;transform: rotate(45deg);}.cfOpenSansFont { font-family: "Open Sans", sans-serif; }.cf-welcomemat-footer {font-size: 0.7em; font-weight:600; color: #545f5c;opacity: 0.5; position: absolute; bottom: 35px; left: 30px;}.welcomeMatpageIframe { width: 100%; height: 100vh; z-index: 2147483648; position: relative;}.form-inside-footer { left: 50% !important; -webkit-transform: translateX(-50%); -moz-transform: translateX(-50%); -ms-transform: translateX(-50%); -o-transform: translateX(-50%); transform: translateX(-50%); bottom: 0px !important;} @media (min-width: 768px){.form-inside-footer {display: none;}} @media (max-width: 767px){.outside-form-footer {display: none;} .cf-form-close {left: 55% !important;}}',a=document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=s:a.appendChild(document.createTextNode(s)),r.appendChild(a);for(var c=["STYLE","META","SCRIPT","TITLE"],l=1;l<=15;l++)if(-1==c.indexOf(document.body.children[l].tagName)){document.body.children[l].className+=" cf-scroll-to-original-div";break}var d=document.createElement("div");document.body.insertBefore(d,document.body.firstChild),d.className="welcomeMatpageIframe cfForms",d.id="cf-form-full-page-fade_"+n,d.style.display="none",d.style.marginBottom="342px",d.style.visibility="hidden",d.dataset.secret_key=e.cfFormoptions.form_secret;var m=document.createElement("iframe");function p(){if(t.gtInitialScrollEvent){for(var e=document.body.getElementsByTagName("*"),i=e.length,r=0;r<i;r++)if("fixed"==t.getComputedStyle(e[r],null).getPropertyValue("position")&&"0px"!=t.getComputedStyle(e[r]).getPropertyValue("bottom")&&"gist-slide-in-form-iframe"!=e[r].className&&"popupForm"!=e[r].className&&"cf-sticky-bar-frame"!=e[r].className&&"cf-chat-iframe"!=e[r].className&&"convertfox-chat"!=e[r].className&&"cf-form-modal-frame"!=e[r].className&&!e[r].classList.contains("gist-messenger-iframe")){let t=document.getElementById("gist-app");t&&t.contains(e[r])||"none"!=document.getElementById("cf-form-full-page-fade_"+n).style.display&&(Number(document.getElementById("cf-form-full-page-fade_"+n).getBoundingClientRect().bottom)>=20?e[r].style.top="calc("+e[r].getAttribute("data_top")+"px - (100% - "+document.getElementById("cf-form-full-page-fade_"+n).getBoundingClientRect().bottom+"px))":e[r].style.top="calc("+e[r].getAttribute("data_top")+"px - (100% - 0px))")}if(Number(document.getElementById("cf-form-full-page-fade_"+n).getBoundingClientRect().bottom)<=20&&"none"!=document.getElementById("cf-form-full-page-fade_"+n).style.display){if(null!=document.getElementById("cf-form-modal_"+n)&&document.getElementById("cf-form-modal_"+n).remove(),document.getElementById("cf-form-full-page-fade_"+n).style.display="none",null!=document.getElementById("cf-form-modal_"+n)&&null!=document.getElementById("cf-form-modal_"+n).contentWindow.document.getElementById("cf-modal-form-content")&&(document.getElementById("cf-form-modal_"+n).contentWindow.document.getElementById("cf-modal-form-content").style.display="none"),!t.gtFormSubmitStatus){_formShowConditionPlugin.prototype.setClosedFormCookie(n);let e={form_type:o,form_secret:n};_gtFormView.prototype.removeFormFrame(e),t.gtFormSubmitStatus=!1}document.body.scrollTop=0,document.documentElement.scrollTop=0}}t.gtInitialScrollEvent=!0}m.className=`gt-form-${e.cfFormoptions.id}`,m.id=`gt-gist-form-${e.cfFormoptions.id}`,m.src=`${t.newFormJsUrl}${e.applicationId}/${e.cfFormoptions.form_secret}?user=${e.user}&random_no=${e.cfRandomId}&form_type=${o}&id=${e.cfFormoptions.id}&page_title=${document.title}&submitted_form=${encodeURIComponent(document.location.href)}&isFromTrigger=${!!i}&previousEmail=${encodeURIComponent(sessionStorage.getItem("formEmail")||"")}`,m.style.width="100%",m.style.height="100vh",m.style.border="none",m.setAttribute("form_secret",e.cfFormoptions.form_secret),setTimeout((function(){d.appendChild(m)}),10),t.addEventListener("scroll",p),document.body.addEventListener("scroll",p)},_gtFormView.prototype.removeFormFrame=function(t){if("welcome_mat"===t.form_type){Math.easeInOutQuad=function(t,e,o,i){return(t/=i/2)<1?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e},e=document.body,o=document.getElementById("cf-form-full-page-fade_"+t.form_secret).offsetHeight,i=1e3,n=e.scrollTop,r=o-n,s=0,(a=function(){s+=20;var t=Math.easeInOutQuad(s,n,r,i);e.scrollTop=t,document.documentElement.scrollTop=t,s<i&&setTimeout(a,20)})(),setTimeout((function(){document.documentElement.scrollTop=0,document.body.scrollTop=0;var t=document.getElementsByClassName("welcomeMatpageIframe")[0];t.style.display="none",t.parentNode.removeChild(t)}),1200)}var e,o,i,n,r,s,a;let c=document.querySelector(`#gist-form.gt-form-${t.id}`);c&&c.remove(),_cfCommonFunctions.prototype.gistConCookiesToLs("cf_form_survey",0),setTimeout((function(){"welcome_mat"!==t.form_type&&-1==convertLinkOptionSecretArray.indexOf(parseInt(params.form_secret))&&c.remove()}),1e3)}}(),function(){this._cfCommonFunctions=function(){},_cfCommonFunctions.prototype.closeFormTrigger=function(t){parent.window.gist.reactChat.triggerJSAPIEvents({method:"form:dismissed",data:{form_id:t.form_id,visitor_uuid:t.visitor_uuid}})},_cfCommonFunctions.prototype.submitFormTrigger=function(t){parent.window.gist.reactChat.triggerJSAPIEvents({method:"form:submitted",data:{form_id:t.form_id,visitor_uuid:t.visitor_uuid,fields:t.fields}})},_cfCommonFunctions.prototype.gtCheckObjectEqualStatus=function(t,e){"use strict";if(null==t||null==e)return t===e;if(t.constructor!==e.constructor)return!1;if(t instanceof Function)return t===e;if(t instanceof RegExp)return t===e;if(t===e||t.valueOf()===e.valueOf())return!0;if(Array.isArray(t)&&t.length!==e.length)return!1;if(t instanceof Date)return!1;if(!(t instanceof Object))return!1;if(!(e instanceof Object))return!1;var o=Object.keys(t);return Object.keys(e).every((function(t){return-1!==o.indexOf(t)}))&&o.every((function(o){return _cfCommonFunctions.prototype.gtCheckObjectEqualStatus(t[o],e[o])}))},_cfCommonFunctions.prototype.gtSetSessionId=function(){return sessionStorage.setItem("gtSessionId",gtGist.prototype.getSessionRandomId()),sessionStorage.getItem("gtSessionId")},_cfCommonFunctions.prototype.cfJsonToUrlEncoded=function(t,e,o){o=o||[];if("object"==typeof t)for(var i in t)this.cfJsonToUrlEncoded(t[i],e?e+"["+i+"]":i,o);else o.push(e+"="+encodeURIComponent(t));return o.join("&")},_cfCommonFunctions.prototype.gtCheckDoNotTrack=function(){return!!(t.doNotTrack||navigator.doNotTrack||navigator.msDoNotTrack)&&("1"==t.doNotTrack||"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack)},_cfCommonFunctions.prototype.debounce=function(t,e){var o;return function(){var i=this,n=arguments,r=function(){o=null,t.apply(i,n)};clearTimeout(o),o=setTimeout(r,e)}},_cfCommonFunctions.prototype.gtSetIdealTime=function(){t.gtIdealIntervals=setTimeout((function(){t.gtPageIdeal=!0}),6e4)},_cfCommonFunctions.prototype.gtAddMultipleListenerToDoc=function(e,o,i,n){const r=_cfCommonFunctions.prototype.debounce((function(t){_cfCommonFunctions.prototype.gtHandlerOfListener.apply(this,n&&n instanceof Array?n:[])}),5e3);for(var s=0;s<t.eventListeners.length;s+=1)e.addEventListener(t.eventListeners[s],r,i)},_cfCommonFunctions.prototype.gtRemoveMultipleListenerToDoc=function(e,o,i,n){for(var r=function(t){_cfCommonFunctions.prototype.gtHandlerOfListener.apply(this,n&&n instanceof Array?n:[])},s=0;s<t.eventListeners.length;s+=1)e.removeEventListener(t.eventListeners[s],r,i)},_cfCommonFunctions.prototype.gtHandlerOfListener=function(e){"object"==(void 0===t?"undefined":typeof t)&&(clearTimeout(t.gtIdealIntervals),t.gtPageIdeal=!1,_cfCommonFunctions.prototype.gtSetIdealTime())},_cfCommonFunctions.prototype.cfChatURLParams=function(e,o){var i=gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId),n=_cfCommonFunctions.prototype.gistGetLsValue("cf_displayed_triggered_chat"),r="",s=_cfCommonFunctions.prototype.gistGetLsValue("cf_shown_lead_bot_ids"),a=(document.createElement("div"),_cfCommonFunctions.prototype.gistGetLsValue("cf_app_secret_key")),c=e,l=o,d=_cfCommonFunctions.prototype.gistGetLsValue("cf_chat_open_status");return r=null!=d&&null!=d&&"undefined"!=d&&("object"==typeof d||"object"!=typeof d&&d.endsWith("}")&&d.startsWith("{"))?"object"==typeof d?d:JSON.parse(_cfCommonFunctions.prototype.gistGetLsValue("cf_chat_open_status")):{status:"false",conversationId:"",lastActiveAgentImage:"",lastActiveAgentName:"",lastActiveAgentBackground:""},"cfApplicationId="+a+"&cfRandomId="+i+"&cfServerProtocol="+c+"&cfBrowserLanguage="+t.gtBrowserLanguage+"&cfSubdomain="+t.subDomain+"&cfServerDomain="+l+"&cfTriggeredChatList="+n+"&cfChatOpenStatus="+r.status+"&cfChatOpenConversation="+r.conversationId+"&cfChatLastActiveAgentImage="+r.lastActiveAgentImage+"&cfChatLastActiveAgentName="+r.lastActiveAgentName+"&cfChatLastActiveAgentBackground="+r.lastActiveAgentBackground+"&cfParentWindowHeight=windowHeight&cfDeviceType="+_cfCommonFunctions.prototype.cfCheckMobileOrDevice()+"&cfParentWindowWidth=windowWidth&cfIdentified="+gtGist.prototype.getCookie("gist_identified_"+gist.options.applicationId)+"&cfLeadBotIds="+s},_cfCommonFunctions.prototype.cfCheckAdBlocker=function(){t.cfAdBlockEnabled=!1;var e=document.createElement("div");function o(){document.body.appendChild(e),t.setTimeout((function(){0===e.offsetHeight&&(t.cfAdBlockEnabled=!0),e.remove()}),100)}if(e.innerHTML="&nbsp;",e.className="adsbox","interactive"===document.readyState||"complete"===document.readyState)o();else var i=setInterval((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(clearInterval(i),o())}),100)}(),_cfCommonFunctions.prototype.cfGetIpAddress=function(e){t.gtIpAddressAPIInitiateFlag=!0;var o=e;t.gtIpAddressDetails={ip:o.ip,country_code:o.country_code,country_name:o.country_name,region_code:o.region_code,region_name:o.region_name,city:o.city,zip_code:o.zip_code,time_zone:o.time_zone,latitude:o.latitude,longitude:o.longitude,metro_code:o.metro_code}},_cfCommonFunctions.prototype.getTargetVisibilityCondition=function(t,e,o){var i=!1;{const n=o[t].criteria[e];switch(n.key){case"current_day":case"current_month":case"current_date":i=gistTargetVisitorsConditions.prototype.checkDateandTime(n,this,!0);break;case"current_url":i=gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsCopy(n,"specificPages");break;case"current_url_path":i=gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsWithPath(n,"specificPages");break;case"city":case"country":i=gistTargetVisitorsConditions.prototype.checkLocationConditions(n);break;case"visitors_device":i=gistTargetVisitorsConditions.prototype.checkDeviceConditions(n);break;case"number_of_pages_viewed":i=gistTargetVisitorsConditions.prototype.checkViewConditions(n);break;case"referrer_url":i=gistTargetVisitorsConditions.prototype.checkTraficReferral(n);break;case"visitors_ad_blocker_is":i=gistTargetVisitorsConditions.prototype.checkAdblockConditions(n);break;case"segments":i=gistTargetVisitorsConditions.prototype.checkSegmentConditions(n);break;case"tags":i=gistTargetVisitorsConditions.prototype.checkTagConditions(n);break;case"user_type":i=gistTargetVisitorsConditions.prototype.checkUserTypeConditions(n);break;case"office_hours":i=gistTargetVisitorsConditions.prototype.checkOfficeHours(n);break;case"browser_locale":i=gistTargetVisitorsConditions.prototype.checkBrowserLanguageConditions(n);break;default:console.warn("unexpected segment condition")}}return i},_cfCommonFunctions.prototype.getPromptConditions=function(e){var o,i=e.shownTriggeredChatIds,n=e.shownLeadBotIds,r=!1;function s(e=!1){for(let n=0;n<o.length;n++)if(o[n].enable_convertfox_link){var i="#"+o[n].convertfox_link_text;if(e){if(e===i){_cfIframeChat.prototype.cfOpenPrompt(o[n],"Bot",!0);break}}else if(t.location.href.endsWith(i)){r=!0,_cfIframeChat.prototype.cfOpenPrompt(o[n],"Bot",!0);break}}}t.officeHoursOnline=e.officeHours,o=t.gtBotChats;let a=t.gttriggeredChats,c=t.announcementData;if(!t.gtPromptInitiated&&(t.botNotTriggered=!0,t.enablePrompt=!0,s(),t.onhashchange=function(){s()},t.addEventListener("click",(function(e){let o=e.target;if("A"!==e.target.tagName&&(o=e.target.closest("a")),null===o)return 0;let i=e.target.getAttribute("href");t.location.hash===i&&s(i)})),!r)){for(let t=intervel=0;t<c.length;t++){if(-1==i.indexOf(c[t].id))0!=(l=c[t].display_conditions).length&&_cfCommonFunctions.prototype.gtCheckPromptandBotDisplayRules(l,t,"Post",c)}if(t.enablePrompt)for(let t=intervel=0;t<o.length;t++){if(-1==n.indexOf(o[t].id))0!=(l=o[t].display_conditions).length&&_cfCommonFunctions.prototype.gtCheckPromptandBotDisplayRules(l,t,"Bot",o)}if(a&&t.enablePrompt)for(let t=0;t<a.length;t++){var l;if(-1==i.indexOf(a[t].id))0!=(l=a[t].display_conditions).length&&_cfCommonFunctions.prototype.gtCheckPromptandBotDisplayRules(l,t,"TriggeredChat",a)}}if(_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app")&&t.gtReactChatIframeLoaded){var d=new CustomEvent("reactEventFired",{detail:{action:"getParentPageTitle",value:{title:t.gtPageOriginalTitle||document.title}}});document.dispatchEvent(d)}},_cfCommonFunctions.prototype.officeHoursConditionCheck=function(e){var o=null,i=null,n=null;return(null!=e.enable_chat_prompts_on_office_hours&&e.enable_chat_prompts_on_office_hours||null!=e.enable_bots_on_office_hours&&e.enable_bots_on_office_hours)&&(o=null==t.officeHoursOnline||""==t.officeHoursOnline),(null!=e.enable_chat_prompts_on_non_office_hours&&e.enable_chat_prompts_on_non_office_hours||null!=e.enable_bots_on_non_office_hours&&e.enable_bots_on_non_office_hours)&&(i=null!=t.officeHoursOnline&&""!=t.officeHoursOnline),null!=o&&(n=o),null!=i&&(n=n||i),null==n&&(n=!0),n},_cfCommonFunctions.prototype.cfGetTabletStatus=function(){var e,o=!1;return e=navigator.userAgent||navigator.vendor||t.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(o=!0),o},_cfCommonFunctions.prototype.cfGetMobileStatus=function(){var e,o=!1;return e=navigator.userAgent||navigator.vendor||t.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(o=!0),o},_cfCommonFunctions.prototype.checkElementIsExist=function(t,e){return"id"==t?document.getElementById(e):"class"==t?document.getElementsByClassName(e):"queryselector"==t?document.querySelector(e):void 0},_cfCommonFunctions.prototype.cfCheckParentElementIsTargetedElement=function(t,e){var o="",i="";if(void 0===e&&(e=document),o=t.tagName.toLowerCase(),i=_cfCommonFunctions.prototype.gtGetElementType(t),"button"==o||"a"==o||"submit"==i&&"input"==o)return t;for(var n=t.parentNode;n!==e;){var r=n;if(null==r||null==r||"undefined"==r)return null;if(o=r.tagName.toLowerCase(),i=_cfCommonFunctions.prototype.gtGetElementType(r),"button"==o||"a"==o||"submit"==i&&"input"==o)return r;n=r.parentNode}return null},_cfCommonFunctions.prototype.gtClassNameFromElement=function(t,e){var o="",i="";if(void 0===e&&(e=document),o=t.classList,i=t.id,o.contains("gist-app")||"gist-app"==i)return t;for(var n=t.parentNode;n!==e;){var r=n;if(null==r||null==r||"undefined"==r)return null;if(o=r.classList,i=r.id,o.contains("gist-app")||"gist-app"==i)return r;n=r.parentNode}return null},_cfCommonFunctions.prototype.cfTargetedElementHavingFormAttribute=function(t,e,o){var i="",n="";if(void 0===e&&(e=document),i=t.tagName.toLowerCase(),n=_cfCommonFunctions.prototype.gtGetElementType(t),("button"==i||"a"==i||"submit"==n&&"input"==i)&&(t.hasAttribute(o)||t.hasAttribute(o.toLowerCase())))return t;for(var r=t.parentNode;r!==e;){var s=r;if(null==s||null==s||"undefined"==s)return null;if(i=s.tagName.toLowerCase(),n=_cfCommonFunctions.prototype.gtGetElementType(s),("button"==i||"a"==i||"submit"==n&&"input"==i)&&(t.hasAttribute(o)||t.hasAttribute(o.toLowerCase())))return s;r=s.parentNode}return null},_cfCommonFunctions.prototype.gtGetElementType=function(t){const e=t.getAttribute("type");return null!=e&&null!=e&&"undefined"!=e?e.toLowerCase():""},_cfCommonFunctions.prototype.isFormEligible=function(t,e){var o=_cfCommonFunctions.prototype.gistGetLsValue("cf_closed_forms").split("|");return o.indexOf(e.cfFormoptions.form_secret.toString())<0||null==t&&o.indexOf(e.cfFormoptions.form_secret.toString())<0},_cfCommonFunctions.prototype.cfConstructBasicUrl=function(t,e,o){return t+e+"."+o},_cfCommonFunctions.prototype.cfElementPullDown=function(e,o){if(o){document.body.style.marginTop=t.gtFixedElementDetails.body+e+"px";for(r=(n=document.body.getElementsByTagName("*")).length,s=0;s<r;s++){a=n[s];if("fixed"==t.getComputedStyle(a,null).getPropertyValue("position")&&!(a.classList.contains("gist-slide-in-form-iframe")||a.classList.contains("popupForm")||a.classList.contains("cf-sticky-bar-frame")||"IFRAME"==a.tagName||a.classList.contains("cf-chat-iframe")||a.classList.contains("convertfox-chat")||a.classList.contains("cf-form-modal-frame")||a.classList.contains("cf-notification-form-frame")||a.classList.contains("convertfox-chat")||null!=_cfCommonFunctions.prototype.gtClassNameFromElement(a))&&a.style.top){c=parseInt(t.getComputedStyle(a).getPropertyValue("top"));a.style.top=t.gtFixedElementDetails[a.className]+e+"px"}}}else{var i=parseInt(document.body.style.marginTop);i?(t.gtFixedElementDetails.body=i,document.body.style.marginTop=i+e+"px"):(t.gtFixedElementDetails.body=0,document.body.style.marginTop=e+"px");for(var n,r=(n=document.body.getElementsByTagName("*")).length,s=0;s<r;s++){var a=n[s];if("fixed"==t.getComputedStyle(a,null).getPropertyValue("position")&&!(a.classList.contains("gist-slide-in-form-iframe")||a.classList.contains("popupForm")||a.classList.contains("cfForms")||a.classList.contains("cf-sticky-bar-frame")||"IFRAME"==a.tagName||a.classList.contains("cf-chat-iframe")||a.classList.contains("convertfox-chat")||a.classList.contains("cf-form-modal-frame")||a.classList.contains("cf-notification-form-frame")||a.classList.contains("convertfox-chat")||null!=_cfCommonFunctions.prototype.gtClassNameFromElement(a)))if("3"===a.dataset.version);else if(a.style.top){var c=parseInt(t.getComputedStyle(a).getPropertyValue("top"));t.gtFixedElementDetails[a.className]=c,a.style.top=c+e+"px"}}}},_cfCommonFunctions.prototype.cfCheckMobileOrDevice=function(){return void 0!==t.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},_cfCommonFunctions.prototype.cfChatIframeOpen=function(e){var o=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");o&&(0!=e?o.className+=" add-trans-timing":o.classList.remove("add-trans-timing")),cfWindowWidth=t.innerWidth,_cfCommonFunctions.prototype.cfCheckMobileOrDevice()?cfWindowHeight=t.innerHeight:cfWindowHeight=t.innerHeight-(40+t.gtChatBottom)},_cfCommonFunctions.prototype.checkValidEmail=function(t){return/^([A-Za-z0-9_\+\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,})$/.test(t)},_cfCommonFunctions.prototype.checkSpecificPagesConditions=function(e,o,i){var n=!1,r=e,s=t.location.pathname;if("specificPages"==o||"chatEnabled"==o)var a=t.location.href;else if("sourceReferral"==o)a=document.referrer;a=(a=a.replace(/(^\w+:|^)\/\//,"")).replace(/^www\./i,""),1!=s.length&&(s=s.replace(/\/$/,"")),1!=a.length&&(a=a.replace(/\/$/,"")),""==i&&(i="OR");for(var c=[],l=0;l<r.length;l++){var d=r[l].value.replace(/\/$/,"");if(d=(d=d.replace(/(^\w+:|^)\/\//,"")).replace(/^www\./i,""),"is_the_homepage"===r[l].condition)"/"==s||"/index.php"==s||"/index.html"==s?c.push("true"):c.push("false");else if("is_not_the_homepage"===r[l].condition)"/"!=s&&"/index.php"!=s&&"/index.html"!=s?c.push("true"):c.push("false");else if("exactly_matches"===r[l].condition)a==d?c.push("true"):c.push("false");else if("does_not_exactly_match"===r[l].condition)a!=d?c.push("true"):c.push("false");else if("contains"===r[l].condition)-1!=a.indexOf(d)&&""!=a?c.push("true"):c.push("false");else if("does_not_contain"===r[l].condition)-1==a.indexOf(d)?c.push("true"):c.push("false");else if("starts_with"===r[l].condition){1!=(m=(m=(m=r[l].value).replace(/(^\w+:|^)\/\//,"")).replace(/^www\./i,"")).length&&(m=m.replace(/\/$/,"")),a.startsWith(m)?c.push("true"):c.push("false")}else if("does_not_start_with"===r[l].condition){var m;1!=(m=(m=(m=r[l].value).replace(/(^\w+:|^)\/\//,"")).replace(/^www\./i,"")).length&&(m=m.replace(/\/$/,"")),a.startsWith(m)?c.push("false"):c.push("true")}else if("ends_with"===r[l].condition)s.endsWith(d)?c.push("true"):c.push("false");else if("does_not_end_with"==r[l].condition)s.endsWith(d)?c.push("false"):c.push("true");else if("matches_the_pattern"==r[l].condition){const e=(t,e)=>{const o=t.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*?");return`${!!new RegExp(`^${o}$`).test(e)}`};"sourceReferral"===o?c.push(e(r[l].value,document.referrer)):c.push(e(r[l].value,t.location.href))}else if("is_empty"==r[l].condition)""==a?c.push("true"):c.push("false");else if("is_all_pages"==r[l].condition)c.push("true");else if("matches_pattern"==r[l].condition){if("specificPages"==o||"chatEnabled"==o)a=t.location.href;else if("sourceReferral"==o)a=document.referrer;var p=r[l].value;p=(p=(p=(p=(p=(p=(p=p.replace(/\//gi,"\\/")).replace(/\./gi,"\\.")).replace(/[*](?!$)/gi,"[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]+")).replace(/[*]$/gi,"[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]*")).replace(/\/$/gi,"/*")).replace("/[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]*","/*[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]*")).replace(/[+]/gi,"*");var f=new RegExp(p,"g"),u=a.match(f);if(null!=u&&1==u.length){var g="";g=u[0].replace(/\/$/,"")==a.replace(/\/$/,"")?"true":"false"}else g="false";c.push(g)}}return"AND"==i?n=-1==c.indexOf("false"):"OR"==i&&(n=-1!=c.indexOf("true")),n},_cfCommonFunctions.prototype.checkNoMoreThanCondition=function(e){if(null!=e.trigger_conditions&&null==e.cfFormoptions)var o=e;else if(e.cfFormoptions&&null==e.trigger_conditions)o=e.cfFormoptions;var i=o.visibility_conditions.after_x_seconds,n=o.visibility_conditions.after_scrolling_down_x_amount,r=_cfCommonFunctions.prototype.gistGetLsValue("cf_site_start_time"),s=Math.round((new Date).getTime()/1e3),a=!0;if("true"==i.enabled)if("time_on_site"==i.when){var c=s-r;"is_no_more_than"==i.condition&&(a=c<=parseInt(i.value))}else if("time_on_page"==i.when){c=s-t.pageLoadTime;"is_no_more_than"==i.condition&&(a=c<=parseInt(i.value))}var l=!0;return"true"==n.enabled&&"is_no_more_than"==n.condition&&("percentage"==n.value_type?l=((t.pageYOffset||document.documentElement.scrollTop)+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100<=parseInt(n.value):"pixels"==n.value_type&&(l=(t.pageYOffset||document.documentElement.scrollTop)<=parseInt(n.value))),a&&l},_cfCommonFunctions.prototype.cfTargetVisitorsCondition=function(e){if(null!=e.trigger_conditions&&null==e.cfFormoptions)var o=(p=e).trigger_conditions.device_type,i=p.trigger_conditions.location,n=p.trigger_conditions.specific_pages,r=p.trigger_conditions.traffic_source_referral,s=p.trigger_conditions.using_adblock,a=p.trigger_conditions.viewed,c=p.trigger_conditions.visitors_who_belong_to_a_segment,l=t.gtPersonSegmentsArray,d=p.trigger_conditions.show_every_where,m=!0;else if(e.cfFormoptions&&null==e.trigger_conditions){var p;o=(p=e.cfFormoptions).target_visitor_conditions.device_type,i=p.target_visitor_conditions.location,n=p.target_visitor_conditions.specific_pages,r=p.target_visitor_conditions.traffic_source_referral,s=p.target_visitor_conditions.using_adblock,a=p.target_visitor_conditions.viewed,c=p.target_visitor_conditions.visitors_who_belong_to_a_segment,l=t.gtPersonSegmentsArray,d=p.target_visitor_conditions.show_every_where,m=!1}var f=!0,u=!0,g=_cfCommonFunctions.prototype.cfGetMobileStatus(),_=_cfCommonFunctions.prototype.cfGetTabletStatus(),y=!0,h=!0,v=!0,C=!0,b=!0,I=!0;if(null!=m&&m&&(I=_cfCommonFunctions.prototype.officeHoursConditionCheck(p)),null!=d&&"true"==d.enabled)return I;if(null!=n&&"true"==n.enabled&&0!=n.condition_data.length){f=!1;var w="";null!=n.operator&&(w=n.operator),f=_cfCommonFunctions.prototype.checkSpecificPagesConditions(n.condition_data,"specificPages",w)}if(null!=i&&"true"==i.enabled)if(function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return JSON.stringify(t)===JSON.stringify({})}(t.gtIpAddressDetails))u=!1;else{var F=i.value.toLowerCase().trim(),k=[null!=t.gtIpAddressDetails.city&&null!=t.gtIpAddressDetails.city?t.gtIpAddressDetails.city.toLowerCase().trim():"",null!=t.gtIpAddressDetails.country_name&&null!=t.gtIpAddressDetails.country_name?t.gtIpAddressDetails.country_name.toLowerCase().trim():""];"is"==i.condition?u=-1!=k.indexOf(F):"is_not"==i.condition&&(u=-1==k.indexOf(F))}else u=!0;if(null!=o&&"true"==o.enabled?"is_on"==o.condition?"desktop"==o.value?y=!g&&!_:"mobile"==o.value?y=!!g:"tablet"==o.value?y=!!_:"all"==o.value&&(y=!0):"is_not_on"==o.condition&&("desktop"==o.value?y=!(!g&&!_):"mobile"==o.value?y=!g:"tablet"==o.value?y=!_:"all"==o.value&&(y=!1)):y=!0,null!=a&&"true"==a.enabled&&("equals"==a.condition?h=_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")==a.value:"is_more_than"==a.condition?h=_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")>a.value:"is_less_than"==a.condition?h=_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")<a.value:"is_at_least"==a.condition?h=_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")>=a.value:"is_no_more_than"==a.condition&&(h=_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")<=a.value)),null!=r&&"true"==r.enabled&&0!=r.condition_data.length){v=!1;w="";null!=r.operator&&(w=r.operator),v=_cfCommonFunctions.prototype.checkSpecificPagesConditions(r.condition_data,"sourceReferral",w)}return C=null==s||"true"!=s.enabled||!!t.cfAdBlockEnabled,null!=c&&"true"==c.enabled&&("belongs_to"==c.condition?b=-1!=l.indexOf(parseInt(c.value)):"not_belongs_to"==c.condition&&(b=-1==l.indexOf(parseInt(c.value)))),f&&u&&y&&h&&v&&C&&b&&_cfCommonFunctions.prototype.checkNoMoreThanCondition(e)&&I},_cfCommonFunctions.prototype.gtGistAjaxCall=function(t,e,o){var i=new XMLHttpRequest;i.open(t.method,t.url),t.contentType&&i.setRequestHeader("Content-Type",t.contentType),i.onload=function(){200===i.status||204===i.status?null!=i.responseText&&""!=i.responseText&&i.responseText.endsWith("}")&&i.responseText.startsWith("{")&&"undefined"!=i.responseText&&null!=i.responseText?e(JSON.parse(i.responseText),i.status):e(null):422===i.status&&(null!=i.responseText&&""!=i.responseText&&i.responseText.endsWith("}")&&i.responseText.startsWith("{")&&"undefined"!=i.responseText&&null!=i.responseText?o(JSON.parse(i.responseText)):o(null))},t.skipStringify?i.send(t.data):i.send(JSON.stringify(t.data))},_cfCommonFunctions.prototype.cfChatRouting=function(e,o){var i="";clearInterval(t.checkChatReadyInt),null!=e&&(i=e);var n=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(n){var r=new CustomEvent("reactEventFired",{detail:{action:"route",value:{route:i,text:o}}});document.dispatchEvent(r),n.style.display="block"}},_cfCommonFunctions.prototype.cfChatOpenConMethod=function(e){var o="";clearInterval(t.checkChatReadyInt),null!=e&&(o=e);var i=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(i){i.style.display="block";var n=new CustomEvent("reactEventFired",{detail:{action:"openNewConversation",value:{textContent:o}}});document.dispatchEvent(n)}},_cfCommonFunctions.prototype.cfChatConListMethod=function(){clearInterval(t.checkChatReadyInt);var e=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(e){var o=new CustomEvent("reactEventFired",{detail:{action:"openConversationList",value:{chatStatus:"openConversationList"}}});document.dispatchEvent(o),e.style.display="block"}},_cfCommonFunctions.prototype.cfChatConArticleMethod=function(e,o){null==o&&(o=""),clearInterval(t.checkChatReadyInt);var i=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(i){var n=new CustomEvent("reactEventFired",{detail:{action:"openArticle",value:{articleData:{articleId:e,openView:o}}}});document.dispatchEvent(n),i.style.display="block"}},_cfCommonFunctions.prototype.standardHeightMessenger=function(){clearInterval(t.checkChatReadyInt);var e=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(e){var o=new CustomEvent("reactEventFired",{detail:{action:"standard",value:{chatStatus:"standard"}}});document.dispatchEvent(o),e.style.display="block";var i=e.querySelector(".gist-messenger-iframe");i.style.height="calc(100% - 120px)",i.style.right="20px",i.style.bottom="100px",i.style.borderRadius="8px",i.style.maxHeight="720px"}},_cfCommonFunctions.prototype.sidebarMessenger=function(){clearInterval(t.checkChatReadyInt);var e=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(e){var o=new CustomEvent("reactEventFired",{detail:{action:"sidebar"}});document.dispatchEvent(o),e.style.display="block";var i=e.querySelector(".gist-messenger-iframe");i.style.height="100vh",i.style.right="0",i.style.bottom="0",i.style.borderRadius="0",i.style.maxHeight="100%"}},_cfCommonFunctions.prototype.botPreview=function(){var t=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(t){t.style.display="block";var e=t.querySelector(".gist-messenger-iframe");e.style.height="100vh",e.style.right="0",e.style.bottom="0",e.style.borderRadius="0",e.style.maxHeight="100%"}},_cfCommonFunctions.prototype.gistDeleteCookie=function(e){if(null!=e&&0!=e.length)for(var o=0;o<e.length;o++)if(document.cookie=e[o]+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",document.cookie=e[o]+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=."+t.cfDefaultHost,("cf_qualification_bot"==e[o]||"cf_form_email_id"==e[o]||"cf_chat_email_id"==e[o])&&localStorage.getItem("gist-state")){var i=JSON.parse(localStorage.getItem("gist-state"));"cf_qualification_bot"==e[o]&&null!=i.messenger&&delete i.messenger.shownQualificationBot,"cf_form_email_id"==e[o]&&null!=i.forms&&delete i.forms.formEmailId,"cf_chat_email_id"==e[o]&&null!=i.messenger&&delete i.messenger.chatEmailId,i&&localStorage.setItem("gist-state",JSON.stringify(i))}},_cfCommonFunctions.prototype.gistConCookiesToLs=function(t,e){if("number"==typeof e&&(e=JSON.stringify(e)),localStorage.getItem("gist-state"))null==(o=JSON.parse(localStorage.getItem("gist-state"))).app&&(o.app={}),null==o.forms&&(o.forms={}),null==o.surveys&&(o.surveys={}),null==o.tour&&(o.tour={}),null==o.messenger&&(o.messenger={});else var o={app:{},messenger:{},forms:{}};"cf_site_start_time"==t?o.app.siteStartTime=e:"cf_page_views"==t?o.app.pageViews=e:"cf_visualization_mode"==t?o.app.visualisationMode=e:"cf_app_secret_key"==t?o.app.id=e:"identify_data"==t?o.app.identifyData=e:"contact-data-rate-limit"==t?o.app["contact-data-rate-limit"]=e:"session-rate-limit"==t?o.app["session-rate-limit"]=e:"contact-data-details"==t?o.app["contact-data-details"]=e:"cf_closed_forms"==t?o.forms.closedForms=e:"cf_showing_forms"==t?o.forms.showingForms=e:"cf_showing_survey"==t?o.surveys.showingSurveys=e:"cf_showing_tour"==t?o.tour.showingTour=e:"cf_displayed_triggered_chat"==t?o.messenger.shownTriggeredChat=e:"cf_shown_lead_bot_ids"==t?o.messenger.shownLeadBotIds=e:"cf_site_start_time_for_triggered_chat_purpose"==t?o.messenger.triggeredChatSiteStartTime=e:"cf_chat_open_status"==t&&(o.messenger.chatOpenStatus=e),o&&localStorage.setItem("gist-state",JSON.stringify(o))},_cfCommonFunctions.prototype.gistGetLsValue=function(t){var e="",o="",i=localStorage.getItem("gist-state");return null!=i&&null!=i&&""!=i&&(o=JSON.parse(i),"cf_site_start_time"==t?e=o.app.siteStartTime:"cf_page_views"==t?e=o.app.pageViews:"cf_visualization_mode"==t?e=o.app.visualisationMode:"cf_app_secret_key"==t?e=o.app.id:"cf_closed_forms"==t?e=o.forms.closedForms:"cf_showing_forms"==t?e=o.forms.showingForms:"cf_showing_survey"==t?e=o.surveys.showingSurveys:"cf_showing_tour"==t?e=o.tour.showingTour:"cf_displayed_triggered_chat"==t?e=o.messenger.shownTriggeredChat:"cf_shown_lead_bot_ids"==t?e=o.messenger.shownLeadBotIds:"cf_site_start_time_for_triggered_chat_purpose"==t?e=o.messenger.triggeredChatSiteStartTime:"cf_chat_open_status"==t?e=o.messenger.chatOpenStatus:"identify_data"==t?e=o.app.identifyData:"contact-data-rate-limit"==t?e=o.app["contact-data-rate-limit"]:"session-rate-limit"==t?e=o.app["session-rate-limit"]:"contact-data-details"==t&&(e=o.app["contact-data-details"])),null!=i&&null!=e&&"undefined"!=e||null!=(e=gist.getGistCookieFromList(t))&&null!=e&&_cfCommonFunctions.prototype.gistConCookiesToLs(t,e),e},_cfCommonFunctions.prototype.saveExitCooikeToLs=function(){var t=localStorage.getItem("gist-state"),e="",o=[];null!=t&&null!=t&&""!=t&&(null==(e=JSON.parse(t)).app.siteStartTime?(e.app.siteStartTime=gist.getGistCookieFromList("cf_site_start_time"),o.push("cf_site_start_time")):o.push("cf_site_start_time"),null==e.app.pageViews?(e.app.pageViews=gist.getGistCookieFromList("cf_page_views"),o.push("cf_page_views")):o.push("cf_page_views"),null==e.app.visualisationMode?(e.app.visualisationMode=gist.getGistCookieFromList("cf_visualization_mode"),o.push("cf_visualization_mode")):o.push("cf_visualization_mode"),null==e.app.id?(e.app.id=gist.getGistCookieFromList("cf_app_secret_key"),o.push("cf_app_secret_key")):o.push("cf_app_secret_key"),null==e.forms.closedForms?(e.forms.closedForms=gist.getGistCookieFromList("cf_closed_forms"),o.push("cf_closed_forms")):o.push("cf_closed_forms"),null==e.forms.showingForms?(e.forms.showingForms=gist.getGistCookieFromList("cf_showing_forms"),o.push("cf_showing_forms")):o.push("cf_showing_forms"),null==e.surveys.showingSurveys?(e.surveys.showingSurveys=gist.getGistCookieFromList("cf_showing_survey"),o.push("cf_showing_survey")):o.push("cf_showing_survey"),null==e.tour.showingTour?(e.tour.showingTour=gist.getGistCookieFromList("cf_showing_tour"),o.push("cf_showing_tour")):o.push("cf_showing_tour"),null==e.messenger.shownTriggeredChat?(e.messenger.shownTriggeredChat=gist.getGistCookieFromList("cf_displayed_triggered_chat"),o.push("cf_displayed_triggered_chat")):o.push("cf_displayed_triggered_chat"),null==e.messenger.shownLeadBotIds?(e.messenger.shownLeadBotIds=gist.getGistCookieFromList("cf_shown_lead_bot_ids"),o.push("cf_shown_lead_bot_ids")):o.push("cf_shown_lead_bot_ids"),null==e.messenger.triggeredChatSiteStartTime?(e.messenger.triggeredChatSiteStartTime=gist.getGistCookieFromList("cf_site_start_time_for_triggered_chat_purpose"),o.push("cf_site_start_time_for_triggered_chat_purpose")):o.push("cf_site_start_time_for_triggered_chat_purpose"),null==e.messenger.chatOpenStatus?(e.messenger.chatOpenStatus=gist.getGistCookieFromList("cf_chat_open_status"),o.push("cf_chat_open_status")):o.push("cf_chat_open_status"),localStorage.setItem("gist-state",JSON.stringify(e))),""!=gist.getGistCookieFromList("gist-id-"+gist.options.applicationId)&&(gist.setCookie("gist_id_"+gist.options.applicationId,gist.getGistCookieFromList("gist-id-"+gist.options.applicationId)),o.push("gist-id-"+gist.options.applicationId)),""!=gist.getGistCookieFromList("cf_user_email")?(sessionStorage.setItem("formEmail",gist.getGistCookieFromList("cf_user_email")),o.push("cf_user_email")):o.push("cf_user_email"),""!=gist.getGistCookieFromList("cf_identified")&&(gist.setCookie("gist_identified_"+gist.options.applicationId,gist.getGistCookieFromList("cf_identified")),o.push("cf_identified")),""==gist.getCookie("gist_id_"+gist.options.applicationId)&&""!=gist.getGistCookieFromList("cf_random_id")?(gist.setCookie("gist_id_"+gist.options.applicationId,gist.getGistCookieFromList("cf_random_id")),o.push("cf_random_id")):o.push("cf_random_id"),_cfCommonFunctions.prototype.gistDeleteCookie(o)},_cfCommonFunctions.prototype.gtNonGistForms=function(){var t=["ccname","cardnumber","cvc","ccmonth","ccyear","exp-date","card-type"],e=["cc-name","cc-number","cc-csc","cc-exp-month","cc-exp-year","cc-exp","cc-type"],o=["card number","cardnumber"],i=function(t){for(var e={},o=0;o<t.elements.length;o++){var i=t.elements[o];if("email"==i.type||i.name&&!i.disabled&&"file"!==i.type&&"reset"!==i.type&&"submit"!==i.type&&"button"!==i.type&&"hidden"!=i.type)if("select-multiple"===i.type)for(var n=0;n<i.options.length;n++)i.options[n].selected&&(e[i.name]=i.options[n].value);else"checkbox"!==i.type&&"radio"!==i.type||i.checked?"email"==i.type?e.email=i.value:e[i.name]=i.value:"checkbox"===i.type&&(e[i.name]=i.checked||i.value)}return e};function n(){for(var n=document.querySelectorAll("form"),r=0;r<n.length;r++){var s=!1,a=n[r].elements;if(!n[r].classList.contains("gist-ignore")){for(var c=0;c<a.length;c++){var l=null!=a[c].name?a[c].name.toLowerCase():"",d=null!=a[c].autocomplete?a[c].autocomplete.toLowerCase():"",m=null!=a[c].placeholder?a[c].placeholder.toLowerCase():"";if("password"==a[c].type||-1!=t.indexOf(l)||-1!=e.indexOf(d)||-1!=o.indexOf(m)){s=!1;break}"email"==a[c].type&&(s=!0)}s&&n[r].addEventListener("submit",(function(t){var e=this,o=i(this);t.preventDefault(),t.stopPropagation(),gtGist.prototype.identify(o,void 0,"non_gist_forms",(function(){e.submit()}),(function(){e.submit()}))}))}}}if(document.addEventListener)if("interactive"===document.readyState||"complete"===document.readyState)n();else var r=setInterval((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(clearInterval(r),n())}),100);new MutationObserver((function(n){if(1==n[0].addedNodes.length){var r=n[0].addedNodes[0];if("FORM"==n[0].addedNodes[0].tagName&&!r.classList.contains("gist-ignore")&&n[0].addedNodes[0].elements.length){for(var s=!1,a=n[0].addedNodes[0].elements,c=0;c<a.length;c++){var l=null!=a[c].name?a[c].name.toLowerCase():"",d=null!=a[c].autocomplete?a[c].autocomplete.toLowerCase():"",m=null!=a[c].placeholder?a[c].placeholder.toLowerCase():"";if("password"==a[c].type||-1!=t.indexOf(l)||-1!=e.indexOf(d)||-1!=o.indexOf(m)){s=!1;break}"email"==a[c].type&&(s=!0)}s&&r.addEventListener("submit",(function(t){var e=this,o=i(this);t.preventDefault(),t.stopPropagation(),gtGist.prototype.identify(o,void 0,"non_gist_forms",(function(){e.submit()}),(function(){e.submit()}))}))}}})).observe(document.body,{childList:!0})},_cfCommonFunctions.prototype.gtUserdata=function(e){t.gtUserType=e.user_type,t.gtSegments=e.segment_ids?e.segment_ids:[],t.gtTags=e.tag_ids?e.tag_ids:[]},_cfCommonFunctions.prototype.gtformTriggerEvent=function(e){gist.reactChat.triggerJSAPIEvents({method:"form:triggered",data:{form_id:e.cfFormoptions.form_secret,visitor_uuid:e.cfRandomId}}),t.shownFormObject.push(e.cfFormoptions)},_cfCommonFunctions.prototype.gtCheckPromptandBotDisplayRules=function(e,i,r,s){for(let t=0;t<e.length;t++){0==e[t].criteria.length&&(e[t].valid="false");for(var a=0;a<e[t].criteria.length;a++)if(o.includes(e[t].criteria[a].key)){if(_cfCommonFunctions.prototype.getTargetVisibilityCondition(t,a,e)){e[t].valid="true",e[t].criteria[a].eligible_form=!0;break}"wait"!=e[t].valid&&(e[t].valid="false",e[t].criteria[a].eligible_form=!1)}else n.includes(e[t].criteria[a].key)&&(e[t].valid="wait",e[t].criteria[a].eligible_form=!1)}var c=!1;for(let t=0;t<e.length;t++)"false"===e[t].valid&&(c=!0);return c?0:"newConversationBot"===r||("Bot"!==r&&"Post"!==r||(t.enablePrompt=!1),void(t.gtChatBotInterval[intervel++]=setInterval((function(e){var o=_cfCommonFunctions.prototype.gistGetLsValue("cf_site_start_time"),n=Math.round((new Date).getTime()/1e3),a=s[i].display_conditions;for(let t=0;t<a.length;t++)if("wait"==a[t].valid)for(var c=0;c<a[t].criteria.length;c++)"time_on_page"==a[t].criteria[c].key||"time_on_site"==a[t].criteria[c].key?gistVisibilityConditions.prototype.checkXseconds(a[t].criteria[c],n,o,e,!0)&&(a[t].valid="true"):"scroll_percentage"==a[t].criteria[c].key?gistVisibilityConditions.prototype.checkOnScroll(a[t].criteria[c],e,!0)&&(a[t].valid="true"):"current_time"==a[t].criteria[c].key?gistVisibilityConditions.prototype.checkTime(a[t].criteria[c],e,!0)&&(a[t].valid="true"):"on_exit_intent"==a[t].criteria[c].key&&gistVisibilityConditions.prototype.checkExitIntent(a[t].criteria[c],"Bot",!0,a[t]);var l=!0;for(let t=0;t<a.length;t++)"wait"!==a[t].valid&&"false"!==a[t].valid||(l=!1);if(l&&t.botNotTriggered){"Bot"!==r&&"Post"!==r||(t.botNotTriggered=!1);let e=s[i];_cfIframeChat.prototype.cfOpenPrompt(e,r)}}),1e3,this)))},_cfCommonFunctions.prototype.handledOfficeHour=function(t){let e=t.project_settings.office_hours;return([null,void 0,""].includes(e)||0===e.length)&&(t.project_settings.office_hours=[{Everyday:{from:"00:00",to:"23:59"}}]),t},_cfCommonFunctions.prototype.cfCheckStaticCondition=function(t=[],e=!1){if(0==t.length)return[!1,t];for(var i=0;i<t.length;i++){0==t[i].criteria.length&&(t[i].valid="false");for(var r=0;r<t[i].criteria.length;r++)if(o.includes(t[i].criteria[r].key)){let e=!1;const o=t[i].criteria[r];switch(o.key){case"current_day":case"current_month":case"current_date":e=gistTargetVisitorsConditions.prototype.checkDateandTime(o,this,!0);break;case"current_url":e=gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsCopy(o,"specificPages");break;case"current_url_path":e=gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsWithPath(o,"specificPages");break;case"city":case"country":e=gistTargetVisitorsConditions.prototype.checkLocationConditions(o);break;case"visitors_device":e=gistTargetVisitorsConditions.prototype.checkDeviceConditions(o);break;case"number_of_pages_viewed":e=gistTargetVisitorsConditions.prototype.checkViewConditions(o);break;case"referrer_url":e=gistTargetVisitorsConditions.prototype.checkTraficReferral(o);break;case"visitors_ad_blocker_is":e=gistTargetVisitorsConditions.prototype.checkAdblockConditions(o);break;case"segments":e=gistTargetVisitorsConditions.prototype.checkSegmentConditions(o);break;case"tags":e=gistTargetVisitorsConditions.prototype.checkTagConditions(o);break;case"user_type":e=gistTargetVisitorsConditions.prototype.checkUserTypeConditions(o);break;case"browser_locale":e=gistTargetVisitorsConditions.prototype.checkBrowserLanguageConditions(o);break;default:console.warn("unexpected segment condition")}if(e){t[i].valid="true";break}["wait","invalid-selector"].includes(t[i].valid)||(t[i].valid="false")}else n.includes(t[i].criteria[r].key)?t[i].valid="wait":e&&(t[i].valid="invalid-selector")}var s=!0;for(i=0;i<t.length;i++)"false"===t[i].valid&&(s=!1);return[s,t]},_cfCommonFunctions.prototype.cfCheckDynamicCondition=function(t=[],e){const o=parseInt(_cfCommonFunctions.prototype.gistGetLsValue("cf_site_start_time")),i=Math.round((new Date).getTime()/1e3);let r=!1;for(var s=0;s<t.length;s++)if("wait"==t[s].valid)for(var a=0;a<t[s].criteria.length;a++)if(n.includes(t[s].criteria[a].key)){var c=!1;if("time_on_page"==t[s].criteria[a].key||"time_on_site"==t[s].criteria[a].key?c=gistVisibilityConditions.prototype.checkXseconds(t[s].criteria[a],i,o,self,!0):"scroll_percentage"==t[s].criteria[a].key?c=gistVisibilityConditions.prototype.checkOnScroll(t[s].criteria[a],self,!0):"current_time"==t[s].criteria[a].key?c=gistVisibilityConditions.prototype.checkTime(t[s].criteria[a],self,!0):"on_exit_intent"==t[s].criteria[a].key&&(gistVisibilityConditions.prototype.checkExitIntent(t[s].criteria[a],self,!0,t[s],e),3===e.version&&(r=!0)),c){t[s].valid="true";break}"wait"!=t[s].valid&&(t[s].valid="false")}var l=!0;for(s=0;s<t.length;s++)"wait"!==t[s].valid&&"false"!==t[s].valid||(l=!1);return[l,t,r]},_cfCommonFunctions.prototype.cfCheckFrequencyDetails=function(t,e,o,i){let n=localStorage.getItem(`gist_${t}_frequency_${i}`);if(n){let r=new Date,s=JSON.parse(n),a=s.findIndex(t=>t.secretKey==o);if(-1===a)return!1;{let o=new Date(s[a].expires);if(e.type!==s[a].type){if(s[a].type=e.type,localStorage.setItem(`gist_${t}_frequency_${i}`,JSON.stringify(s)),"once"===e.type)return!0;if(r.getTime()>o.getTime())return r.setTime(r.getTime()+864e5),s[a].expires=r.toUTCString(),localStorage.setItem(`gist_${t}_frequency_${i}`,JSON.stringify(s)),!1}else if("once"!==e.type&&r.getTime()>o.getTime())return r.setTime(r.getTime()+864e5),s[a].expires=r.toUTCString(),localStorage.setItem(`gist_${t}_frequency_${i}`,JSON.stringify(s)),!1;return!0}}return!1},_cfCommonFunctions.prototype.cfGetFormElement=function(t){switch(t){case"welcome_mat":return"cf-form-modal_";case"fullscreen":return"cf-form-modal-frame_";case"popup":return"cf-popup-form-iframe_";case"slide_in":return"gist-slide-in-form-iframe_";case"sticky_bar":return"cf-sticky-bar-frame_";default:return""}},_cfCommonFunctions.prototype.cfRemoveStyleAttributeFromElements=function(t=""){if(t){let e,o=document.createElement("div");o.innerHTML=t,(e=o.querySelectorAll("*"))&&(e.forEach(t=>t.removeAttribute("style")),t=o.innerHTML)}return t},_cfCommonFunctions.prototype.cfFlashPageTitle=function(e){t.flashTitleTimeout&&(clearTimeout(t.flashTitleTimeout),document.title=t.gtPageOriginalTitle),t.gtPageOriginalTitle=document.title,document.title=e,t.flashTitleTimeout=setTimeout(()=>{document.title=t.gtPageOriginalTitle,t.flashTitleTimeout=null},2500)}}(),function(){this.gistVisibilityConditions=function(){},gistVisibilityConditions.prototype.checkXseconds=function(e,o,i,n,r){if("time_on_site"==e.key){var s=o-i;if("equals"==e.condition){if(s==parseInt(e.value)&&r)return!0}else if("greater_than"==e.condition){if(s>parseInt(e.value)&&r)return!0}else if("greater_or_equal"==e.condition){if(s>=parseInt(e.value)&&r)return!0}else if("less_than"==e.condition){if(s<parseInt(e.value)&&r)return!0}else{if("less_or_equal"!=e.condition)return!1;if(s<=parseInt(e.value)&&r)return!0}}else{if("time_on_page"!=e.key)return!1;s=o-t.pageLoadTime;if("equals"==e.condition){if(s==parseInt(e.value)&&r)return!0}else if("greater_than"==e.condition){if(s>parseInt(e.value)&&r)return!0}else if("greater_or_equal"==e.condition){if(s>=parseInt(e.value)&&r)return!0}else if("less_than"==e.condition){if(s<parseInt(e.value)&&r)return!0}else{if("less_or_equal"!=e.condition)return!1;if(s<=parseInt(e.value)&&r)return!0}}},gistVisibilityConditions.prototype.checkOnScroll=function(e,o,i){if(!((t.pageYOffset||document.documentElement.scrollTop)>0))return!1;if("greater_than"==e.condition){if(((t.pageYOffset||document.documentElement.scrollTop)+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100>parseInt(e.value)&&i)return!0}else if("equals"==e.condition){if(((t.pageYOffset||document.documentElement.scrollTop)+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100==parseInt(e.value)&&i)return!0}else if("greater_or_equal"==e.condition){if(((t.pageYOffset||document.documentElement.scrollTop)+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100>=parseInt(e.value)&&i)return!0}else if("less_or_equal"==e.condition){if(((t.pageYOffset||document.documentElement.scrollTop)+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100<=parseInt(e.value)&&i)return!0}else{if("less_than"!=e.condition)return!0;if(((t.pageYOffset||document.documentElement.scrollTop)+document.body.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100<parseInt(e.value)&&i)return!0}},gistVisibilityConditions.prototype.checkTime=function(t,e,o){if("current_time"!=t.key)return console.warn("Unwanted time condition"),!1;var i=new Date,n=new Date,r=t.value.split(" ");return timeMinute=r[0].split(":"),"pm"==r[1]&&(timeMinute[0]=+timeMinute[0],timeMinute[0]+=12),i.setHours((new Date).getHours(),(new Date).getMinutes(),(new Date).getSeconds(),0),n.setHours(timeMinute[0],timeMinute[1],0,0),"on"==t.condition?(i.setSeconds(0),i.getTime()==n.getTime()):"before"==t.condition?i.getTime()<n.getTime():"after"==t.condition?(i.setSeconds(0),i.getTime()>n.getTime()):"on_or_before"==t.condition?(i.setSeconds(0),i.getTime()<=n.getTime()):"on_or_after"==t.condition?(i.setSeconds(0),!!(i.getTime()>=n.getTime()&&o)):void 0},gistVisibilityConditions.prototype.checkExitIntent=function(t,e,o,i,n){var r=e;document.documentElement.addEventListener("mouseleave",(function(t){if(t.clientY<=0&&o&&("Bot"===r||"welcome_mat"!=n.form_type)&&(i.valid="true",3===n.version)){const t=document.getElementsByClassName(`gt-form-${n.id}`)[0];t&&(t.style.display="block")}}))},this.gistTargetVisitorsConditions=function(){},gistTargetVisitorsConditions.prototype.checkDateandTime=function(t,e,o){if("current_date"==t.key){if(cfCurrentDate=(new Date).setHours(0,0,0,0),cfGetGivenValudeDateFormat=new Date(t.value).setHours(0,0,0,0),"on"==t.condition)return cfCurrentDate==cfGetGivenValudeDateFormat;if("before"==t.condition)return cfCurrentDate<cfGetGivenValudeDateFormat;if("after"==t.condition)return cfCurrentDate>cfGetGivenValudeDateFormat;if("on_or_before"==t.condition)return cfCurrentDate<=cfGetGivenValudeDateFormat;if("on_or_after"==t.condition)return cfCurrentDate>=cfGetGivenValudeDateFormat}else if("current_day"==t.key){var i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(new Date).getDay()];if("any"==t.condition)return!!t.value.includes(i);if("none"==t.condition)return!t.value.includes(i)}else if("current_month"==t.key){var n=["january","february","march","april","may","june","july","august","september","october","november","december"][(new Date).getMonth()];if("any"==t.condition)return!!t.value.includes(n);if("none"==t.condition)return!t.value.includes(n)}},gistTargetVisitorsConditions.prototype.checkTimingConditions=function(t,e){return null==t||!t||_cfCommonFunctions.prototype.officeHoursConditionCheck(e)},gistTargetVisitorsConditions.prototype.checkDeviceConditions=function(t){if(cfCurrentPageIsMobile=_cfCommonFunctions.prototype.cfGetMobileStatus(),cfCurrentPageIsTablet=_cfCommonFunctions.prototype.cfGetTabletStatus(),null==t)return!0;if("equals"==t.condition){if("desktop"==t.value)return!cfCurrentPageIsMobile&&!cfCurrentPageIsTablet;if("mobile"==t.value)return!!cfCurrentPageIsMobile;if("tablet"==t.value)return!!cfCurrentPageIsTablet;if("all"==t.value)return!0}else if("not_equals"==t.condition){if("desktop"==t.value)return!(!cfCurrentPageIsMobile&&!cfCurrentPageIsTablet);if("mobile"==t.value)return!cfCurrentPageIsMobile;if("tablet"==t.value)return!cfCurrentPageIsTablet;if("all"==t.value)return!1}},gistTargetVisitorsConditions.prototype.checkViewConditions=function(t){return null!=t&&("equals"==t.condition?_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")==t.value:"greater_than"==t.condition?_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")>t.value:"less_than"==t.condition?_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")<t.value:"greater_or_equal"==t.condition?_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")>=t.value:"less_or_equal"==t.condition&&_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")<=t.value)},gistTargetVisitorsConditions.prototype.checkAdblockConditions=function(e){return null!=e?"false"==e.condition?!t.cfAdBlockEnabled:!!t.cfAdBlockEnabled:(console.warn("Adblock condition failed"),!0)},gistTargetVisitorsConditions.prototype.checkSegmentConditions=function(e){if("segments"==e.key){let o=e.value.some(e=>t.gtSegments.includes(e));if("any"==e.condition)return o;if("none"==e.condition)return!o}return!1},gistTargetVisitorsConditions.prototype.checkTagConditions=function(e){if("tags"==e.key){let o=e.value.some(e=>t.gtTags.includes(e));if("any"==e.condition)return o;if("none"==e.condition)return!o}return!1},gistTargetVisitorsConditions.prototype.checkUserTypeConditions=function(e){if("user_type"==e.key){let o=["visitor","lead","user"][t.gtUserType],i=e.value.includes(o);if("equals"==e.condition)return i;if("not_equals"==e.condition)return!i}return!1},gistTargetVisitorsConditions.prototype.checkLocationConditions=function(e){if(null==e)return!0;if(function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return JSON.stringify(t)===JSON.stringify({})}(t.gtIpAddressDetails))return!1;var o,i=e.value.toLowerCase().trim();return"city"==e.key?o=[null!=t.gtIpAddressDetails.city&&null!=t.gtIpAddressDetails.city?t.gtIpAddressDetails.city.toLowerCase().trim():""]:"country"==e.key&&(o=[null!=t.gtIpAddressDetails.country_name&&null!=t.gtIpAddressDetails.country_name?t.gtIpAddressDetails.country_name.toLowerCase().trim():""]),"equals"==e.condition?-1!=o.indexOf(i):"not_equals"==e.condition?-1==o.indexOf(i):void 0},gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsCopy=function(e,o){var i=t.location.pathname;if(refConditions=e,"specificPages"==o||"chatEnabled"==o)var n=t.location.href;else if("sourceReferral"==o)n=document.referrer;if("is_any_page"==refConditions.condition)return!0;if("is_homepage"===refConditions.condition)return"/"==i||"/index.php"==i||"/index.html"==i;if("is_not_homepage"===refConditions.condition)return"/"!=i&&"/index.php"!=i&&"/index.html"!=i;n=(n=n.replace(/(^\w+:|^)\/\//,"")).replace(/^www\./i,""),1!=i.length&&(i=i.replace(/\/$/,"")),1!=n.length&&(n=n.replace(/\/$/,""));var r,s=refConditions.value.replace(/\/$/,"");if(s=(s=s.replace(/(^\w+:|^)\/\//,"")).replace(/^www\./i,""),"equals"===refConditions.condition)return n==s;if("not_equals"===refConditions.condition)return n!=s;if("does_not_exactly_match"===refConditions.condition)return n!=s;if("contains"===refConditions.condition)return-1!=n.indexOf(s)&&""!=n;if("not_contains"===refConditions.condition)return-1==n.indexOf(s);if("starts_with"===refConditions.condition)return 1!=(r=(r=(r=refConditions.value).replace(/(^\w+:|^)\/\//,"")).replace(/^www\./i,"")).length&&(r=r.replace(/\/$/,"")),!!n.startsWith(r);if("does_not_starts_with"===refConditions.condition)return 1!=(r=(r=(r=refConditions.value).replace(/(^\w+:|^)\/\//,"")).replace(/^www\./i,"")).length&&(r=r.replace(/\/$/,"")),!n.startsWith(r);if("ends_with"===refConditions.condition)return!!n.endsWith(s);if("does_not_ends_with"==refConditions.condition)return!n.endsWith(s);if("matches_the_pattern"==refConditions.condition){const e=(t,e)=>{const o=t.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*?");return new RegExp(`^${o}$`).test(e)};return e(refConditions.value,"sourceReferral"===o?document.referrer:t.location.href)}if("is_empty"==refConditions.condition)return""==n;if("is_all_pages"==refConditions.condition)return!0;if("matches_pattern"==refConditions.condition){n=t.location.href;var a=refConditions.value;a=(a=(a=(a=(a=(a=(a=a.replace(/\//gi,"\\/")).replace(/\./gi,"\\.")).replace(/[*](?!$)/gi,"[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]+")).replace(/[*]$/gi,"[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]*")).replace(/\/$/gi,"/*")).replace("/[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]*","/*[a-zA-Z0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]*")).replace(/[+]/gi,"*");var c=new RegExp(a,"g"),l=n.match(c);if(null!=l&&1==l.length){return l[0].replace(/\/$/,"")==n.replace(/\/$/,"")}return!1}return console.warn("unmatched page conditions"),!1},gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsWithPath=function(e,o){var i=t.location.pathname;if(refConditions=e,"is_any_page"==refConditions.condition)return!0;if("is_homepage"===refConditions.condition)return"/"==i||"/index.php"==i||"/index.html"==i;if("is_not_homepage"===refConditions.condition)return"/"!=i&&"/index.php"!=i&&"/index.html"!=i;var n=refConditions.value;if("equals"===refConditions.condition)return i==n;if("not_equals"===refConditions.condition)return i!=n;if("does_not_exactly_match"===refConditions.condition)return i!=n;if("contains"===refConditions.condition)return i.includes(n);if("not_contains"===refConditions.condition)return!i.includes(n);if("starts_with"===refConditions.condition)return i.startsWith(n);if("does_not_starts_with"===refConditions.condition)return!i.startsWith(n);if("ends_with"===refConditions.condition)return i.endsWith(n);if("does_not_ends_with"==refConditions.condition)return!i.endsWith(n);if("matches_the_pattern"==refConditions.condition){const t=n.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*?");return new RegExp(`^${t}$`).test(i)}return console.warn("unmatched page path conditions"),!1},gistTargetVisitorsConditions.prototype.checkTraficReferral=function(t){if(null!=t)return gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsCopy(t,"sourceReferral")},gistTargetVisitorsConditions.prototype.checkOfficeHours=function(e){if("office_hours"==e.key){var o=!1;return o=null==t.officeHoursOnline||""==t.officeHoursOnline,!("true"!=e.condition||!o)||"false"==e.condition&&!o}return console.warn("Unwanted office_hours condition"),!1},gistTargetVisitorsConditions.prototype.checkBrowserLanguageConditions=function({condition:e,value:o}){const i=o.includes(t.gtBrowserLanguage);return"any"===e?i:!i}}(function(){var r,s;this.gtGist=function(){if(this.options={serverProtocol:"https://",serverDomain:"getgist.com",applicationId:"",user:"",apiConfigure:{"contact-data":{duration:6e4,count:1},session:{duration:18e5,count:1}}},t.gtBrowserLanguage=navigator.language||navigator.userLanguage||navigator.systemLanguage||navigator.browserlanguage,(null==t.gtBrowserLanguage||""==t.gtBrowserLanguage||null==t.gtBrowserLanguage)&&Array.isArray(navigator.languages))for(i=0;i<navigator.languages.length;i++){var e=navigator.languages[i];e&&e.length&&(t.gtBrowserLanguage=e)}if(null!=t.gtBrowserLanguage||""!=t.gtBrowserLanguage||null!=t.gtBrowserLanguage){var o=t.gtBrowserLanguage.split("-")[0];t.gtBrowserLanguage="zh"==o?t.gtBrowserLanguage:t.gtBrowserLanguage.split("-")[0]}},gtGist.prototype.reactChat={initChatIframe:function(){t.gtReactChatIframeLoaded=!0},initChatBubble:function(){t.gtReactChatBubbleLoaded=!0},setTriggeredChatId:function(t){""==_cfCommonFunctions.prototype.gistGetLsValue("cf_displayed_triggered_chat")?_cfCommonFunctions.prototype.gistConCookiesToLs("cf_displayed_triggered_chat",t.id):_cfCommonFunctions.prototype.gistConCookiesToLs("cf_displayed_triggered_chat",_cfCommonFunctions.prototype.gistGetLsValue("cf_displayed_triggered_chat")+"|"+t.id)},setPromptInitiated:function(){t.gtPromptInitiated=!0},removeIframeFromWindow:function(){t.isChatHtmlRendered=!1,_cfCommonFunctions.prototype.checkElementIsExist("id","gist-script")&&gist.chat("hide"),t.gtReactChatIframeLoaded=!1,t.chatScriptLoaded=!1},setChatIframeBlock:function(e){if(1==e.block){var o=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");o&&o.parentNode.removeChild(o),t.gtReactChatIframeLoaded=!1}},changeParentWindowTitle:function(e){if(t.gtProjectSetting&&t.gtProjectSetting.chat_setting&&t.gtProjectSetting.chat_setting.flash_tab_message&&""!=e.userObject&&!e.status){var o=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");o&&"none"!=o.style.display&&(flashTitle=e.userObject.full_name.split(" ")[0]+" says...",_cfCommonFunctions.prototype.cfFlashPageTitle(flashTitle))}},setChatOpenAndOpenConversationStatus:function(t){null!=t.lastActiveAgentImage&&"undefined"!=t.lastActiveAgentImage&&-1!=t.lastActiveAgentImage.indexOf("tobi")&&(t.lastActiveAgentImage="");var e={status:t.openStatus,conversationId:t.openConversationId,lastActiveAgentImage:t.lastActiveAgentImage,lastActiveAgentName:t.lastActiveAgentName,lastActiveAgentBackground:t.lastActiveAgentBackground};_cfCommonFunctions.prototype.gistConCookiesToLs("cf_chat_open_status",JSON.stringify(e))},hideDefaultChatBubble:function(){gist.chat("hide")},getUnreadMessageCount:function(e){if(null!=e.count&&t.gistUnreadCount!=e.count){t.gistUnreadCount=e.count;var o=new Event("onGistUnreadCountChange");document.dispatchEvent(o)}},getUnreadNews:function(e){if(null!=e.data&&t.gistHasUnreadNews!=e.data){t.gistHasUnreadNews=e.data;var o=new Event("gistHasUnreadNewsUpdated");document.dispatchEvent(o)}},showFaviconNotification:function(e){null!=e.count&&t.favIconScriptLoad&&"undefined"!=typeof Favico&&t.cfFavicon.badge(e.count)},officeHoursData:function(e){if(!t.officeHoursInitiated&&(t.officeHoursInitiated=!0,_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app"))){var o=new CustomEvent("reactEventFired",{detail:{action:"setOfficeHours",value:{setting:t.gtProjectSetting}}});document.dispatchEvent(o)}},triggerJSAPIEvents:function(t){_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app")&&document.dispatchEvent(new CustomEvent(t.method,{detail:t.data}))},sendGoogleAnalytics:function(t){"startConversation"==t.method?gist.on("startConversation",(function(t){null==typeof dataLayer||"undefined"==typeof dataLayer||"object"!=typeof dataLayer||null!=typeof gtag&&"undefined"!=typeof gtag?null!=typeof gtag&&"undefined"!=typeof gtag?gtag("event","New Conversation",{event_category:"ConvertFox Widget",event_label:"New Conversation",value:1}):null!=typeof ga&&"undefined"!=typeof ga&&ga("send","event","ConvertFox Widget","New Conversation"):dataLayer.push({event:"New Conversation",eventCategory:"ConvertFox Widget",eventAction:"New Conversation",eventLabel:"New Conversation",eventValue:1})})):"emailCapture"==t.method&&gist.on("emailCapture",(function(t){null==typeof dataLayer||"undefined"==typeof dataLayer||"object"!=typeof dataLayer||null!=typeof gtag&&"undefined"!=typeof gtag?null!=typeof gtag&&"undefined"!=typeof gtag?gtag("event","Email Captured",{event_category:"ConvertFox Widget",event_label:"Email Captured",value:1}):null!=typeof ga&&"undefined"!=typeof ga&&ga("send","event","ConvertFox Widget","Email Captured"):dataLayer.push({event:"Email Captured",eventCategory:"ConvertFox Widget",eventAction:"Email Captured",eventLabel:"Email Captured",eventValue:1})}))},pageScrollToBottom:function(){t.scrollTo(0,document.body.scrollHeight)},checkDoNotTrack:function(){if(_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app")){var t=new CustomEvent("reactEventFired",{detail:{action:"setDoNotTrackInfo",value:_cfCommonFunctions.prototype.gtCheckDoNotTrack()}});document.dispatchEvent(t)}},identifyCallBack:function(t){gist.identify(t,void 0,"reloadFalse")},initPrompt:function(e){if(t.chatPromptInitiated||(t.chatPromptInitiated=!0,t.gtChatReadAtPageLoad||(t.gtChatReadAtPageLoad=!0,setTimeout((function(){document.dispatchEvent(t.gtGistChatReady)}),1200)),clearInterval(t.gtChatInterval),t.gtBotPreviewData?(t.gtPromptInitiated=!0,_cfIframeChat.prototype.cfOpenPrompt(t.gtBotPreviewData,"previewBot")):t.kbViewStatus&&t.gtSegmentsCalled&&!t.isForRailsApp&&_cfCommonFunctions.prototype.getPromptConditions(e)),!t.gtBotPreviewData){let e=t.gtNewConversationBots,i=[];for(let t=0;t<e.length;t++){let o=e[t].display_conditions;if(0===o.length)continue;_cfCommonFunctions.prototype.gtCheckPromptandBotDisplayRules(o,t,"newConversationBot",e)&&i.push(e[t])}var o=new CustomEvent("reactEventFired",{detail:{action:"setNewConversationBot",value:i}});document.dispatchEvent(o)}},setLeadBotId:function(t){""==_cfCommonFunctions.prototype.gistGetLsValue("cf_shown_lead_bot_ids")?_cfCommonFunctions.prototype.gistConCookiesToLs("cf_shown_lead_bot_ids",t.id):_cfCommonFunctions.prototype.gistConCookiesToLs("cf_shown_lead_bot_ids",_cfCommonFunctions.prototype.gistGetLsValue("cf_shown_lead_bot_ids")+"|"+t.id)},updateFormSessionData:function(e){sessionStorage.setItem("formEmail",e.userEmail),t.gtUserType=e.userType,gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,e.randomId);_cfCommonFunctions.prototype.gistConCookiesToLs("cf_chat_open_status",{status:"false",conversationId:"",lastActiveAgentImage:"",lastActiveAgentName:"",lastActiveAgentBackground:""}),(e.chatReload||"true"==e.chatReload)&&(t.notificationChatOpen=!1,""!=t.gtProjectSetting?gtGist.prototype.checkChatEnabledConditions(!0):gtGist.prototype.getChatEnabledConditions((function(t){gtGist.prototype.checkChatEnabledConditions(!0)}),(function(t){})))},setIdentifyEmailStatusAfterGetChatMail:function(t){t.identify.data.identified&&(gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,1),localStorage.removeItem(`gt-${gist.options.applicationId}-triggerChat-list`))},setCfIphoneFixed:function(o){"add"!=o||null==e||"undefined"==e||null==e||"null"==e||"iPad"!=e[0]&&"Tablet"!=e[0]&&"iPod"!=e[0]&&"iPhone"!=e[0]?"remove"==o&&(document.body.classList.remove("gist-body-fixed"),null!=t.gtPageScrollPosition&&null!=t.gtPageScrollPosition&&(document.body.scrollTop=t.gtPageScrollPosition)):(t.gtPageScrollPosition=t.pageYOffset||document.documentElement.scrollTop,document.body.classList.add("gist-body-fixed"),_cfCommonFunctions.prototype.cfChatIframeOpen(0))},updateIframeDimensions:function(t){var e=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(e){var o=e.querySelector(".gist-messenger-iframe");_cfCommonFunctions.prototype.cfCheckMobileOrDevice()||("article"===t.mode?(o.style.maxHeight="100%",o.style.width="700px"):(o.style.width="400px","sidebar"==localStorage.getItem("widgetSize")?o.style.maxHeight="100%":o.style.maxHeight="720px"))}}},gtGist.prototype.on=function(t,e,o){null!=e&&e(t),o&&o(t)},gtGist.prototype.trigger=function(e,o,i){if("tour"===e){var n={gtTourData:{id:o},applicationId:gist.options.applicationId,user:gist.options.user};new _gtTour(n).cfCreateTourIframe(n,i,!0)}else if("tooltip"===e){var r={gtTooltipData:{id:o},applicationId:gist.options.applicationId,user:gist.options.user};new _gtTooltip(r).cfCreateTooltipIframe(r,i,!0)}else if("survey"!==e||t.surveyJSTriggerAPI.length){if("bot"===e){let e=t.gtBotChats.find(t=>t.id===o);e&&_cfIframeChat.prototype.cfOpenPrompt(e,"Bot",!0)}else if("post"===e){let e=t.announcementData.find(t=>t.id===o);e&&_cfIframeChat.prototype.cfOpenPrompt(e,"Post",!0)}else if("chat"===e){let e=t.gttriggeredChats.find(t=>t.id===o);e&&_cfIframeChat.prototype.cfOpenPrompt(e,"TriggeredChat",!0)}else if("form"===e){let e=t.liveForms.find(t=>t.form_secret==o);if(e){var s={cfFormsData:e,serverProtocol:gist.options.serverProtocol,serverDomain:gist.options.serverDomain,applicationId:gist.options.applicationId,user:gist.options.user,currentVersion:gist.options.versionNumber,isFromJSTriggerAPI:!0};if(t.gtFormsData.find(t=>t.form_secret==e.form_secret)){var a=document.getElementById(_cfCommonFunctions.prototype.cfGetFormElement(e.form_type)+e.form_secret);3===e.version&&(a=document.querySelector(`[data-secret_key='${e.form_secret}']`)),a||(3===e.version?_gtFormView.prototype.createFormFrame(s,{applicationId:t.applicationId},!0):"welcome_mat"!==e.form_type?_formShowConditionPlugin.prototype.cfCreateFormIframe(s):(s.cfFormoptions=e,_formShowConditionPlugin.prototype.cfShowCurrentForm(s,!0)))}else if(3===e.version){let o=new _gtFormView(s);t[`cfFormInstance_${e.form_secret}`]=o,o.createFormFrame({...s,versionNumber:s.currentVersion,id:s.cfFormsData.id},{applicationId:t.applicationId},!0),t.gtFormsData.push(e)}else t["cfFormInstance_"+e.form_secret]=new _formShowConditionPlugin(s),t.gtFormsData.push(e),"welcome_mat"!==e.form_type?_formShowConditionPlugin.prototype.cfCreateFormIframe(s):(s.cfFormoptions=e,_formShowConditionPlugin.prototype.cfShowCurrentForm(s,!0))}}}else{let e={cfSurveyOptions:{id:o},serverProtocol:gist.options.serverProtocol,serverDomain:t.gtAwsSurveyUrl,versionNumber:gist.options.versionNumber,applicationId:gist.options.applicationId,user:gist.options.user};_surveyFormShowConditionPlugin.prototype.cfCreateSurveyIframe(e,i,!0)}},gtGist.prototype.chat=function(e,o,i){tempThis=this;var n=_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app");if(t.gtPersonCreated)if("show"==e){if(n){var r=new CustomEvent("reactEventFired",{detail:{action:"chatOpenStatus",value:{isChatOpen:!0}}});document.dispatchEvent(r),n.style.display="block"}}else if("hide"==e){if(n){r=new CustomEvent("reactEventFired",{detail:{action:"chatOpenStatus",value:{isChatOpen:!1}}});document.dispatchEvent(r),n.style.display="none"}}else if("open"==e){if(n){r=new CustomEvent("reactEventFired",{detail:{action:"messengerVisibilityStatus",value:{showMessenger:!0}}});document.dispatchEvent(r),n.style.display="block"}}else if("close"==e){if(n){r=new CustomEvent("reactEventFired",{detail:{action:"messengerVisibilityStatus",value:{showMessenger:!1}}});document.dispatchEvent(r),n.style.display="block"}}else if("showLauncher"==e){if(n){r=new CustomEvent("reactEventFired",{detail:{action:"launcherVisibilityStatus",value:{showLauncher:!0}}});document.dispatchEvent(r),n.style.display="block"}}else if("hideLauncher"==e){if(n){r=new CustomEvent("reactEventFired",{detail:{action:"launcherVisibilityStatus",value:{showLauncher:!1}}});document.dispatchEvent(r),n.style.display="block"}}else if("navigate"==e)t.isGtChatReady?_cfCommonFunctions.prototype.cfChatRouting(o,i):(clearInterval(t.checkChatReadyInt),t.checkChatReadyInt=setInterval((function(){t.isGtChatReady&&_cfCommonFunctions.prototype.cfChatRouting(o,i)}),1e3));else if("newsItem"==e)t.isGtChatReady?_cfCommonFunctions.prototype.cfChatRouting(e,o,i):(clearInterval(t.checkChatReadyInt),t.checkChatReadyInt=setInterval((function(){t.isGtChatReady&&_cfCommonFunctions.prototype.cfChatRouting(e,o,i)}),1e3));else if("openNewConversation"==e)t.isGtChatReady?_cfCommonFunctions.prototype.cfChatOpenConMethod(o):(clearInterval(t.checkChatReadyInt),t.checkChatReadyInt=setInterval((function(){t.isGtChatReady&&_cfCommonFunctions.prototype.cfChatOpenConMethod(o)}),1e3));else if("shutdown"==e)tempThis.resetCookie(),tempThis.trackPageView("chatShutdown");else if("openConversationList"==e)t.isGtChatReady?_cfCommonFunctions.prototype.cfChatConListMethod():(clearInterval(t.checkChatReadyInt),t.checkChatReadyInt=setInterval((function(){t.isGtChatReady&&_cfCommonFunctions.prototype.cfChatConListMethod()}),1e3));else if("article"==e)t.isGtChatReady?_cfCommonFunctions.prototype.cfChatConArticleMethod(o,i):(clearInterval(t.checkChatReadyInt),t.checkChatReadyInt=setInterval((function(){t.isGtChatReady&&_cfCommonFunctions.prototype.cfChatConArticleMethod(o,i)}),1e3));else if("standard"==e)t.isGtChatReady?_cfCommonFunctions.prototype.standardHeightMessenger():(clearInterval(t.checkChatReadyInt),t.checkChatReadyInt=setInterval((function(){t.isGtChatReady&&_cfCommonFunctions.prototype.standardHeightMessenger()}),1e3));else if("sidebar"==e)t.isGtChatReady?_cfCommonFunctions.prototype.sidebarMessenger():(clearInterval(t.checkChatReadyInt),t.checkChatReadyInt=setInterval((function(){t.isGtChatReady&&_cfCommonFunctions.prototype.sidebarMessenger()}),1e3));else if("config"==e){if(t.chatConfig=o,n&&t.isGtChatReady){r=new CustomEvent("reactEventFired",{detail:{action:"setChatConfig",value:o}});document.dispatchEvent(r)}}else if("botPreview"==e&&o)if(t.gtBotPreviewData=o,t.isGtChatReady)_cfCommonFunctions.prototype.botPreview();else var s=setInterval((function(){t.isGtChatReady&&(clearInterval(s),_cfCommonFunctions.prototype.botPreview())}),1e3)},gtGist.prototype.appearance=function(e,o){if(t.gtPersonCreated&&(("greeting"==e||"welcomeText"==e||"backgroundColor"==e||"chatIconColor"==e)&&_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app"))){var i=new CustomEvent("reactEventFired",{detail:{action:"chatAppearance",value:{action:e,value:o}}});document.dispatchEvent(i)}},gtGist.prototype.resetCookie=function(){for(var e=[{key:"gist_id_"+gist.options.applicationId,value:""},{key:"gist_identified_"+gist.options.applicationId,value:0}],o=[{key:"cf_closed_forms",value:""},{key:"cf_showing_forms",value:""},{key:"cf_showing_survey",value:""},{key:"cf_showing_tour",value:""},{key:"cf_displayed_triggered_chat",value:""},{key:"cf_shown_lead_bot_ids",value:""},{key:"cf_chat_open_status",value:{status:"false",conversationId:"",lastActiveAgentImage:"",lastActiveAgentName:"",lastActiveAgentBackground:""}},{key:"cf_visualization_mode",value:""},{key:"identify_data",value:""},{key:"contact-data-rate-limit",value:[]},{key:"session-rate-limit",value:[]},{key:"contact-data-details",value:{}}],i=0;i<e.length;i++)gtGist.prototype.setCookie(e[i].key,e[i].value);for(var n=0;n<o.length;n++)_cfCommonFunctions.prototype.gistConCookiesToLs(o[n].key,o[n].value);t.gtPromptInitiated=!1},gtGist.prototype.getQueryParams=function(){var e={},o=t.location.search.substring(1);if(!o){var i=t.location.hash;o=i.slice(i.indexOf("?")+1)}for(var n=o.split("&"),r=0;r<n.length;r++){var s,a=n[r].split("=");try{s=decodeURIComponent(a[1])}catch(t){s=a[1]}if(void 0===e[a[0]])e[a[0]]=s;else if("string"==typeof e[a[0]]){var c=[e[a[0]],s];e[a[0]]=c}else e[a[0]].push(s)}return e}(),gtGist.prototype.setCookie=function(e,o,i){null!=i&&""!=i&&0!=i||(i=365);var n=new Date;"cf_default_host"==e?n.setTime(n.getTime()+9e5):n.setTime(n.getTime()+24*i*60*60*1e3);var r="expires="+n.toUTCString();ipv4Url=RegExp(["^https?://([a-z0-9\\.\\-_%]+:([a-z0-9\\.\\-_%])+?@)?","((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4","][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])?","(:[0-9]+)?(/[^\\s]*)?$"].join(""),"i"),ipv4Url.test(t.location.protocol+"//"+t.location.hostname)?document.cookie=e+"="+o+";"+r+";path=/":null!=t.cfDefaultHost&&(t.cfDefaultHost===t.gtBotPreviewDomain?document.cookie=e+"="+o+";"+r+";path=/;domain=."+t.cfDefaultHost+";SameSite=None; Secure":document.cookie=e+"="+o+";"+r+";path=/;domain=."+t.cfDefaultHost),(e!="gist_id_"+gist.options.applicationId&&e!="gist-id-"+gist.options.applicationId&&e!="gist_identified_"+gist.options.applicationId||"localhost"==t.location.hostname&&(e=="gist_id_"+gist.options.applicationId||e=="gist-id-"+gist.options.applicationId||e=="gist_identified_"+gist.options.applicationId))&&(ipv4Url.test(t.location.protocol+"//"+t.location.hostname)||(document.cookie=e+"="+o+";"+r+";path=/"))},gtGist.prototype.getCookie=function(t){var e=_cfCommonFunctions.prototype.gistGetLsValue("cf_app_secret_key");if(""==e&&(e=gist.getGistCookieFromList("cf_app_secret_key")),t=="gist_id_"+gist.options.applicationId){var o=gist.getGistCookieFromList("gist_id_"+gist.options.applicationId),i=gist.getGistCookieFromList("cf_random_id");return""==o?(""!=i&&e==gist.options.applicationId&&gist.setCookie("gist_id_"+gist.options.applicationId,i),i):o}if(t=="gist_identified_"+gist.options.applicationId){var n=gist.getGistCookieFromList("gist_identified_"+gist.options.applicationId),r=gist.getGistCookieFromList("cf_identified");return""==n?(""!=r&&e==gist.options.applicationId&&gist.setCookie("gist_identified_"+gist.options.applicationId,r),r):n}},gtGist.prototype.getGistCookieFromList=function(e){for(var o=e+"=",i=document.cookie.split(";"),n="",r=0;r<i.length;r++){var s;try{s=decodeURIComponent(i[r])}catch(t){s=i[r]}for(;" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(o)){if("cloudflare.works"!=t.cfDefaultHost){n=s.substring(o.length,s.length);break}n=s.substring(o.length,s.length)}}return n},gtGist.prototype.user={anonymousId:function(){return gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId)}},gtGist.prototype.getSessionRandomId=function(){function e(){return Math.floor(65536*(1+t.cfMath.random())).toString(16).substring(1)}return _cfCommonFunctions.prototype.gistGetLsValue("cf_app_secret_key")+"-"+Date.now()+"-"+e()+e()},gtGist.prototype.getRandomId=function(t,e){var o="";return""!=gist.getCookie("gist_id_"+t)?""==_cfCommonFunctions.prototype.gistGetLsValue("cf_app_secret_key")?(_cfCommonFunctions.prototype.gistConCookiesToLs("cf_app_secret_key",t),o=gist.getCookie("gist_id_"+t)):o=gist.getCookie("gist_id_"+t):"url"!=e&&_cfCommonFunctions.prototype.gistConCookiesToLs("cf_app_secret_key",t),o},gtGist.prototype.setAppData=function(t,e){this.options.applicationId=t,this.options.user="data",this.options.webApi="web-api",this.options.track="track",this.options.versionNumber=1},gtGist.prototype.initVisualisationMode=function(){var e=this.options;function o(){var e=document.createElement("script");return e.type="text/javascript",e.src=t.eventVisualisationJsUrl,document.head.appendChild(e),e}null!=this.getQueryParams.cfVisualizerToken?(_cfCommonFunctions.prototype.gistConCookiesToLs("cf_visualization_mode",this.getQueryParams.cfVisualizerToken),o().onload=function(){cfVisualisationWindow=new _cfVisualisationMode(e)}):_cfCommonFunctions.prototype.gistGetLsValue("cf_visualization_mode")?o().onload=function(){cfVisualisationWindow=new _cfVisualisationMode(e)}:(this.cfRegisterClickListeners(),this.cfRegisterFormListener())},gtGist.prototype.loadFavicon=function(){if(t.gtProjectSetting&&t.gtProjectSetting.chat_setting&&t.gtProjectSetting.chat_setting.flash_tab_message){(()=>{const e=document.createElement("script");return e.type="text/javascript",e.src=t.faviconJsUrl,document.head.appendChild(e),e})().onload=()=>{"function"==typeof t.gtLoadFavicon&&t.gtLoadFavicon()}}},gtGist.prototype.cfRegisterClickListeners=function(){if(document.addEventListener){var e=document.querySelector("body");if(e)e.addEventListener("click",function(e){if(null!=t.gtProjectSetting.track_events&&"undefined"!=t.gtProjectSetting.track_events||(t.gtProjectSetting.track_events=!0),t.gtProjectSetting.track_events){var o=e.target||e.srcElement,i=_cfCommonFunctions.prototype.cfCheckParentElementIsTargetedElement(o);null!=i&&this.cfHandleEvents(i)}}.bind(this),!1);else var o=setInterval((function(){(e=document.querySelector("body"))&&(e.addEventListener("click",function(e){if(null!=t.gtProjectSetting.track_events&&"undefined"!=t.gtProjectSetting.track_events||(t.gtProjectSetting.track_events=!0),t.gtProjectSetting.track_events){var o=e.target||e.srcElement,i=_cfCommonFunctions.prototype.cfCheckParentElementIsTargetedElement(o);null!=i&&this.cfHandleEvents(i)}}.bind(this),!1),clearInterval(o))}),1e3)}else document.attachEvent&&document.body.attachEvent("onclick",function(e){if(null!=t.gtProjectSetting.track_events&&"undefined"!=t.gtProjectSetting.track_events||(t.gtProjectSetting.track_events=!0),t.gtProjectSetting.track_events){var o=e.target||e.srcElement,i=_cfCommonFunctions.prototype.cfCheckParentElementIsTargetedElement(o);null!=i&&this.cfHandleEvents(i)}}.bind(this),!1)},gtGist.prototype.cfRegisterFormListener=function(){var t=document.getElementsByTagName("form");if(document.addEventListener)for(var e=0,o=t.length;e<o;e++)t[e].addEventListener("submit",function(t){var e=t.target||t.srcElement,o=_cfCommonFunctions.prototype.cfCheckParentElementIsTargetedElement(e);null!=o&&this.cfHandleEvents(o)}.bind(this),!1);else if(document.attachEvent)for(e=0,o=t.length;e<o;e++)t[e].attachEvent("onsubmit",function(t){var e=t.target||t.srcElement,o=_cfCommonFunctions.prototype.cfCheckParentElementIsTargetedElement(e);null!=o&&this.cfHandleEvents(o)}.bind(this),!1)},gtGist.prototype.cfHandleOutboundMessages=function(){if(_cfCommonFunctions.prototype.gistConCookiesToLs("cf_showing_survey",0),_cfCommonFunctions.prototype.gistConCookiesToLs("cf_showing_tour",0),""==_cfCommonFunctions.prototype.gistGetLsValue("cf_visualization_mode")&&t.kbViewStatus){var e=null,i=null,r=null,s=null,a=t.liveForms,c=t.liveSurveys,l=t.liveTour,d=null,m=!0,p=!0,f=!0,u=!0,g=gist.options.applicationId,_=gist.options.serverProtocol,y=gist.options.serverDomain,h=gist.options.versionNumber,v=gist.options.user,C=!1;t.gtPersonSegmentsArray=[];for(let o=0;o<a.length;o++){let[n,c]=_cfCommonFunctions.prototype.cfCheckStaticCondition(a[o].display_conditions);a[o].display_conditions=c;let l={...a[o],cfFormoptions:a[o]};var b=!1;if(0==document.querySelectorAll("["+a[o].random_link_attribute+"]").length&&0==document.querySelectorAll("["+a[o].random_link_attribute.toLowerCase()+"]").length||(b=!0),b&&(convertLinkOptionSecretArray.push(a[o].form_secret),convertLinkOptionArray.push(a[o])),n&&("welcome_mat"===a[o].form_type&&_cfCommonFunctions.prototype.isFormEligible(e,l)&&m?e=a[o]:("fullscreen"===a[o].form_type||"popup"===a[o].form_type)&&_cfCommonFunctions.prototype.isFormEligible(s,l)&&f?s=a[o]:"sticky_bar"===a[o].form_type&&_cfCommonFunctions.prototype.isFormEligible(r,l)&&u?r=a[o]:"slide_in"===a[o].form_type&&_cfCommonFunctions.prototype.isFormEligible(i,l)&&p&&(i=a[o])),null!=e&&m){C=!0;var I={cfFormoptions:e,serverProtocol:_,serverDomain:y,versionNumber:h,applicationId:g,user:v};_formShowConditionPlugin.prototype.cfShowCurrentForm(I),m=!1}null!=s&&f&&(t.gtFormsData.push(s),f=!1),null!=r&&u&&(t.gtFormsData.push(r),u=!1),null!=i&&p&&(t.gtFormsData.push(i),p=!1)}for(var w=0;w<t.gtFormsData.length;w++)if(C=!0,3===t.gtFormsData[w].version){var F={cfFormsData:t.gtFormsData[w],serverProtocol:_,serverDomain:y,currentVersion:h,applicationId:g,user:v};t["cfFormInstance_"+t.gtFormsData[w].form_secret]=new _gtFormView(F),t["cfFormInstance_"+t.gtFormsData[w].form_secret].gtStartFormConditions()}else{F={cfFormsData:t.gtFormsData[w],serverProtocol:_,serverDomain:y,currentVersion:h,applicationId:g,user:v};t["cfFormInstance_"+t.gtFormsData[w].form_secret]=new _formShowConditionPlugin(F),_formShowConditionPlugin.prototype.cfCreateFormIframe(F)}for(w=0;w<c.length;w++){var k=c[w].display_conditions;c[w];if(0!=k.length){for(var T=0;T<k.length;T++){0==k[T].criteria.length&&(k[T].valid="false");for(var S=0;S<k[T].criteria.length;S++)if(o.includes(k[T].criteria[S].key)){var E=!1;if("current_day"===k[T].criteria[S].key||"current_month"===k[T].criteria[S].key||"current_date"===k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkDateandTime(k[T].criteria[S],this,!0):"current_url"===k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsCopy(k[T].criteria[S],"specificPages"):"current_url_path"===k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkSpecificPagesConditionsWithPath(k[T].criteria[S],"specificPages"):"city"==k[T].criteria[S].key||"country"==k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkLocationConditions(k[T].criteria[S]):"visitors_device"==k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkDeviceConditions(k[T].criteria[S]):"number_of_pages_viewed"==k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkViewConditions(k[T].criteria[S]):"referrer_url"==k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkTraficReferral(k[T].criteria[S]):"visitors_ad_blocker_is"==k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkAdblockConditions(k[T].criteria[S]):"segments"==k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkSegmentConditions(k[T].criteria[S]):"tags"==k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkTagConditions(k[T].criteria[S]):"user_type"==k[T].criteria[S].key?E=gistTargetVisitorsConditions.prototype.checkUserTypeConditions(k[T].criteria[S]):console.warn("unexpected segment condition"),E){k[T].valid="true",k[T].criteria[S].eligible_form=!0;break}"wait"!=k[T].valid&&(k[T].valid="false",k[T].criteria[S].eligible_form=!1)}else n.includes(k[T].criteria[S].key)&&(k[T].valid="wait",k[T].criteria[S].eligible_form=!1)}var x=!1;for(T=0;T<k.length;T++)"false"===k[T].valid&&(x=!0);x||c[w].frequency_details&&_cfCommonFunctions.prototype.cfCheckFrequencyDetails("survey",c[w].frequency_details,c[w].id,g)||null!=(d=c[w])&&t.gtSurveyData.push(d)}}for(w=0;w<t.gtSurveyData.length;w++){C=!0;var P={cfSurveyData:t.gtSurveyData[w],serverProtocol:_,serverDomain:t.gtAwsSurveyUrl,currentVersion:h,applicationId:g,user:v};t["cfSurveyInstance_"+t.gtSurveyData[w].secret_key]=new _surveyFormShowConditionPlugin(P),t["cfSurveyInstance_"+t.gtSurveyData[w].secret_key].cfStartSurveyConditions()}let N,j=gtGist.prototype.getQueryParams,R=localStorage.getItem(`gt-${g}-tour`);if("tourId"in j)N=j;else if(R){const t=JSON.parse(R);N=t&&t.preview?t:null}if(N){let{tourId:t,stepId:e}=N;N={stepId:e,tourId:t,preview:!0};var L={gtTourData:{id:t},applicationId:gist.options.applicationId,user:gist.options.user};new _gtTour(L).cfCreateTourIframe(L,N)}else if(l.length){let e=_gtTour.prototype.gtCheckTourSession(g,l);if(e&&e.tourId){L={gtTourData:{id:e.tourId},applicationId:gist.options.applicationId,user:gist.options.user};new _gtTour(L).cfCreateTourIframe(L,e)}else for(let e=0;e<l.length;e++)if(!l[e].frequency_details||!_cfCommonFunctions.prototype.cfCheckFrequencyDetails("tour",l[e].frequency_details,l[e].id,g)){let[o,i]=_cfCommonFunctions.prototype.cfCheckStaticCondition(l[e].display_conditions);l[e].display_conditions=i,o&&t.gtTourData.push(l[e])}}for(w=0;w<t.gtTourData.length;w++){var D={gtTourData:t.gtTourData[w],applicationId:g,user:v};t["gtTourInstance_"+t.gtTourData[w].secret_key]=new _gtTour(D),t["gtTourInstance_"+t.gtTourData[w].secret_key].gtStartTourConditions()}t.gtTooltipData=t.gtTooltipData||[];for(let e=0;e<t.liveTooltips.length;e++){let[o,i]=_cfCommonFunctions.prototype.cfCheckStaticCondition(t.liveTooltips[e].display_conditions);t.liveTooltips[e].display_conditions=i,o&&t.gtTooltipData.push(t.liveTooltips[e])}for(w=0;w<t.gtTooltipData.length;w++){var G={gtTooltipData:t.gtTooltipData[w],applicationId:g,user:v};t["gtTooltipInstance_"+t.gtTooltipData[w].secret_key]=new _gtTooltip(G),t["gtTooltipInstance_"+t.gtTooltipData[w].secret_key].gtStartTooltipConditions()}for(var A=0;A<convertLinkOptionArray.length;A++){C=!0;for(var B=!1,O=0;O<t.gtFormsData.length;O++)if(convertLinkOptionArray[A].form_secret==t.gtFormsData[O].form_secret){B=!0;break}if(!B)if(3===convertLinkOptionArray[A].version){F={cfFormsData:convertLinkOptionArray[A],serverProtocol:_,serverDomain:y,currentVersion:h,applicationId:g,user:v,isFromJSTriggerAPI:!0};t["cfFormInstance_"+convertLinkOptionArray[A].form_secret]||(t["cfFormInstance_"+convertLinkOptionArray[A].form_secret]=new _gtFormView(F)),t["cfFormInstance_"+convertLinkOptionArray[A].form_secret].gtOnclickListener()}else{F={cfFormsData:convertLinkOptionArray[A],serverProtocol:_,serverDomain:y,currentVersion:h,applicationId:g,user:v};t["cfFormInstance_"+convertLinkOptionArray[A].form_secret]=new _formShowConditionPlugin(F),_formShowConditionPlugin.prototype.cfCreateFormIframe(F)}}if(C&&void 0===t.gtliquid){var V=document.createElement("script");V.src=t.gtliquidJsUrl,document.head.appendChild(V),t.gtliquid=!0}}},gtGist.prototype.cfHandleProjectCall=function(){tempThis=this;var e={method:"GET",url:t.gtAwsUrl+"/widget/settings/project_"+gist.options.applicationId+".txt"};_cfCommonFunctions.prototype.gtGistAjaxCall(e,(function(e){if(e.project_details.is_blocked||t.self!==t.top&&e.project_details.is_iframe_blocked)return t.isChatHtmlRendered=!1,gtGist.prototype.reactChat.removeIframeFromWindow(),0;if(!t.gtMobileCssLoaded){t.gtMobileCssLoaded=!0;var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style"),n=".gist-body-fixed { height: 100%; weight: 100%; position: fixed;} .disabled-selection { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; z-index: -1!important; }";i.type="text/css",i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n)),o.appendChild(i)}t.gtProjectSetting=_cfCommonFunctions.prototype.handledOfficeHour(e.project_details),t.gtPromptDetails=e.bots,t.gttriggeredChats=e.triggered_chats,t.announcementData=e.on_going_announcements||[],t.gtBotChats=e.instant_live_bots||[],t.liveForms=e.live_forms,t.gtNewConversationBots=e.new_conversation_live_bots||[],t.gtLauncherPosition=t.gtProjectSetting.chat_setting.launcher_position,t.liveSurveys=e.surveys||[],t.messengerApps=e.messenger_app_preference||{},t.liveTour=e.tours||[],t.messengerTabsData=e.messenger_tabs_data||{},t.messengerDefaults=e.messenger_defaults||{},t.newsCentersData=e.news_centers_data||[],t.liveTooltips=e.tooltips||[],t.location.host.endsWith(t.gtBotPreviewDomain)&&(t.gtPromptDetails=[],t.gttriggeredChats=[],t.announcementData=[],t.gtBotChats=[],t.liveForms=[],t.gtNewConversationBots=[],t.liveSurveys=[],t.messengerApps={},t.liveTour=[],t.liveTooltips=[],t.messengerTabsData={},t.messengerDefaults={},t.newsCentersData=[]),t.gistSDK&&(t.gtPromptDetails=[],t.gttriggeredChats=[],t.announcementData=[],t.gtBotChats=[],t.liveForms=[],t.gtNewConversationBots=[],t.liveSurveys=[],t.liveTour=[]),t.gtProjectSetting.chat_setting.capture_non_gist_forms&&_cfCommonFunctions.prototype.gtNonGistForms(),"left"==t.gtLauncherPosition?null!=t.gtProjectSetting.chat_setting.left_spacing&&null!=t.gtProjectSetting.chat_setting.left_spacing?t.gtChatLeft=t.gtProjectSetting.chat_setting.left_spacing:t.gtChatLeft=0:"right"==t.gtLauncherPosition&&(null!=t.gtProjectSetting.chat_setting.right_spacing&&null!=t.gtProjectSetting.chat_setting.right_spacing?t.gtChatRight=t.gtProjectSetting.chat_setting.right_spacing:t.gtChatRight=0),null!=t.gtProjectSetting.chat_setting.bottom_spacing&&null!=t.gtProjectSetting.chat_setting.bottom_spacing?t.gtChatBottom=t.gtProjectSetting.chat_setting.bottom_spacing:t.gtChatBottom=20;var r=t.location.host,s=t.gtProjectSetting.project_settings.whitelist_domains,a=!1;if(s.length>0)for(var c=0;c<s.length;c++)if(r.endsWith(s[c])){t.cfDefaultHost=s[c],a=!0;break}if(!a)for(var l=0;l<defaultAllowedDomains.length;l++)if(r.endsWith(defaultAllowedDomains[l])){t.cfDefaultHost=defaultAllowedDomains[l];break}tempThis.loadFavicon(),tempThis.initVisualisationMode(),tempThis.initCookie();function d(){let e=_cfCommonFunctions.prototype.gistGetLsValue("session-rate-limit")||[];_cfCommonFunctions.prototype.gistConCookiesToLs("session-rate-limit",[...e,(new Date).getTime()]),tempThis.cfHandlePersonData((function(e,o){if(204==o);else{e&&null!=e.last_heard_from&&"undefined"!=e.last_heard_from&&_cfCommonFunctions.prototype.cfGetIpAddress(e.last_heard_from),t.gtPersonCreated=!0,document.dispatchEvent(t.gtGistReady),""==_cfCommonFunctions.prototype.gistGetLsValue("cf_site_start_time")&&_cfCommonFunctions.prototype.gistConCookiesToLs("cf_site_start_time",t.pageLoadTime),""==_cfCommonFunctions.prototype.gistGetLsValue("cf_site_start_time_for_triggered_chat_purpose")&&_cfCommonFunctions.prototype.gistConCookiesToLs("cf_site_start_time_for_triggered_chat_purpose",Math.round((new Date).getTime()/1e3)),""==_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")?_cfCommonFunctions.prototype.gistConCookiesToLs("cf_page_views",1):_cfCommonFunctions.prototype.gistConCookiesToLs("cf_page_views",parseInt(_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views"))+1),tempThis.checkQueryPrams();let o=gtGist.prototype.getQueryParams;o.hasOwnProperty("gist_survey_id")&&gtGist.prototype.trigger("survey",o.gist_survey_id),"gist_tour_id"in o&&gtGist.prototype.trigger("tour",o.gist_tour_id);var i=_cfCommonFunctions.prototype.checkElementIsExist("queryselector","input[name='cf_random_id']");i&&(i.value=gist.user.anonymousId()),t.gtContactDataSuccess=!0,setTimeout(()=>{gtGist.prototype.checkChatEnabledConditions(!1,!1,"callPersonData")},100)}if(null!=t.gtProjectSetting.live_view_enabled&&t.gtProjectSetting.live_view_enabled){var n=null!=t.gtProjectSetting.ping_interval&&t.gtProjectSetting.ping_interval?1e3*+t.gtProjectSetting.ping_interval:3e4;clearInterval(t.gtLiveViewIntervals),t.gtLiveViewIntervals=setInterval((function(){var e,o,i;!t.gtPageIdeal&(null==navigator.onLine||null!=navigator.onLine&navigator.onLine)&&(e=_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,gist.options.track,gist.options.serverDomain),o=null!=sessionStorage.getItem("gtSessionId")?sessionStorage.getItem("gtSessionId"):_cfCommonFunctions.prototype.gtSetSessionId(),i={method:"GET",url:e+"/projects/"+gist.options.applicationId+"/end_users/ping?random_id="+gist.getCookie("gist_id_"+gist.options.applicationId)+"&open_tab_random_id="+o+"&page_url="+t.location.origin+t.location.pathname+"&page_path="+t.location.pathname+"&title="+(t.gtPageOriginalTitle||document.title),data:"",contentType:"application/json"},_cfCommonFunctions.prototype.gtGistAjaxCall(i,(function(t){}),(function(t){})))}),n),_cfCommonFunctions.prototype.gtAddMultipleListenerToDoc(document,_cfCommonFunctions.prototype.gtHandlerOfListener,!1),_cfCommonFunctions.prototype.gtSetIdealTime()}tempThis.cfHandleEvents(null)}),(function(e){t.isChatHtmlRendered=!1,gtGist.prototype.reactChat.removeIframeFromWindow(),e&&e.status&&e.message&&"failed"==e.status&&"Random has already been taken"==e.message&&(gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,""),tempThis.trackPageView())}))}""!=gtGist.prototype.getGistCookieFromList("cf_user_type")&&_cfCommonFunctions.prototype.gistDeleteCookie(["cf_chat_email_box_conversations","cf_chat_method_status","cf_conversation_identifier","cf_window_resize","cf_welcome_mat_submit_status","cf_default_host","cf_qualification_bot","cf_form_email_id","cf_chat_email_id","cf_uid","cf_user_type"]),""!=gtGist.prototype.getGistCookieFromList("cf_random_id")&&_cfCommonFunctions.prototype.saveExitCooikeToLs(),""!=gtGist.prototype.getCookie("gist_id_"+gist.options.applicationId)&&""!=gtGist.prototype.getGistCookieFromList("cf_random_id")&&_cfCommonFunctions.prototype.gistDeleteCookie(["cf_random_id"]),null!=e.kb_setting&&(t.kbSettings=e.kb_setting,(t.location.hostname==t.kbSettings.custom_domain||t.location.hostname.endsWith("convertfox.help")||t.location.hostname.endsWith("getgist.help"))&&(t.kbViewStatus=!1),null==t.cfDefaultHost&&(t.location.hostname.endsWith("getgist.help")?t.cfDefaultHost="getgist.help":null!=t.kbSettings.domain&&null!=t.kbSettings.domain&&(t.cfDefaultHost=t.kbSettings.domain))),tempThis.getRandomId(gist.options.applicationId)&&!tempThis.rateLimiting("session")?tempThis.cfHandleSession(d):d(),tempThis.checkChatEnabledConditions(!1,!0)&&(tempThis.initChat(),t.gtChatEnabled=!0)}),(function(t){}))},gtGist.prototype.rateLimiting=function(t){const e=this.options.apiConfigure[t];let o=_cfCommonFunctions.prototype.gistGetLsValue(`${t}-rate-limit`)||[];const i=new Date;return!(o.filter(t=>t>=i.getTime()-e.duration).length<e.count)||("session"!==t&&_cfCommonFunctions.prototype.gistConCookiesToLs(`${t}-rate-limit`,[...o,(new Date).getTime()]),!1)},gtGist.prototype.cfHandleContact=function(e,o,i){var n=null!=sessionStorage.getItem("gtSessionId")?sessionStorage.getItem("gtSessionId"):_cfCommonFunctions.prototype.gtSetSessionId(),r=gtGist.prototype.getQueryParams,s={};r.utm_source&&(s.utm_source=r.utm_source),r.utm_medium&&(s.utm_medium=r.utm_medium),r.utm_campaign&&(s.utm_campaign=r.utm_campaign),r.utm_term&&(s.utm_term=r.utm_term),r.utm_content&&(s.utm_content=r.utm_content);var a={page_view:!0,page_url:t.location.href,project_secret_key:gist.options.applicationId,session_data:{screen_width:screen.width,screen_height:screen.height},title:document.title,open_tab_random_id:n,cfBrowserLanguage:t.gtBrowserLanguage,cfPageReferrer:t.location.href,cf_identified:gtGist.prototype.getCookie("gist_identified_"+gist.options.applicationId),utm_data:s},c={method:"POST",url:_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,gist.options.user,gist.options.serverDomain)+"/v1/contacts",data:a,contentType:"application/json",accept:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(c,(function(o){null!=o.data&&null!=o.data.user_type&&(t.gtUserType=o.data.user_type),gist.setCookie("gist_id_"+gist.options.applicationId,o.data.random_id),t.trackPageViewCalled=!0,o.data&&(t.gtContactData=o.data,_cfCommonFunctions.prototype.gtUserdata(o.data),_cfCommonFunctions.prototype.gistConCookiesToLs("contact-data-details",o.data)),!i&&o.data.session_id&&sessionStorage.setItem("gt-session-id",o.data.session_id),e(o.data)}),(function(t){o(t.data)}))},gtGist.prototype.cfHandleSession=function(t){var e={random_id:this.getRandomId(gist.options.applicationId),project_secret_key:gist.options.applicationId,session_data:{screen_width:screen.width,screen_height:screen.height}},o={method:"POST",url:_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,gist.options.user,gist.options.serverDomain)+"/v1/sessions",data:e,contentType:"application/json",accept:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(o,(function(e){e.data.session_id&&sessionStorage.setItem("gt-session-id",e.data.session_id),t()}),(function(e){e&&e.status&&e.errors&&"error"==e.status&&"Uh oh, we couldn't find that random ID. Let's try again!"==e.errors&&(tempThis.resetCookie(),tempThis.trackPageView("chatShutdown"),t())}))},gtGist.prototype.cfHandlePersonData=function(e,o,i){if(gist.options.user&&gist.options.serverDomain)if(gist.getCookie("gist_id_"+gist.options.applicationId)){if(!i&&gist.rateLimiting("contact-data")){let o={};return o.data=_cfCommonFunctions.prototype.gistGetLsValue("contact-data-details"),null!=o.data&&null!=o.data.user_type&&(t.gtUserType=o.data.user_type),t.trackPageViewCalled=!0,o.data&&(t.gtContactData=o.data,_cfCommonFunctions.prototype.gtUserdata(o.data)),o.data.session_id&&sessionStorage.setItem("gt-session-id",o.data.session_id),void e(o.data)}var n={method:"GET",url:_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,gist.options.user,gist.options.serverDomain)+`/v1/contact_data?random_id=${this.getRandomId(gist.options.applicationId)}&project_secret_key=${gist.options.applicationId}`,contentType:"application/json",accept:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(n,(function(o){null!=o.data&&null!=o.data.user_type&&(t.gtUserType=o.data.user_type),t.trackPageViewCalled=!0,o.data&&(t.gtContactData=o.data,i||_cfCommonFunctions.prototype.gtUserdata(o.data),_cfCommonFunctions.prototype.gistConCookiesToLs("contact-data-details",o.data)),!i&&o.data.session_id&&sessionStorage.setItem("gt-session-id",o.data.session_id),e(o.data)}),(function(t){o(t.data)}))}else tempThis.cfHandleContact(e,o)},gtGist.prototype.cfHandleEvents=function(e){var o="",i="",n="",r="",s="",a="",c="",l="",d=!1,m=JSON.parse(sessionStorage.getItem("gt-session-id"));null!=e?(o=e.tagName,a=e.innerHTML,i=e.id,n=e.className,a=_cfCommonFunctions.prototype.cfRemoveStyleAttributeFromElements(a),"input"==o.toLowerCase()?r=e.getAttribute("type"):"a"==o.toLowerCase()?s=e.getAttribute("href"):"form"==o.toLowerCase()&&(c=e.getAttribute("action"),l=e.getAttribute("method"))):d=!0;var p={project_secret_key:gist.options.applicationId,random_id:this.getRandomId(gist.options.applicationId),page_view:d,page_url:t.location.href,custom_event_name:"",request_referrer:document.referrer,event_data:{tag:o,type:r,id:i,class:n,href:s,linkText:a,action:c,title:document.title,method:l},window_width:Math.floor(t.innerWidth),session_id:m},f=_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,"events",gist.options.serverDomain);if(t.trackPageViewCalled&&("a"==o.toLowerCase()||"button"==o.toLowerCase()||"input"==o.toLowerCase()&&"submit"==r.toLocaleLowerCase()||d&&!this.isBot())){var u={method:"POST",url:f+"/event_data",data:p,contentType:"application/json"};let e=2;if(t.gtEventDataTime){e=((new Date).getTime()-t.gtEventDataTime.getTime())/1e3}if(e<=1)return 0;t.gtEventDataTime=new Date,_cfCommonFunctions.prototype.gtGistAjaxCall(u,(function(t){}),(function(e){t.gtEventDataTime=null}))}},gtGist.prototype.isBot=function(){return new RegExp("(googlebot/|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i").test(navigator.userAgent)},gtGist.prototype.initCookie=function(){for(var t=[{key:"gist_identified_"+gist.options.applicationId,value:0}],e=[{key:"cf_chat_open_status",value:JSON.stringify({status:"false",conversationId:"",lastActiveAgentImage:"",lastActiveAgentName:"",lastActiveAgentBackground:""})},{key:"cf_shown_lead_bot_ids",value:""}],o=0;o<e.length;o++)""==_cfCommonFunctions.prototype.gistGetLsValue(e[o].key)&&_cfCommonFunctions.prototype.gistConCookiesToLs(e[o].key,e[o].value);for(var i=0;i<t.length;i++)""==gtGist.prototype.getCookie(t[i].key)&&gtGist.prototype.setCookie(t[i].key,t[i].value)},gtGist.prototype.getChatEnabledConditions=function(e,o){""!=t.gtProjectSetting?e(t.gtProjectSetting):o(!1)},gtGist.prototype.initChat=function(){_cfCommonFunctions.prototype.checkElementIsExist("id","gist-script")||t.gtReactChatIframeLoaded||(new _cfIframeChat).cfChatFunction(gist.options.serverProtocol,gist.options.serverDomain,gist.options.versionNumber,gist.options.applicationId,gist.options.user,t.cfWindowWidth,t.cfWindowHeight)},gtGist.prototype.enableChat=function(e){!function(){var o;function i(){if(t.isQueryParamsCompleted=!0,null!=document.getElementById("gist-app")&&null!=document.getElementById("gist-app")||t.gtReactChatIframeLoaded||t.chatScriptLoaded){if(t.gtReactChatIframeLoaded||e){let r=gistTargetVisitorsConditions.prototype.checkUserTypeConditions({key:"user_type",value:"visitor",condition:"equals"}),s=t.messengerApps[r?"site_visitor_apps":"contact_apps"]||[],a=[];if(s.length)for(let t=0;t<s.length;t++){let[e,o]=_cfCommonFunctions.prototype.cfCheckStaticCondition(s[t].display_conditions);s[t].display_conditions=o,e&&a.push(s[t])}t.filteredMessengerApp=a,clearInterval(o);var i=_cfCommonFunctions.prototype.gistGetLsValue("cf_chat_open_status");if(null!=i&&null!=i&&"undefined"!=i&&("object"==typeof i||"object"!=typeof i&&i.endsWith("}")&&i.startsWith("{"))?"object"==typeof i?i:JSON.parse(_cfCommonFunctions.prototype.gistGetLsValue("cf_chat_open_status")):{status:"false",conversationId:"",lastActiveAgentImage:"",lastActiveAgentName:"",lastActiveAgentBackground:""},e&&gist.chat("show"),t.gtReactChatBubbleLoaded)document.dispatchEvent(t.initGistChat);else var n=setInterval((function(){t.gtReactChatBubbleLoaded&&(clearInterval(n),document.dispatchEvent(t.initGistChat))}),100);t.addEventListener("click",(function(e){var o,i,n,r="",s="";o=_cfCommonFunctions.prototype.cfTargetedElementHavingFormAttribute(e.target,void 0,"data-gist-article"),i=_cfCommonFunctions.prototype.cfTargetedElementHavingFormAttribute(e.target,void 0,"data-gist-article-sidebar"),n=_cfCommonFunctions.prototype.cfTargetedElementHavingFormAttribute(e.target,void 0,"data-gist-article-modal"),o?(r=e.target.getAttribute("data-gist-article"),s="inline"):i?(r=e.target.getAttribute("data-gist-article-sidebar"),s="sidebar"):n&&(r=e.target.getAttribute("data-gist-article-modal"),s="modal"),s&&r&&(t.isGtChatReady?_cfCommonFunctions.prototype.cfChatConArticleMethod(r,s):(clearInterval(t.checkChatReadyInt),t.checkChatReadyInt=setInterval((function(){t.isGtChatReady&&_cfCommonFunctions.prototype.cfChatConArticleMethod(r,s)}),1e3)))}))}}else _cfIframeChat.prototype.cfChatFunction(gist.options.serverProtocol,gist.options.serverDomain,gist.options.versionNumber,gist.options.applicationId,gist.options.user,t.cfWindowWidth,t.cfWindowHeight),t.gtReactChatIframeLoaded=!1}o=setInterval(i,100),i()}()},gtGist.prototype.checkChatShowToLeadsOrUsers=function(){!t.gtProjectSetting.chat_setting.chat_for_users||2!=t.gtUserType&&1!=t.gtUserType?t.gtProjectSetting.chat_setting.chat_for_leads&&0==t.gtUserType?gtGist.prototype.enableChat(!0):gtGist.prototype.reactChat.removeIframeFromWindow():gtGist.prototype.enableChat(!0)},gtGist.prototype.checkChatEnabledConditions=function(e,o){if(""!=t.gtProjectSetting){var i=!1;ipv4Url=RegExp(["^https?://([a-z0-9\\.\\-_%]+:([a-z0-9\\.\\-_%])+?@)?","((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4","][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])?","(:[0-9]+)?(/[^\\s]*)?$"].join(""),"i");var n=[];function r(t,e){return null!=t.disable_path_conditions&&t.disable_path_conditions.length<=0&&null!=t.enable_path_conditions&&t.enable_path_conditions<=0?i=!0:1==(null!=t.disable_path_conditions&&0!=t.disable_path_conditions&&_cfCommonFunctions.prototype.checkSpecificPagesConditions(t.disable_path_conditions,"chatEnabled","OR"))?i=!1:1==(null==t.enable_path_conditions||0==t.enable_path_conditions||_cfCommonFunctions.prototype.checkSpecificPagesConditions(t.enable_path_conditions,"chatEnabled","OR"))&&(i=!0),i}null!=t.gtProjectSetting.chat_setting.path_conditions&&null!=t.gtProjectSetting.chat_setting.path_conditions&&(n=t.gtProjectSetting.chat_setting.path_conditions),null!=t.gtProjectSetting.chat_setting.messenger_path&&null!=t.gtProjectSetting.chat_setting.messenger_path&&(n=t.gtProjectSetting.chat_setting.messenger_path);if(ipv4Url.test(t.location.protocol+"//"+t.location.hostname)||["localhost","127.0.0.1"].includes(location.hostname)||t.gtBotPreviewData||t.isBotPreview){if(o)return!0;gtGist.prototype.enableChat()}else{var s=!0,a=!0,c=!1,l=!1;if(null!=t.gtProjectSetting.chat_setting.enable_chat_in_mobile&&!t.gtProjectSetting.chat_setting.enable_chat_in_mobile&&_cfCommonFunctions.prototype.cfGetMobileStatus()&&(s=!1),null!=t.gtProjectSetting.chat_setting.chat_enabled_on_web&&(t.gtProjectSetting.chat_setting.chat_enabled_on_web||_cfCommonFunctions.prototype.cfGetMobileStatus()||(a=!1)),t.location.hostname==t.kbSettings.custom_domain&&(l=!0,1==t.kbSettings.show_messenger)){if(c=!0,o)return!0;gtGist.prototype.enableChat()}if(t.gtProjectSetting.chat_setting.chat_enabled&&s&&!l&&a){var d=t.location.host;if(null!=t.gtProjectSetting.chat_setting.enabled_path_filter_operator&&t.gtProjectSetting.chat_setting.enabled_path_filter_operator,t.gtProjectSetting.project_settings.whitelist_domains.length>0)for(var m=0;m<t.gtProjectSetting.project_settings.whitelist_domains.length;m++)if(d.endsWith(t.gtProjectSetting.project_settings.whitelist_domains[m])){r(n)&&(o||tempThis.checkChatShowToLeadsOrUsers(e),c=!0);break}if(!c)for(var p=0;p<defaultAllowedDomains.length;p++)if(d.endsWith(defaultAllowedDomains[p])){r(n)&&(o||tempThis.checkChatShowToLeadsOrUsers(e),c=!0);break}}if(c||(t.isChatHtmlRendered=!1,gtGist.prototype.reactChat.removeIframeFromWindow()),c&&o)return!0}}},r=t.history,s=r.pushState,r.pushState=function(t){return"function"==typeof r.onpushstate&&r.onpushstate({state:t}),s.apply(r,arguments)},gtGist.prototype.initScript=function(){t.pageLoadTime=Math.round((new Date).getTime()/1e3),this.cfHandleProjectCall()},gtGist.prototype.init=function(e,o){t.initCalled||(t.initCalled=!0,this.setAppData(e),o&&(o.target&&(t.getGistAppSelector=o.target),o.isBotPreview&&(t.isBotPreview=o.isBotPreview)),this.initScript())},gtGist.prototype.setAppId=gtGist.prototype.init,gtGist.prototype.trackPageView=function(e){tempThis=this;var o=setInterval(()=>{if(t.gtContactDataSuccess){let i=modifiedIntervals=JSON.parse(localStorage.getItem("trackPageViewIntervals"))||[];for(let t of i)clearInterval(t),modifiedIntervals=modifiedIntervals.filter(e=>e!==t);if(localStorage.setItem("trackPageViewIntervals",JSON.stringify([...modifiedIntervals])),"chatShutdown"!=e){for(let e of t.gtChatBotInterval)clearInterval(e);if(t.gtChatBotInterval=[],t.gtFormsData=[],t.gtSurveyData=[],t.gtTourData=[],t.gtPromptDetails=[],t.gtPromptInitiated=!1,t.chatPromptInitiated=!1,t.gtChatReadAtPageLoad=!1,t.botNotTriggered=!0,t.gtSegmentsCalled=!0,t.initialTrackPageViewCalled){if(tempThis.checkChatEnabledConditions(!1,!0))t.gtChatEnabled=!0,_cfCommonFunctions.prototype.checkElementIsExist("id","gist-script")?gist.chat("show"):(t.isChatIframeReloaded=!0,t.chatScriptLoaded=!1,t.gtReactChatIframeLoaded=!1,t.gtContactData.hasOwnProperty("person_details")||tempThis.cfHandlePersonData((function(){}),(function(){})),gtGist.prototype.initChat());else t.gtChatEnabled=!1;let e=setInterval(()=>{if(t.gtReactChatIframeLoaded){for(let e of t.getPromptIntervals)clearInterval(e);t.pageLoadTime=Math.round((new Date).getTime()/1e3);const e=_cfCommonFunctions.prototype.gistGetLsValue("cf_shown_lead_bot_ids").split("|").map(Number),o=_cfCommonFunctions.prototype.gistGetLsValue("cf_displayed_triggered_chat").split("|").map(Number);_cfCommonFunctions.prototype.getPromptConditions({shownLeadBotIds:e,shownTriggeredChatIds:o,officeHours:t.officeHoursOnline})}},200);t.getPromptIntervals.push(e),""==_cfCommonFunctions.prototype.gistGetLsValue("cf_site_start_time")&&_cfCommonFunctions.prototype.gistConCookiesToLs("cf_site_start_time",t.pageLoadTime),""==_cfCommonFunctions.prototype.gistGetLsValue("cf_site_start_time_for_triggered_chat_purpose")&&_cfCommonFunctions.prototype.gistConCookiesToLs("cf_site_start_time_for_triggered_chat_purpose",Math.round((new Date).getTime()/1e3)),""==_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views")?_cfCommonFunctions.prototype.gistConCookiesToLs("cf_page_views",1):_cfCommonFunctions.prototype.gistConCookiesToLs("cf_page_views",parseInt(_cfCommonFunctions.prototype.gistGetLsValue("cf_page_views"))+1)}let e=gtGist.prototype.getQueryParams;e.hasOwnProperty("gist_survey_id")&&gtGist.prototype.trigger("survey",e.gist_survey_id),"gist_tour_id"in e&&gtGist.prototype.trigger("tour",e.gist_tour_id);var o=_cfCommonFunctions.prototype.checkElementIsExist("queryselector","input[name='cf_random_id']");o&&(o.value=gist.user.anonymousId()),tempThis.cfHandleOutboundMessages(),t.initialTrackPageViewCalled=!0}else if("chatShutdown"==e){t.gtPersonCreated=!1,tempThis.initCookie(),clearInterval(t.gtLiveViewIntervals),_cfCommonFunctions.prototype.gtRemoveMultipleListenerToDoc(document,_cfCommonFunctions.prototype.gtHandlerOfListener,!1);let e=_cfCommonFunctions.prototype.gistGetLsValue("session-rate-limit")||[];_cfCommonFunctions.prototype.gistConCookiesToLs("session-rate-limit",[...e,(new Date).getTime()]),tempThis.cfHandlePersonData((function(e,o){if(204==o||(e&&null!=e.last_heard_from&&"undefined"!=e.last_heard_from&&_cfCommonFunctions.prototype.cfGetIpAddress(e.last_heard_from),t.gtPersonCreated=!0,t.gtSegmentsCalled=!0,gtGist.prototype.checkChatEnabledConditions()),null!=t.gtProjectSetting.live_view_enabled&&t.gtProjectSetting.live_view_enabled){var i=null!=t.gtProjectSetting.ping_interval&&t.gtProjectSetting.ping_interval?1e3*+t.gtProjectSetting.ping_interval:3e4;clearInterval(t.gtLiveViewIntervals),t.gtLiveViewIntervals=setInterval((function(){var e,o,i;!t.gtPageIdeal&(null==navigator.onLine||null!=navigator.onLine&navigator.onLine)&&(e=_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,gist.options.track,gist.options.serverDomain),o=null!=sessionStorage.getItem("gtSessionId")?sessionStorage.getItem("gtSessionId"):_cfCommonFunctions.prototype.gtSetSessionId(),i={method:"GET",url:e+"/projects/"+gist.options.applicationId+"/end_users/ping?random_id="+gist.getCookie("gist_id_"+gist.options.applicationId)+"&open_tab_random_id="+o+"&page_url="+t.location.origin+t.location.pathname+"&page_path="+t.location.pathname,data:"",contentType:"application/json"},_cfCommonFunctions.prototype.gtGistAjaxCall(i,(function(t){}),(function(t){})))}),i),_cfCommonFunctions.prototype.gtAddMultipleListenerToDoc(document,_cfCommonFunctions.prototype.gtHandlerOfListener,!1),_cfCommonFunctions.prototype.gtSetIdealTime()}if(_cfCommonFunctions.prototype.checkElementIsExist("id","gist-app")){var n=new CustomEvent("reactEventFired",{detail:{action:"shutdown",value:{isChatOpen:!1}}});document.dispatchEvent(n)}tempThis.cfHandleEvents(null)}),(function(e){t.isChatHtmlRendered=!1,gtGist.prototype.reactChat.removeIframeFromWindow(),e&&e.status&&e.message&&"failed"==e.status&&"Random has already been taken"==e.message&&(gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,""),tempThis.trackPageView("chatShutdown"))}))}}},10);const i=[...JSON.parse(localStorage.getItem("trackPageViewIntervals"))||[],o];localStorage.setItem("trackPageViewIntervals",JSON.stringify([...i]))},gtGist.prototype.checkQueryPrams=function(){if(tempThis=this,Object.keys(gtGist.prototype.getQueryParams).length>1||""!=Object.keys(gtGist.prototype.getQueryParams)[0]){var e=["email","emailaddress","cfEmail"],o=!0;if(-1!=Object.keys(gtGist.prototype.getQueryParams).indexOf("cf_id"))tempThis.getUserData(gtGist.prototype.getQueryParams.cf_id),o=!1;else for(var i in e)if(-1!=Object.keys(gtGist.prototype.getQueryParams).indexOf(e[i])&&("emailaddress"==e[i]&&(gtGist.prototype.getQueryParams.email=gtGist.prototype.getQueryParams.emailaddress,delete gtGist.prototype.getQueryParams.emailaddress),"cfEmail"==e[i]&&(gtGist.prototype.getQueryParams.email=gtGist.prototype.getQueryParams.cfEmail,delete gtGist.prototype.getQueryParams.cfEmail),_cfCommonFunctions.prototype.checkValidEmail(gtGist.prototype.getQueryParams.email)))return o=!1,void tempThis.identify(gtGist.prototype.getQueryParams,void 0,"url");o&&t.gtChatEnabled&&gtGist.prototype.enableChat()}else gtGist.prototype.removeCfId(),t.gtChatEnabled&&gtGist.prototype.enableChat()},gtGist.prototype.getUserData=function(e){const{serverProtocol:o,serverDomain:i,applicationId:n}=gist.options;tempThis=this;var r={method:"GET",url:o+t.subDomain+i+"/projects/"+n+"/get_person_details?cf_person_data="+e+"&person_random_id="+gist.getCookie("gist_id_"+n),data:"",contentType:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(r,(function(e){t.gtUserType=e.data.user_type_from_random_id,null!=e.data&&null!=e.data.user_type_from_random_id&&0==e.data.user_type_from_random_id?null!=e.data.user_id?tempThis.identify(e.data.user_id,{email:e.data.email}):tempThis.identify(e.data.email,void 0,"cf_id"):(gtGist.prototype.removeCfId(),""!=t.gtProjectSetting?gtGist.prototype.checkChatEnabledConditions(!0):gtGist.prototype.getChatEnabledConditions((function(t){gtGist.prototype.checkChatEnabledConditions(!0)}),(function(t){})))}),(function(t){tempThis.checkChatEnabledConditions(!0)}))},gtGist.prototype.identify=function(e,o,i,n,r){var s=this,a=gist.getCookie("gist_id_"+gist.options.applicationId),c=!1;if(t.trackPageViewCalled){let g=4;if(t.gtIdentifyTime){g=((new Date).getTime()-t.gtIdentifyTime.getTime())/1e3}if(g<=3)return 0;if(null!=e&&"object"==typeof o)if(o.email&&_cfCommonFunctions.prototype.checkValidEmail(o.email)){"cf_id"!=i&&"non_gist_forms"!=i&&(gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,1),localStorage.removeItem(`gt-${gist.options.applicationId}-triggerChat-list`));const m=o.user_hash;void 0!==o.user_hash&&delete o.user_hash;var l={project_secret_key:gist.options.applicationId,email:o.email,user_id:e,user_hash:m,random_id:gist.getCookie("gist_id_"+gist.options.applicationId),identify_data:o,session_data:{screen_width:screen.width,screen_height:screen.height},cfBrowserLanguage:t.gtBrowserLanguage,version:gist.options.versionNumber,random_id_changeable:!0};if("url"==i?(l.identify_type="url",gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)):"cf_id"!=i&&(gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,1),localStorage.removeItem(`gt-${gist.options.applicationId}-triggerChat-list`)),"reloadFalse"==i&&(l.updated_from_chat=!0),"non_gist_forms"==i&&(l.identify_type="non_gist_forms",gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)),""==_cfCommonFunctions.prototype.gistGetLsValue("identify_data"))c=!0;else if(_cfCommonFunctions.prototype.gistGetLsValue("identify_data")){c=(u=_cfCommonFunctions.prototype.gistGetLsValue("identify_data")).id!=l.user_id||!_cfCommonFunctions.prototype.gtCheckObjectEqualStatus(u.traits,l.identify_data)||gtGist.prototype.getGistCookieFromList("user_hash")!==m}if(c){t.gtIdentifyTime=new Date;var d={method:"POST",url:_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,gist.options.user,gist.options.serverDomain)+"/identify",data:l,contentType:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(d,(function(e){_cfCommonFunctions.prototype.gtUserdata(e.data),_cfCommonFunctions.prototype.gistConCookiesToLs("identify_data",{id:l.user_id,traits:l.identify_data}),gtGist.prototype.setCookie("user_hash",m,365),t.gtUserType=e.data.user_type,t.officeHoursInitiated=!1,t.chatPromptInitiated=!1,gtGist.prototype.removeCfId(),null!=e&&null!=e.data&&null!=e.data.random_id&&gist.setCookie("gist_id_"+gist.options.applicationId,e.data.random_id),t.notificationChatOpen=!1,(null==i||"reloadFalse"!=i&&"non_gist_forms"!=i)&&""!=t.gtProjectSetting&&s.cfHandlePersonData((function(){s.checkChatEnabledConditions(!0)}),(function(){s.checkChatEnabledConditions(!0)}),!0),null!=n&&""!=n&&n(e)}),(function(n){t.gtIdentifyTime=null,n&&n.status&&n.message&&"failed"==n.status&&"Random has already been taken"==n.message&&(gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,""),gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0),gtGist.prototype.identify(e,o,i)),n&&n.status&&n.errors&&"error"==n.status&&"Validation failed: Email is invalid"==n.errors&&(gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,a),gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)),null!=r&&""!=r&&r(n)}))}}else null!=r&&""!=r&&r(),console.error("Identify failed. EMAIL is missing in Identify Traits");else if(null==o)if(null!=e&&"object"==typeof e&&_cfCommonFunctions.prototype.checkValidEmail(e.email)){const o=e.user_hash;void 0!==e.user_hash&&delete e.user_hash;l={project_secret_key:gist.options.applicationId,email:e.email,user_hash:o,random_id:gist.getCookie("gist_id_"+gist.options.applicationId),identify_data:e,session_data:{screen_width:screen.width,screen_height:screen.height},cfBrowserLanguage:t.gtBrowserLanguage,version:gist.options.versionNumber,random_id_changeable:!0};if("url"==i?(l.identify_type="url",gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)):"cf_id"!=i&&"non_gist_forms"!=i&&(gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,1),localStorage.removeItem(`gt-${gist.options.applicationId}-triggerChat-list`)),"reloadFalse"==i){var m,p=e,f=(m=Object.keys(p)).indexOf("email");-1!==f&&m.splice(f,1),l.attribute=m[0],l.updated_from_chat=!0}if("non_gist_forms"==i&&(l.identify_type="non_gist_forms",gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)),""==_cfCommonFunctions.prototype.gistGetLsValue("identify_data"))c=!0;else if(_cfCommonFunctions.prototype.gistGetLsValue("identify_data")){c=(u=_cfCommonFunctions.prototype.gistGetLsValue("identify_data")).id!=l.user_id||!_cfCommonFunctions.prototype.gtCheckObjectEqualStatus(u.traits,l.identify_data)||gtGist.prototype.getGistCookieFromList("user_hash")!==o}if(c){t.gtIdentifyTime=new Date;d={method:"POST",url:_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,gist.options.user,gist.options.serverDomain)+"/identify",data:l,contentType:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(d,(function(e){_cfCommonFunctions.prototype.gtUserdata(e.data),_cfCommonFunctions.prototype.gistConCookiesToLs("identify_data",{id:l.user_id,traits:l.identify_data}),gtGist.prototype.setCookie("user_hash",o,365),t.gtUserType=e.data.user_type,t.officeHoursInitiated=!1,t.chatPromptInitiated=!1,gtGist.prototype.removeCfId(),null!=e&&null!=e.data&&null!=e.data.random_id&&gist.setCookie("gist_id_"+gist.options.applicationId,e.data.random_id),t.notificationChatOpen=!1,(null==i||"reloadFalse"!=i&&"non_gist_forms"!=i)&&s.cfHandlePersonData((function(){s.checkChatEnabledConditions(t.cfProjectSetting)}),(function(){s.checkChatEnabledConditions(t.cfProjectSetting)}),!0),null!=n&&""!=n&&n(e)}),(function(o){t.gtIdentifyTime=null,o&&o.status&&o.message&&"failed"==o.status&&"Random has already been taken"==o.message&&(gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,""),gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0),gtGist.prototype.identify(e,void 0,i)),o&&o.status&&o.errors&&"error"==o.status&&"Validation failed: Email is invalid"==o.errors&&(gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,a),gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)),null!=r&&""!=r&&r(o)}))}}else if(_cfCommonFunctions.prototype.checkValidEmail(e)){"cf_id"!=i&&"non_gist_forms"!=i&&(gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,1),localStorage.removeItem(`gt-${gist.options.applicationId}-triggerChat-list`));l={project_secret_key:gist.options.applicationId,email:e,random_id:gist.getCookie("gist_id_"+gist.options.applicationId),identify_data:e,session_data:{screen_width:screen.width,screen_height:screen.height},cfBrowserLanguage:t.gtBrowserLanguage,version:gist.options.versionNumber,random_id_changeable:!0};if("url"==i?(l.identify_type="url",gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)):"cf_id"!=i&&(gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,1),localStorage.removeItem(`gt-${gist.options.applicationId}-triggerChat-list`)),"non_gist_forms"==i&&(l.identify_type="non_gist_forms",gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)),""==_cfCommonFunctions.prototype.gistGetLsValue("identify_data"))c=!0;else if(_cfCommonFunctions.prototype.gistGetLsValue("identify_data")){var u;c=(u=_cfCommonFunctions.prototype.gistGetLsValue("identify_data")).id!=l.user_id||!_cfCommonFunctions.prototype.gtCheckObjectEqualStatus(u.traits,l.identify_data)}if(c){t.gtIdentifyTime=new Date;d={method:"POST",url:_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,gist.options.user,gist.options.serverDomain)+"/identify",data:l,contentType:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(d,(function(e){if(_cfCommonFunctions.prototype.gtUserdata(e.data),_cfCommonFunctions.prototype.gistConCookiesToLs("identify_data",{id:l.user_id,traits:l.identify_data}),t.gtUserType=e.data.user_type,t.officeHoursInitiated=!1,t.chatPromptInitiated=!1,gtGist.prototype.removeCfId(),null!=e&&null!=e.data&&null!=e.data.random_id&&gist.setCookie("gist_id_"+gist.options.applicationId,e.data.random_id),null==i||"reloadFalse"!=i&&"non_gist_forms"!=i){function o(){s.cfHandlePersonData((function(){s.checkChatEnabledConditions(t.cfProjectSetting)}),(function(){s.checkChatEnabledConditions(t.cfProjectSetting)}),!0)}a!==e.data.random_id?s.cfHandleSession(o):o()}null!=n&&""!=n&&n(e)}),(function(o){t.gtIdentifyTime=null,o&&o.status&&o.message&&"failed"==o.status&&"Random has already been taken"==o.message&&(gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,""),gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0),gtGist.prototype.identify(e,void 0,i)),o&&o.status&&o.errors&&"error"==o.status&&"Validation failed: Email is invalid"==o.errors&&(gtGist.prototype.setCookie("gist_id_"+gist.options.applicationId,a),gtGist.prototype.setCookie("gist_identified_"+gist.options.applicationId,0)),null!=r&&""!=r&&r(o)}))}}else null!=r&&""!=r&&r(),console.error("Identify email structure is invalid");else null!=r&&""!=r&&r(),console.error("Identify call structure is invalid");clearInterval(t.identifyClearInterval)}else t.trackPageViewCalled||(clearInterval(t.identifyClearInterval),t.identifyClearInterval=setInterval((function(){t.trackPageViewCalled&&s.identify(e,o)}),1e3))},gtGist.prototype.removeCfId=function(){if(-1!=Object.keys(gtGist.prototype.getQueryParams).indexOf("cf_id")){delete gtGist.prototype.getQueryParams.cf_id;var e=gtGist.prototype.cfRemoveURLParameter(t.location.href,"cf_id");t.history.pushState({urlPath:e},"",e)}},gtGist.prototype.cfRemoveURLParameter=function(t,e){var o=t.split("?");if(o.length>=2){for(var i=encodeURIComponent(e)+"=",n=o[1].split(/[&;]/g),r=n.length;r-- >0;)-1!==n[r].lastIndexOf(i,0)&&n.splice(r,1);return t=o[0]+(n.length>0?"?"+n.join("&"):"")}return t},gtGist.prototype.track=function(e,o){var i=JSON.parse(sessionStorage.getItem("gt-session-id"));if(t.trackPageViewCalled&&null!=e&&"string"==typeof e){null!=o&&"object"==typeof o||(o={});var n={project_secret_key:gist.options.applicationId,random_id:gist.getCookie("gist_id_"+gist.options.applicationId),page_view:!1,page_url:t.location.href,title:document.title,custom_event_name:e,event_data:o,window_width:Math.floor(t.innerWidth),session_id:i},r={method:"POST",url:_cfCommonFunctions.prototype.cfConstructBasicUrl(gist.options.serverProtocol,"events",gist.options.serverDomain)+"/event_data",data:n,contentType:"application/json"};_cfCommonFunctions.prototype.gtGistAjaxCall(r,(function(t){}),(function(){}))}}}())}(window);